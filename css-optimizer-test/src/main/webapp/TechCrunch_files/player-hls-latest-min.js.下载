// Copyright (c) 2016 comScore, Inc.
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.ns_=b(a.ns_)}):"object"==typeof module&&module.exports?module.exports=b():a.ns_=b(a.ns_)}(this,function(a){a=a||{},a.ns_=a;var b={uid:function(){var a=1;return function(){return+new Date+"_"+a++}}(),filter:function(a,b){var c={};for(var d in b)b.hasOwnProperty(d)&&a(b[d])&&(c[d]=b[d]);return c},extend:function(a){var b,c=arguments.length;a=a||{};for(var d=1;c>d;d++)if(b=arguments[d])for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a},getString:function(a,b){var c=String(a);return null==a?b||"na":c},getLong:function(a,b){var c=Number(a);return null==a||isNaN(c)?b||0:c},getInteger:function(a,b){var c=Number(parseInt(a));return null==a||isNaN(c)?b||0:c},getBoolean:function(a,b){var c="true"==String(a).toLowerCase();return null==a?b||!1:c},parseBoolean:function(a,b){return b=b||!1,a?"0"==a?!1:void 0:b},isNotEmpty:function(a){return!this.isEmpty(a)},isEmpty:function(a){return void 0===a||null===a||""===a||a instanceof Array&&0===a.length},indexOf:function(a,b){var c=-1;return this.forEach(b,function(b,d){b==a&&(c=d)}),c},forEach:function(a,b,c){try{if("function"==typeof b)if(c="undefined"!=typeof c?c:null,"number"!=typeof a.length||"undefined"==typeof a[0]){var d="undefined"!=typeof a.__proto__;for(var e in a)a.hasOwnProperty(e)&&(!d||d&&"undefined"==typeof a.__proto__[e])&&"function"!=typeof a[e]&&b.call(c,a[e],e)}else for(var f=0,g=a.length;g>f;f++)b.call(c,a[f],f)}catch(h){}},regionMatches:function(a,b,c,d,e){if(0>b||0>d||b+e>a.length||d+e>c.length)return!1;for(;--e>=0;){var f=a.charAt(b++),g=c.charAt(d++);if(f!=g)return!1}return!0},size:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b},log:function(a,b){if("undefined"!=typeof b&&b&&"undefined"!=typeof console&&console){var c=new Date,d=c.getHours()+":"+c.getMinutes()+":"+c.getSeconds();console.log(d,a)}},isTrue:function(a){return"undefined"==typeof a?!1:"string"==typeof a?(a=a.toLowerCase(),"true"===a||"1"===a||"on"===a):!!a},toString:function(a){if("undefined"==typeof a)return"undefined";if("string"==typeof a)return a;if("[object Array]"===Object.prototype.toString.call(a))return a.join(",");if(this.size(a)>0){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b}return a.toString()},exists:function(a){return"undefined"!=typeof a&&null!=a},firstGreaterThan0:function(){for(var a=0,b=arguments.length;b>a;a++){var c=arguments[a];if(c>0)return c}return 0},cloneObject:function(a){if(null==a||"object"!=typeof a)return a;var b=function(){function a(){}function b(b){return"object"==typeof b?(a.prototype=b,new a):b}function c(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function d(){this.copiedObjects=[];var a=this;this.recursiveDeepCopy=function(b){return a.deepCopy(b)},this.depth=0}function e(a,b){var c=new d;return b&&(c.maxDepth=b),c.deepCopy(a)}function f(a){return"undefined"!=typeof window&&window&&window.Node?a instanceof Node:"undefined"!=typeof document&&a===document?!0:"number"==typeof a.nodeType&&a.attributes&&a.childNodes&&a.cloneNode}var g=[];return c.prototype={constructor:c,canCopy:function(){return!1},create:function(a){},populate:function(a,b,c){}},d.prototype={constructor:d,maxDepth:256,cacheResult:function(a,b){this.copiedObjects.push([a,b])},getCachedResult:function(a){for(var b=this.copiedObjects,c=b.length,d=0;c>d;d++)if(b[d][0]===a)return b[d][1]},deepCopy:function(a){if(null===a)return null;if("object"!=typeof a)return a;var b=this.getCachedResult(a);if(b)return b;for(var c=0;c<g.length;c++){var d=g[c];if(d.canCopy(a))return this.applyDeepCopier(d,a)}throw new Error("Unable to clone the following object "+a)},applyDeepCopier:function(a,b){var c=a.create(b);if(this.cacheResult(b,c),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return a.populate(this.recursiveDeepCopy,b,c),this.depth--,c}},e.DeepCopier=c,e.deepCopiers=g,e.register=function(a){a instanceof c||(a=new c(a)),g.unshift(a)},e.register({canCopy:function(){return!0},create:function(a){return a instanceof a.constructor?b(a.constructor.prototype):{}},populate:function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Array},create:function(a){return new a.constructor},populate:function(a,b,c){for(var d=0;d<b.length;d++)c.push(a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Date},create:function(a){return new Date(a)}}),e.register({canCopy:function(a){return f(a)},create:function(a){return"undefined"!=typeof document&&a===document?document:a.cloneNode(!1)},populate:function(a,b,c){if("undefined"!=typeof document&&b===document)return document;if(b.childNodes&&b.childNodes.length)for(var d=0;d<b.childNodes.length;d++){var e=a(b.childNodes[d]);c.appendChild(e)}}}),{deepCopy:e}}();return b.deepCopy(a)},safeGet:function(a,b){return b=this.exists(b)?b:"",this.exists(a)?a:b},getBrowserName:function(){if(!navigator)return"";var a,b,c=navigator.userAgent||"",d=navigator.appName||"";return-1!=(b=c.indexOf("Opera"))||-1!=(b=c.indexOf("OPR/"))?d="Opera":-1!=(b=c.indexOf("Android"))?d="Android":-1!=(b=c.indexOf("Chrome"))?d="Chrome":-1!=(b=c.indexOf("Safari"))?d="Safari":-1!=(b=c.indexOf("Firefox"))?d="Firefox":-1!=(b=c.indexOf("IEMobile"))?d="Internet Explorer Mobile":"Microsoft Internet Explorer"==d||"Netscape"==d?d="Internet Explorer":(a=c.lastIndexOf(" ")+1)<(b=c.lastIndexOf("/"))?(d=c.substring(a,b),d.toLowerCase()==d.toUpperCase()&&(d=navigator.appName)):d="unknown",d},getBrowserFullVersion:function(){if(!navigator)return"";var a,b,c,d,e=navigator.userAgent||"",f=navigator.appName||"",g=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(b=e.indexOf("Opera"))?(g=e.substring(b+6),-1!=(b=e.indexOf("Version"))&&(g=e.substring(b+8))):-1!=(b=e.indexOf("OPR/"))?g=e.substring(b+4):-1!=(b=e.indexOf("Android"))?g=e.substring(b+11):-1!=(b=e.indexOf("Chrome"))?g=e.substring(b+7):-1!=(b=e.indexOf("Safari"))?(g=e.substring(b+7),-1!=(b=e.indexOf("Version"))&&(g=e.substring(b+8))):-1!=(b=e.indexOf("Firefox"))?g=e.substring(b+8):"Microsoft Internet Explorer"==f?(d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):"Netscape"==f?(d=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):g=e.lastIndexOf(" ")+1<(b=e.lastIndexOf("/"))?e.substring(b+1):"unknown",g=g.toString(),-1!=(c=g.indexOf(";"))&&(g=g.substring(0,c)),-1!=(c=g.indexOf(" "))&&(g=g.substring(0,c)),-1!=(c=g.indexOf(")"))&&(g=g.substring(0,c)),a=parseInt(""+g,10),isNaN(a)&&(g=""+parseFloat(navigator.appVersion)),g},browserAcceptsLargeURLs:function(){return"undefined"!=typeof window?(null!==window.ActiveXObject,!0):!0},getNamespace:function(){return a.ns_||a}};return a.StreamSense=a.StreamSense||function(){var c=function(){var a="cs_";return function(){var c="undefined"!=typeof localStorage?localStorage:null;b.extend(this,{get:function(b){return c&&c.getItem(a+b)},set:function(b,d){c&&c.setItem(a+b,d)},has:function(b){return c&&c.getItem(a+b)},remove:function(b){c&&c.removeItem(a+b)},clear:function(){for(var b=0;c&&b<c.length;++b){var d=c.key(b);d.substr(0,a.length)===a&&c.removeItem(d)}}})}}(),d=function(a,b){if("undefined"!=typeof Image){var c=new Image;c.onload=function(){b&&b(200),c=null},c.onerror=function(){b&&b(),c=null},c.src=a}},e=function(a,b,c){c&&"undefined"!=typeof setTimeout&&setTimeout(c,0)},f=function(){return{dir:function(){return null},append:function(a,b,c){},write:function(a,b,c){},deleteFile:function(){return!1},read:function(){return null}}}(),g=function(){return{PLATFORM:"generic",httpGet:d,httpPost:e,Storage:c,IO:f,getCrossPublisherId:function(){return null},getAppName:function(){return h.UNKNOWN_VALUE},getAppVersion:function(){return h.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return h.UNKNOWN_VALUE},getPlatformVersion:function(){return h.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return h.UNKNOWN_VALUE},getRuntimeVersion:function(){return h.UNKNOWN_VALUE},getResolution:function(){return h.UNKNOWN_VALUE},getLanguage:function(){return h.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(a,b){return setTimeout(a,b)},clearTimeout:function(a){return clearTimeout(a)},getDeviceArchitecture:function(){return h.UNKNOWN_VALUE},getConnectionType:function(){return h.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return h.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}}}(),h={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};b.jsonObjectToStringDictionary=function(a){var b={};for(var c in a){var d=a[c];null===d||void 0===d?b[c]=d:b[c]=a[c]+""}return b},b.getKeys=function(a,b){var c,d=[];for(c in a)b&&!b.test(c)||!a.hasOwnProperty(c)||(d[d.length]=c);return d},b.fixEventTime=function(a){if(a.ns_ts)return parseInt(a.ns_ts);var b=+new Date;return a.ns_ts=String(b),b},b.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},b.addNewPlaybackInterval=function(a,c,d,e){var f={};if(!(d>=c))return b.cloneObject(a);if(f.start=c,f.end=d,0==a.length)return a.push(f),b.cloneObject(a);var g;for(g=0;g<a.length;g++)if(f.start>=a[g].start&&f.end<=a[g].end)return b.cloneObject(a);var h,i=!1;for(h=0;h<a.length;h++)if(h+1===a.length&&f.start>=a[h].start||f.start>=a[h].start&&f.start<a[h+1].start){a.splice(h+1,0,f),i=!0;break}i||a.splice(0,0,f);var j=[a[0]];for(g=1;g<a.length;g++)j[j.length-1].end+e<a[g].start?j.push(a[g]):j[j.length-1].end<a[g].end&&(j[j.length-1].end=a[g].end);return b.cloneObject(j)};var i=function(){var a=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(b){return a[b]}}}(),j=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),k=function(){var a=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(b){return a[b]}}}(),l={STREAMSENSE_VERSION:"5.1.1.160316",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},m=function(){function a(){function a(){I={},I.ns_st_pt="0",I.ns_st_bt="0",I.ns_st_bc="0",I.ns_st_pc="0",I.ns_st_sq="0",I.ns_st_cl="0",I.ns_st_pn="1",I.ns_st_tp="1",I.ns_st_skc="0",I.ns_st_et="0",I.ns_st_cn="1",I.ns_st_sc="0",I.ns_st_ska="0",I.ns_st_skd="0",I.ns_st_skt="0",I.ns_st_upc="0",I.ns_st_lpc="0",I.ns_st_upa="0",I.ns_st_lpa="0",I.ns_st_ub="0",I.ns_st_br="0",f=!1,e=!1,d=h.UNKNOWN_VALUE,g=NaN,m=0,j=0,i=NaN,n=NaN,p=0,o=0,k=0,s=NaN,q=[],r=[],t=0,u=0,v=0,w=0,x=0,y=0,z=NaN,A=0,B=!1,C=NaN,F=!1,E=0,H=0,D=0,G=0,J=0,K=0,L=0,M=0,N=0}function c(){var a,b,c=0;for(a=0;a<q.length;a++)c+=Math.abs(q[a].end-q[a].start);O.setUniquePlaybackInterval(c);var d=0;for(a=0;a<q.length;a++)b=Math.abs(q[a].end-q[a].start),b>d&&(d=b);O.setLongestPlaybackInterval(d);var e=0;for(a=0;a<r.length;a++)e+=Math.abs(r[a].end-r[a].start);O.setAssetUniquePlaybackInterval(e);var f=0;for(a=0;a<r.length;a++)b=Math.abs(r[a].end-r[a].start),b>f&&(f=b);O.setAssetLongestPlaybackInterval(f)}var d,e,f,g,i,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=this,P=l.INTERVAL_MERGE_TOLERANCE;b.extend(this,{getHash:function(){return d},setHash:function(a){d=a},setPlaybackIntervalMergeTolerance:function(a){P=a},getPlaybackIntervalMergeTolerance:function(){return P},setLabels:function(a){null!=a&&b.extend(I,a)},getLabels:function(){return I},setLabel:function(a,b){var c={};c[a]=b,O.setLabels(c)},getLabel:function(a){return I[a]},getClipNumber:function(){return parseInt(O.getLabel("ns_st_cn"))},setClipNumber:function(a){O.setLabel("ns_st_cn",String(a))},getPartNumber:function(){return parseInt(O.getLabel("ns_st_pn"))},createLabels:function(a){var c=a||{};c.ns_st_dbt=String(O.getBufferingTime()-A),A=O.getBufferingTime(),c.ns_st_det=String(O.getElapsedTime()-o),o=O.getElapsedTime(),c.ns_st_dupc=String(O.getUniquePlaybackInterval()-t),t=O.getUniquePlaybackInterval(),parseInt(c.ns_st_dupc)<0&&(c.ns_st_dupc="0");var d;d=b.exists(c.ns_st_upc)?parseInt(c.ns_st_upc):O.getUniquePlaybackInterval(),c.ns_st_iupc=String(d-u),u=d,parseInt(c.ns_st_iupc)<0&&(c.ns_st_iupc="0"),c.ns_st_dupa=String(O.getAssetUniquePlaybackInterval()-v),v=O.getAssetUniquePlaybackInterval(),parseInt(c.ns_st_dupa)<0&&(c.ns_st_dupa="0");var e;e=b.exists(c.ns_st_upa)?parseInt(c.ns_st_upa):O.getAssetUniquePlaybackInterval(),c.ns_st_iupa=String(e-w),w=e,parseInt(c.ns_st_iupa)<0&&(c.ns_st_iupa="0"),c.ns_st_dlpc=String(O.getLongestPlaybackInterval()-x),x=O.getLongestPlaybackInterval(),parseInt(c.ns_st_dlpc)<0&&(c.ns_st_dlpc="0"),c.ns_st_dlpa=String(O.getAssetLongestPlaybackInterval()-y),y=O.getAssetLongestPlaybackInterval(),parseInt(c.ns_st_dlpa)<0&&(c.ns_st_dlpa="0");var g;return g=b.exists(c.ns_st_pt)?parseInt(c.ns_st_pt):O.getPlaybackTime(),c.ns_st_ipt=String(g-k),k=g,c.ns_st_dpt=String(O.getPlaybackTime()-j),j=O.getPlaybackTime(),c.ns_st_dpc=String(O.getPauses()-J),J=O.getPauses(),c.ns_st_dskc=String(O.getSeeks()-K),K=O.getSeeks(),c.ns_st_dbc=String(O.getBuffers()-L),L=O.getBuffers(),c.ns_st_dskt=String(O.getSeekingTime()-D),D=O.getSeekingTime(),c.ns_st_dska=String(O.getSeekingAmount()-G),G=O.getSeekingAmount(),b.extend(c,O.getLabels()),O.setSeekingDirection(0),f&&(c.ns_st_spc=String(M),c.ns_st_apc=String(N)),f||b.parseBoolean(c.ns_st_sc)||(c.ns_st_sc="1"),c},getVideoTrack:function(){return O.getLabel("ns_st_vt")},setVideoTrack:function(a){O.setLabel("ns_st_vt",String(a))},getAudioTrack:function(){return O.getLabel("ns_st_at")},setAudioTrack:function(a){O.setLabel("ns_st_at",String(a))},getSubtitleTrack:function(){return O.getLabel("ns_st_tt")},setSubtitleTrack:function(a){O.setLabel("ns_st_tt",String(a))},getCDN:function(){return O.getLabel("ns_st_cdn")},setCDN:function(a){O.setLabel("ns_st_cdn",String(a))},getClipPlaybackIntervals:function(){return q},setClipPlaybackIntervals:function(a){q=a},getAssetPlaybackIntervals:function(){return r},getUniquePlaybackInterval:function(){return parseInt(O.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(O.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(a){O.setLabel("ns_st_upa",String(a))},setUniquePlaybackInterval:function(a){O.setLabel("ns_st_upc",String(a))},getLongestPlaybackInterval:function(){return parseInt(O.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(a){O.setLabel("ns_st_lpc",String(a))},getAssetLongestPlaybackInterval:function(){return parseInt(O.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(a){O.setLabel("ns_st_lpa",String(a))},incrementPauses:function(){O.setLabel("ns_st_pc",String(O.getPauses()+1))},incrementSeeks:function(){O.setLabel("ns_st_skc",String(O.getSeeks()+1))},incrementPlayCounter:function(){O.setLabel("ns_st_sq",String(O.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(O.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(O.getLabel("ns_st_bt"))},setBufferingTime:function(a){O.setLabel("ns_st_bt",String(a))},addBufferingTime:function(a){if(!isNaN(z)){var b=O.getBufferingTime();b+=a-z,O.setBufferingTime(b),z=NaN}},setPlaybackStartPosition:function(a){s=parseInt(a)},getPlaybackStartPosition:function(){return s},addInterval:function(a){isNaN(s)||isNaN(a)||(q=b.addNewPlaybackInterval(q,s,a,P),r=b.addNewPlaybackInterval(r,s,a,P),c(),s=NaN)},getElapsedTime:function(){return parseInt(O.getLabel("ns_st_et"))},setElapsedTime:function(a){O.setLabel("ns_st_et",String(a))},addElapsedTime:function(a){if(!isNaN(n)){var b=O.getElapsedTime();b+=a-n,O.setElapsedTime(b),n=NaN}},getElapsedTimestamp:function(){return n},setElapsedTimestamp:function(a){n=a},addPlaybackTime:function(a){if(!isNaN(g)){var b=O.getPlaybackTime();b+=a-g,O.setPlaybackTime(b),g=NaN}},getPlaybackTime:function(){return parseInt(O.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(a){return isNaN(g)||(m+=a-g),m},setPlaybackTimeOffset:function(a){m=a},getPlaybackTimeOffset:function(){return m},setPlaybackTime:function(a){O.setLabel("ns_st_pt",String(a))},getPlaybackTimestamp:function(){return g},setPlaybackTimestamp:function(a){g=a},setPreviousPlaybackTime:function(a){j=a},setPreviousPlaybackTimestamp:function(a){i=a},getBufferingTimestamp:function(){return z},setBufferingTimestamp:function(a){z=a},getPauses:function(){return parseInt(O.getLabel("ns_st_pc"))},setPauses:function(a){O.setLabel("ns_st_pc",String(a))},getSeeks:function(){return parseInt(O.getLabel("ns_st_skc"))},setSeeks:function(a){O.setLabel("ns_st_skc",String(a))},setSeeking:function(a){B=a},isSeeking:function(){return B},setCollectingSeekingTime:function(a){F=a},isCollectingSeekingTime:function(){return F},setClipStarted:function(a){e=a},isClipStarted:function(){return e},setPlaybackStarted:function(a){f=a},isPlaybackStarted:function(){return f},setSeekingTimestamp:function(a){C=a},getSeekingTimestamp:function(){return C},addSeekingTime:function(a){if(!isNaN(C)){var b=O.getSeekingTime();b+=a-C,O.setSeekingTime(b),C=NaN}},getSeekingTime:function(){return parseInt(O.getLabel("ns_st_skt"))},setSeekingTime:function(a){O.setLabel("ns_st_skt",String(a))},setSeekingTimeBeforeEnd:function(a){H=a},getSeekingTimeBeforeEnd:function(){return H},setSeekStartPosition:function(a){E=a},getSeekStartPosition:function(){return E},setSeekingAmount:function(a){O.setLabel("ns_st_ska",String(a))},getSeekingAmount:function(){return parseInt(O.getLabel("ns_st_ska"))},addSeekingAmount:function(a){var b=O.getSeekingAmount();b+=Math.abs(a-E),O.setSeekingAmount(b);var c;E==a?c=0:E>a?c=-1:a>E&&(c=1),O.setSeekingDirection(c),E=0},getSeekingDirection:function(){return parseInt(O.getLabel("ns_st_skd"))},setSeekingDirection:function(a){O.setLabel("ns_st_skd",String(a))},resetClipLifecycleLabels:function(){I.ns_st_pt="0",j=0,k=0,I.ns_st_bt="0",A=0,I.ns_st_bc="0",L=0,I.ns_st_pc="0",J=0,I.ns_st_sq="0",I.ns_st_upa="0",v=0,w=0,I.ns_st_et="0",o=0,I.ns_st_lpa="0",y=0,I.ns_st_skt="0",D=0,I.ns_st_ska="0",G=0,I.ns_st_skc="0",K=0},incrementSegmentPlaybackCounter:function(){M++},incrementClipLoadCounter:function(){O.setLabel("ns_st_sc",String(O.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){N++},setPreviousUniquePlaybackInterval:function(a){t=a},setPreviousEventIndependentUniquePlaybackInterval:function(a){u=a},setPreviousLongestPlaybackInterval:function(a){x=a},resetAssetPlaybackCounters:function(){r=[],O.setAssetUniquePlaybackInterval(0),v=0,w=0,O.setAssetLongestPlaybackInterval(0),y=0},setSegmentPlaybackCounter:function(a){M=a},setClipLoadCounter:function(a){O.setLabel("ns_st_sc",String(a))},setAssetPlaybackCounter:function(a){N=a},setLowestPartNumberPlayed:function(a){p=a},getSegmentPlaybackCounter:function(){return M},getClipLoadCounter:function(){return parseInt(O.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return N},getLowestPartNumberPlayed:function(){return p},getBuffers:function(){return parseInt(O.getLabel("ns_st_bc"))},incrementBufferCount:function(){O.setLabel("ns_st_bc",String(O.getBuffers()+1))},getPreviousBufferingTime:function(){return A}}),a()}return a.resetClip=function(a,b,c){for(var d=a.getLabels(),e={},f=0;c&&f<c.length;++f)d.hasOwnProperty(c[f])&&(e[c[f]]=d[c[f]]);b.setLabels(e),b.setPlaybackIntervalMergeTolerance(a.getPlaybackIntervalMergeTolerance())},a}(),n=function(){function a(){function a(){c=new m,f={},f.ns_st_bp="0",f.ns_st_pa="0",f.ns_st_pp="0",f.ns_st_sp="1",f.ns_st_id=String(+new Date),d=NaN,e=NaN,h={},i=0,g=!1,j=!1,k=0}var c,d,e,f,g,h,i,j,k,l=this;b.extend(this,{resetClip:function(){var a=c;c=new m,m.resetClip(a,c)},hashExists:function(a){return null!=h[a]},storeHash:function(a){h[a]={}},removeHash:function(a){delete h[a]},storeClipPlaybackCounters:function(){for(var a in h)if(h.hasOwnProperty(a)&&h[a].clipNumber===c.getClipNumber()){b.extend(h[a],{segmentPlaybackCounter:c.getSegmentPlaybackCounter(),clipLoadCounter:c.getClipLoadCounter(),assetPlaybackCounter:c.getAssetPlaybackCounter(),lowestPartNumberPlayed:c.getLowestPartNumberPlayed(),seeking:c.isSeeking(),seekingTimeBeforeEnd:c.getSeekingTimeBeforeEnd(),seekingStartPosition:c.getSeekStartPosition(),clipPlaybackIntervals:c.getClipPlaybackIntervals(),uniquePlaybackInterval:c.getUniquePlaybackInterval(),longestPlaybackInterval:c.getLongestPlaybackInterval(),videoTrack:c.getVideoTrack(),audioTrack:c.getAudioTrack(),subtitleTrack:c.getSubtitleTrack(),cdn:c.getCDN()});break}},getStoredClipRegisters:function(a){return h[a]},getClipNumber:function(a){return h[a].clipNumber},getMaxClipNumber:function(){return i},storeClipNumber:function(a,b){h[a].clipNumber=b,b>i&&(i=b)},setLabels:function(a){null!=a&&b.extend(f,a)},getLabels:function(){return f},setLabel:function(a,b){var c={};c[a]=b,l.setLabels(c)},getLabel:function(a){return f[a]},getClip:function(){return c},createLabels:function(a){var d=a||{};return j||(d.ns_st_pb=null!=d.ns_st_pb?d.ns_st_pb:"1"),b.extend(d,l.getLabels()),c.isPlaybackStarted()&&(d.ns_st_ppc=String(k)),d},incrementPlayCounter:function(){l.setLabel("ns_st_sp",String(parseInt(l.getLabel("ns_st_sp"))+1))},incrementPauses:function(){l.setLabel("ns_st_pp",String(l.getPauses()+1))},addPlaybackTime:function(a){if(!isNaN(e)){var b=l.getPlaybackTime();b+=a-e,l.setPlaybackTime(b),e=NaN}},addBufferingTime:function(a){if(!isNaN(d)){var b=l.getBufferingTime();b+=a-d,l.setBufferingTime(b),d=NaN}},getBufferingTime:function(){return parseInt(l.getLabel("ns_st_bp"))},setBufferingTime:function(a){l.setLabel("ns_st_bp",String(a))},getPlaybackTime:function(){return parseInt(l.getLabel("ns_st_pa"))},setBufferingTimestamp:function(a){d=a},getBufferingTimestamp:function(){return d},setPlaybackTime:function(a){l.setLabel("ns_st_pa",String(a))},setPlaybackTimestamp:function(a){e=a},getPlaybackTimestamp:function(){return e},getPauses:function(){return parseInt(l.getLabel("ns_st_pp"))},setPauses:function(a){l.setLabel("ns_st_pp",String(a))},isPlaylistStarted:function(){return g},setPlaylistStarted:function(a){g=a},getPlaybackCounter:function(){return k},incrementPlaybackCounter:function(){k++},setFirstEventSent:function(a){j=a}}),a()}return a.resetPlaylist=function(b,c,d){for(var e=b.getClip(),f=b.getLabels(),g={},h=0;d&&h<d.length;h++)f.hasOwnProperty(d[h])&&(g[d[h]]=f[d[h]]);c=new a,c.setLabels(g),m.resetClip(e,c.getClip(),d)},a}(),o=function(){return function(a){function c(){e=1}function d(c){f=b.extend({},c);var d=a.getSSECore().getPixelURL();if(a.getAppCore()){if(a.getSSECore().isProperlyInitialized()){var e=a.getSSECore().getExports().am,g=a.getSSECore().getExports().et,h=e.newApplicationMeasurement(a.getAppCore(),g.HIDDEN,c,d);a.getAppCore().getQueue().offer(h)}}else d&&a.getSSECore().getPlatformAPI().httpGet(a.getSSECore().prepareUrl(d,c))}var e,f,g=this;b.extend(this,{newEvent:function(a){d(a.eventLabels),a.eventType!=i.HEARTBEAT&&g.incrementEventCounter()},getEventCounter:function(){return e},incrementEventCounter:function(){e++},setEventCounter:function(a){e=a},getMeasurementSnapshot:function(){return f}}),c()}}(),p=function(){return function(a){function c(){g=0,h=0}function d(){h++;var c={},d=b.fixEventTime(c);c.ns_st_po=String(a.getPlaylist().getClip().getPlaybackTimeOffset()+(d-a.getPlaylist().getClip().getPlaybackTimestamp())),c.ns_st_pa=String(a.getPlaylist().getPlaybackTime()+(d-a.getPlaylist().getPlaybackTimestamp())),c.ns_st_pt=String(a.getPlaylist().getClip().getPlaybackTime()+(d-a.getPlaylist().getClip().getPlaybackTimestamp())),c.ns_st_dpt=String(d-a.getPlaylist().getClip().getPlaybackTimestamp()),a.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK?(c.ns_st_bp=String(a.getPlaylist().getBufferingTime()+(d-a.getPlaylist().getBufferingTimestamp())),c.ns_st_bt=String(a.getPlaylist().getClip().getBufferingTime()+(d-a.getPlaylist().getClip().getBufferingTimestamp())),c.ns_st_dbt=String(d-a.getPlaylist().getClip().getBufferingTimestamp())):c.ns_st_dbt=String(a.getPlaylist().getClip().getBufferingTime()-a.getPlaylist().getClip().getPreviousBufferingTime()),c.ns_st_et=String(a.getPlaylist().getClip().getElapsedTime()+(d-a.getPlaylist().getClip().getElapsedTimestamp())),c.ns_st_det=String(d-a.getPlaylist().getClip().getElapsedTimestamp());var e=b.cloneObject(a.getPlaylist().getClip().getClipPlaybackIntervals()),f=b.cloneObject(a.getPlaylist().getClip().getAssetPlaybackIntervals());e=b.addNewPlaybackInterval(e,a.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(c.ns_st_po),a.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),f=b.addNewPlaybackInterval(f,a.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(c.ns_st_po),a.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var l,m,n=0;for(l=0;l<e.length;l++)n+=Math.abs(e[l].end-e[l].start);c.ns_st_upc=String(n),c.ns_st_dupc=String(n-a.getPlaylist().getClip().getUniquePlaybackInterval());var o=0;for(l=0;l<e.length;l++)m=Math.abs(e[l].end-e[l].start),m>o&&(o=m);c.ns_st_lpc=String(o),c.ns_st_dlpc=String(o-a.getPlaylist().getClip().getLongestPlaybackInterval());var p=0;for(l=0;l<f.length;l++)p+=Math.abs(f[l].end-f[l].start);c.ns_st_upa=String(p),c.ns_st_dupa=String(p-a.getPlaylist().getClip().getAssetUniquePlaybackInterval());var q=0;for(l=0;l<f.length;l++)m=Math.abs(f[l].end-f[l].start),m>q&&(q=m);c.ns_st_lpa=String(q),c.ns_st_dlpa=String(q-a.getPlaylist().getClip().getAssetLongestPlaybackInterval()),c.ns_st_hc=String(a.getHeartbeat().getCount());var r=a.getSSECore().createLabels(i.HEARTBEAT,c,d);a.getEventManager().newEvent(r),g=0,k.resume()}function e(){null!=f&&(a.getSSECore().getPlatformAPI().clearTimeout(f),f=null)}var f,g,h,k=this,m=l.DEFAULT_HEARTBEAT_INTERVAL;b.extend(this,{getCount:function(){return h},setIntervals:function(a){m=a},getInterval:function(a){var b=0;if(null!=m)for(var c=0;c<m.length;c++){var d=m[c],e=d.playingtime;if(!e||e>a){b=d.interval;break}}return b},resume:function(){e();var b=k.getInterval(a.getPlaylist().getClip().getPlaybackTime()+(+new Date-a.getPlaylist().getClip().getPlaybackTimestamp()));if(b>0){var c=g>0?g:b;f=a.getSSECore().getPlatformAPI().setTimeout(d,c)}g=0},pause:function(){e();var b=k.getInterval(a.getPlaylist().getClip().getPlaybackTime()+(+new Date-a.getPlaylist().getClip().getPlaybackTimestamp()));g=b-(a.getPlaylist().getClip().getPlaybackTime()+(+new Date-a.getPlaylist().getClip().getPlaybackTimestamp()))%b}}),c()}}(),q=function(){return function(a){function c(){}function d(){var c={},d=b.fixEventTime(c);c.ns_st_po=String(a.getPlaylist().getClip().getExpectedPlaybackPosition(d)),a.getPlaylist().addPlaybackTime(d),a.getPlaylist().setPlaybackTimestamp(d),a.getPlaylist().getClip().addPlaybackTime(d),a.getPlaylist().getClip().setPlaybackTimestamp(d),a.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK&&(a.getPlaylist().addBufferingTime(d),a.getPlaylist().setBufferingTimestamp(d),a.getPlaylist().getClip().addBufferingTime(d),a.getPlaylist().getClip().setBufferingTimestamp(d)),a.getPlaylist().getClip().addElapsedTime(d),a.getPlaylist().getClip().setElapsedTimestamp(d),a.getPlaylist().getClip().addInterval(parseInt(c.ns_st_po)),a.getPlaylist().getClip().setPlaybackStartPosition(parseInt(c.ns_st_po));
        var e=a.getSSECore().createLabels(i.KEEPALIVE,c,d);a.getEventManager().newEvent(e),g.resume()}function e(){null!=f&&(a.getSSECore().getPlatformAPI().clearTimeout(f),f=null)}var f,g=this,h=l.DEFAULT_KEEP_ALIVE_INTERVAL;b.extend(g,{resume:function(){e(),f=a.getSSECore().getPlatformAPI().setTimeout(d,h)},pause:function(){e()},setInterval:function(a){h=a},getInterval:function(){return h}}),c()}}(),r=function(){return function(a){function c(){f=j.IDLE,e=null,d=NaN}var d,e,f,g=this;b.extend(g,{eventTypeToState:function(a){if(f==j.IDLE){if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK;if(a==i.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK}else if(f==j.PLAYBACK_NOT_STARTED){if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK;if(a==i.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK;if(a==i.END||a==i.AD_SKIP)return j.IDLE}else if(f==j.PLAYING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.BUFFER)return j.BUFFERING_DURING_PLAYBACK;if(a==i.PAUSE)return j.PAUSED;if(a==i.SEEK_START)return j.SEEKING_DURING_PLAYBACK}else if(f==j.PAUSED){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.BUFFER)return j.BUFFERING_DURING_PAUSE;if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_DURING_PAUSE}else if(f==j.BUFFERING_BEFORE_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PAUSE||a==i.BUFFER_STOP)return j.PLAYBACK_NOT_STARTED;if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK}else if(f==j.BUFFERING_DURING_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY||a==i.BUFFER_STOP)return j.PLAYING;if(a==i.PAUSE_ON_BUFFERING)return j.PAUSED_DURING_BUFFERING;if(a==i.SEEK_START)return j.SEEKING_DURING_BUFFERING;if(a==i.PAUSE)return j.PAUSED}else if(f==j.BUFFERING_DURING_SEEKING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.BUFFER_STOP)return j.SEEKING_DURING_PLAYBACK;if(a==i.PAUSE)return j.PAUSED}else if(f==j.BUFFERING_DURING_PAUSE){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_DURING_PAUSE;if(a==i.BUFFER_STOP||a==i.PAUSE)return j.PAUSED}else if(f==j.SEEKING_BEFORE_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PAUSE)return j.PLAYBACK_NOT_STARTED;if(a==i.PLAY)return j.PLAYING;if(a==i.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK}else if(f==j.SEEKING_DURING_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.PAUSE)return j.PAUSED;if(a==i.BUFFER)return j.BUFFERING_DURING_SEEKING}else if(f==j.SEEKING_DURING_BUFFERING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.PAUSE||a==i.BUFFER_STOP)return j.PAUSED}else if(f==j.SEEKING_DURING_PAUSE){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.PAUSE||a==i.BUFFER_STOP)return j.PAUSED;if(a==i.BUFFER)return j.BUFFERING_DURING_PAUSE}else if(f==j.PAUSED_DURING_BUFFERING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.SEEK_START)return j.SEEKING_DURING_BUFFERING;if(a==i.PAUSE)return j.PAUSED;if(a==i.PLAY||a==i.BUFFER_STOP)return j.PLAYING}return null},getCurrentState:function(){return f},newEvent:function(a,b){var c=g.eventTypeToState(a);f!=c&&(e=f,f=c,d=b)},getPreviousState:function(){return e},getLastStateChangeTimestamp:function(){return d}}),c()}}(),s=function(){return function(a){var c=this;b.extend(c,{onSeekStartWhenPausedOrBufferingDuringPause:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()?a.getPlaylist().getClip().isCollectingSeekingTime()||(a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().getClip().setCollectingSeekingTime(!0)):a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().isSeeking()||(a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(b,c){a.getPlaylist().setBufferingTimestamp(b),a.getPlaylist().getClip().setBufferingTimestamp(b)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(b,c){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(b,c){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),t=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onBufferStop:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()?a.getPlaylist().getClip().isCollectingSeekingTime()||(a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().getClip().setCollectingSeekingTime(!0)):a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().isSeeking()||(a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b))},onPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().isPlaylistStarted()||(a.getPlaylist().setPlaylistStarted(!0),a.getPlaylist().incrementPlaybackCounter()),a.getPlaylist().getClip().setClipStarted(!0),a.getPlaylist().getClip().setPlaybackStarted(!0),a.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==a.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)<=a.getPlaylist().getClip().getLowestPartNumberPlayed())&&(a.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)),a.getPlaylist().getClip().incrementAssetPlaybackCounter(),a.getPlaylist().getClip().resetAssetPlaybackCounters()),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),u=function(){return function(a){var c=this;b.extend(c,{onEndAndSkip:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b)},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),v=function(){return function(a){var c=this;b.extend(c,{onPauseOnBuffering:function(b,c){var d=parseInt(c.ns_st_po);a.getSSECore().stopPausedOnBufferingTimer(),a.getHeartbeat().pause(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e),a.getPlaylist().setBufferingTimestamp(b),a.getPlaylist().getClip().setBufferingTimestamp(b),a.getPlaylist().getClip().setPlaybackTimeOffset(d)},onBufferStop:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b)},onEndOrAdSkip:function(c,d){var e=parseInt(d.ns_st_po);a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().addPlaybackTime(c),a.getPlaylist().getClip().addElapsedTime(c),a.getPlaylist().getClip().addInterval(e);var f=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(f),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e)},onPause:function(b,c){var d=parseInt(c.ns_st_po);a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e)},onPlay:function(b,c){a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b)}})}}(),w=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses(),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),x=function(){return function(a){var c=this;b.extend(c,{onBuffer:function(b,c){a.getPlaylist().getClip().setSeekingTime(a.getPlaylist().getClip().getSeekingTimeBeforeEnd()),a.getPlaylist().setBufferingTimestamp(b),a.getPlaylist().getClip().setBufferingTimestamp(b)},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().setSeekingTime(a.getPlaylist().getClip().getSeekingTimeBeforeEnd()),a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b)},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().setSeekingTime(a.getPlaylist().getClip().getSeekingTimeBeforeEnd()),a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().isPlaylistStarted()||(a.getPlaylist().setPlaylistStarted(!0),a.getPlaylist().incrementPlaybackCounter()),a.getPlaylist().getClip().setClipStarted(!0),a.getPlaylist().getClip().setPlaybackStarted(!0),a.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==a.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(a.getPlaylist().getClip().getLabel("ns_st_pn"))<=a.getPlaylist().getClip().getLowestPartNumberPlayed())&&(a.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(a.getPlaylist().getClip().getLabel("ns_st_pn"))),a.getPlaylist().getClip().incrementAssetPlaybackCounter(),a.getPlaylist().getClip().resetAssetPlaybackCounters()),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),y=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),z=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onBufferStop:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()?a.getPlaylist().getClip().isCollectingSeekingTime()||(a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().getClip().setCollectingSeekingTime(!0)):a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().isSeeking()||(a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b))},onPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses()},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),A=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()?a.getPlaylist().getClip().setSeekingTimestamp(b):a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().isSeeking()||(a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().isPlaylistStarted()||(a.getPlaylist().setPlaylistStarted(!0),a.getPlaylist().incrementPlaybackCounter()),a.getPlaylist().getClip().setClipStarted(!0),a.getPlaylist().getClip().setPlaybackStarted(!0),a.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==a.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)<=a.getPlaylist().getClip().getLowestPartNumberPlayed())&&(a.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)),a.getPlaylist().getClip().incrementAssetPlaybackCounter(),a.getPlaylist().getClip().resetAssetPlaybackCounters()),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),B=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){var e=parseInt(d.ns_st_po);a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addPlaybackTime(c),a.getPlaylist().getClip().addPlaybackTime(c),a.getPlaylist().getClip().addElapsedTime(c),a.getPlaylist().getClip().addInterval(e);var f=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(f),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onBuffer:function(b,c){a.getSSECore().isPauseOnBufferingEnabled()&&a.getSSECore().startPausedOnBufferingTimer(b,c),a.getPlaylist().getClip().incrementBufferCount(),a.getPlaylist().setBufferingTimestamp(b),a.getPlaylist().getClip().setBufferingTimestamp(b)},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getHeartbeat().pause(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e)},onPause:function(b,c){var d=parseInt(c.ns_st_po);a.getHeartbeat().pause(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e)}})}}(),C=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPause:function(b,c){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().isPlaylistStarted()||(a.getPlaylist().setPlaylistStarted(!0),a.getPlaylist().incrementPlaybackCounter()),a.getPlaylist().getClip().setClipStarted(!0),a.getPlaylist().getClip().setPlaybackStarted(!0),a.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==a.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)<=a.getPlaylist().getClip().getLowestPartNumberPlayed())&&(a.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)),a.getPlaylist().getClip().incrementAssetPlaybackCounter(),a.getPlaylist().getClip().resetAssetPlaybackCounters()),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),D=function(){return function(a){var c=this;b.extend(c,{onPause:function(b,c){a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses(),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),E=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){parseInt(d.ns_st_po);a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),F=function(){return function(){function a(){f=new G(aa),b.getNamespace().comScore?(ba=b.getNamespace().comScore.exports,f.setAppCore(ba.c())):f.setAppCore(null),f.setKeepAlive(new q(f)),
        f.setHeartbeat(new p(f)),f.setEventManager(new o(f)),f.setStateMachine(new r),f.setPlaylist(new n),$={},m=new x(f),F=new y(f),H=new A(f),I=new B(f),J=new t(f),K=new v(f),L=new w(f),M=new u(f),N=new z(f),O=new C(f),P=new D(f),Q=new E(f),R=new s(f),S=!1,T=0,U=+new Date,V=!0,X=!1,Z=[]}function c(a){var b=f.getStateMachine().getCurrentState();if(b==j.IDLE||b==j.PLAYBACK_NOT_STARTED||b==j.BUFFERING_BEFORE_PLAYBACK||b==j.SEEKING_BEFORE_PLAYBACK){if(a==i.PLAY)return!0}else if(b==j.PLAYING){if(a==i.END||a==i.AD_SKIP||a==i.SEEK_START||a==i.PAUSE)return!0}else if(b==j.PAUSED||b==j.BUFFERING_DURING_PAUSE||b==j.SEEKING_DURING_PLAYBACK||b==j.SEEKING_DURING_BUFFERING||b==j.SEEKING_DURING_PAUSE){if(a==i.END||a==i.AD_SKIP||a==i.PLAY)return!0}else if(b==j.BUFFERING_DURING_PLAYBACK){if(a==i.PAUSE_ON_BUFFERING||a==i.END||a==i.AD_SKIP||a==i.SEEK_START||a==i.PAUSE||a==i.PLAY)return!0}else if(b==j.BUFFERING_DURING_SEEKING){if(a==i.END||a==i.AD_SKIP||a==i.PAUSE||a==i.PLAY)return!0}else if(b==j.PAUSED_DURING_BUFFERING&&(a==i.END||a==i.AD_SKIP||a==i.BUFFER_STOP||a==i.PLAY))return!0;return!1}function d(a,b,d){var e=f.getStateMachine().getCurrentState();a==i.AD_SKIP&&!d.hasOwnProperty("ns_st_ui")&&c(a)?d.ns_st_ui="skip":a==i.SEEK_START&&!d.hasOwnProperty("ns_st_ui")&&c(a)&&(d.ns_st_ui="seek"),e==j.IDLE?a==i.BUFFER?m.onBuffer(b,d):a==i.SEEK_START?m.onSeekStart(b,d):a==i.PLAY&&m.onPlay(b,d):e==j.PLAYBACK_NOT_STARTED?a==i.END||a==i.AD_SKIP?H.onEndOrAdSkip(b,d):a==i.SEEK_START?H.onSeekStart(b,d):a==i.PLAY?H.onPlay(b,d):a==i.BUFFER&&R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):e==j.PLAYING?a==i.END||a==i.AD_SKIP?I.onEndOrAdSkip(b,d):a==i.BUFFER?I.onBuffer(b,d):a==i.SEEK_START?I.onSeekStart(b,d):a==i.PAUSE&&I.onPause(b,d):e==j.PAUSED?a==i.END||a==i.AD_SKIP?F.onEndOrAdSkip(b,d):a==i.PLAY?F.onPlay(b,d):a==i.BUFFER?R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==i.SEEK_START&&R.onSeekStartWhenPausedOrBufferingDuringPause(b,d):e==j.BUFFERING_BEFORE_PLAYBACK?a==i.END||a==i.AD_SKIP?J.onEndOrAdSkip(b,d):a==i.BUFFER_STOP?J.onBufferStop(b,d):a==i.SEEK_START?J.onSeekStart(b,d):a==i.PAUSE?J.onPause(b,d):a==i.PLAY&&J.onPlay(b,d):e==j.BUFFERING_DURING_PLAYBACK?a==i.PAUSE_ON_BUFFERING?K.onPauseOnBuffering(b,d):a==i.BUFFER_STOP?K.onBufferStop(b,d):a==i.END||a==i.AD_SKIP?K.onEndOrAdSkip(b,d):a==i.SEEK_START?K.onSeekStart(b,d):a==i.PAUSE?K.onPause(b,d):a==i.PLAY&&K.onPlay(b,d):e==j.BUFFERING_DURING_SEEKING?a==i.END||a==i.AD_SKIP?L.onEndOrAdSkip(b,d):a==i.PAUSE?L.onPause(b,d):a==i.PLAY?L.onPlay(b,d):a==i.BUFFER_STOP&&R.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(b,d):e==j.BUFFERING_DURING_PAUSE?a==i.END||a==i.AD_SKIP?M.onEndAndSkip(b,d):a==i.PAUSE?M.onPause(b,d):a==i.PLAY?M.onPlay(b,d):a==i.SEEK_START?R.onSeekStartWhenPausedOrBufferingDuringPause(b,d):a==i.BUFFER_STOP&&R.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(b,d):e==j.SEEKING_BEFORE_PLAYBACK?a==i.END||a==i.AD_SKIP?O.onEndOrAdSkip(b,d):a==i.PAUSE?O.onPause(b,d):a==i.PLAY?O.onPlay(b,d):a==i.BUFFER&&R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):e==j.SEEKING_DURING_PLAYBACK?a==i.END||a==i.AD_SKIP?Q.onEndOrAdSkip(b,d):a==i.PLAY?Q.onPlay(b,d):a==i.BUFFER?R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==i.PAUSE&&R.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(b,d):e==j.SEEKING_DURING_BUFFERING?a==i.PAUSE?P.onPause(b,d):a==i.BUFFER?R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==i.PLAY?R.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==i.END||a==i.AD_SKIP?R.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==i.BUFFER_STOP&&R.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):e==j.PAUSED_DURING_BUFFERING?a==i.END||a==i.AD_SKIP?N.onEndOrAdSkip(b,d):a==i.BUFFER_STOP?N.onBufferStop(b,d):a==i.SEEK_START?N.onSeekStart(b,d):a==i.PAUSE?N.onPause(b,d):a==i.PLAY&&N.onPlay(b,d):e==j.SEEKING_DURING_PAUSE&&(a==i.BUFFER?R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==i.PLAY?R.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==i.PAUSE?R.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(b,d):a==i.END||a==i.AD_SKIP?R.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==i.BUFFER_STOP&&R.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(b,d)),c(a)&&f.getPlaylist().setFirstEventSent(!0)}function e(a,c){for(var d,e=ea.encodeURIComponent||escape,f=[],g=l.LABELS_ORDER,h=a.split("?"),i=h[0],j=h[1],k=j.split("&"),m=0,n=k.length;n>m;m++){var o=k[m].split("="),p=unescape(o[0]),q=unescape(o[1]);p&&(c[p]=q)}for(var r={},s=0,t=g.length;t>s;s++){var u=g[s];if(c.hasOwnProperty(u)){var v=c[u];"undefined"!=typeof v&&null!=v&&(r[u]=!0,f.push(e(u)+"="+e(c[u])))}}for(var w in c)if(c.hasOwnProperty(w)){if(r[w])continue;var x=c[w];"undefined"!=typeof x&&null!=x&&f.push(e(w)+"="+e(c[w]))}d=i+"?"+f.join("&"),d=d+(d.indexOf("&c8=")<0?"&c8="+e(fa.title):"")+(d.indexOf("&c7=")<0?"&c7="+e(fa.URL):"")+(d.indexOf("&c9=")<0?"&c9="+e(fa.referrer):"");var y=b.browserAcceptsLargeURLs()?l.URL_LENGTH_LIMIT:l.RESTRICTED_URL_LENGTH_LIMIT;if(d.length>y&&d.indexOf("&")>0){var z=d.substr(0,y-8).lastIndexOf("&");d=(d.substring(0,z)+"&ns_cut="+e(d.substring(z+1))).substr(0,y)}return d}var f,m,F,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa=this,ba={},ca=l.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,da=l.THROTTLING_DELAY;b.extend(aa,{createLabels:function(a,c,d){var e={};if("undefined"!=typeof document){var g=document;e.c7=g.URL,e.c8=g.title,e.c9=g.referrer}return null!=c&&b.extend(e,c),e.ns_ts=null!=e.ns_ts?e.ns_ts:String(+new Date),e.ns_st_ev=null!=e.ns_st_ev?e.ns_st_ev:i.toString(a),e.ns_st_mp=null!=e.ns_st_mp?e.ns_st_mp:l.DEFAULT_PLAYERNAME,e.ns_st_mv=null!=e.ns_st_mv?e.ns_st_mv:l.STREAMSENSE_VERSION,e.ns_st_ub=null!=e.ns_st_ub?e.ns_st_ub:"0",e.ns_st_br=null!=e.ns_st_br?e.ns_st_br:"0",e.ns_st_pn=null!=e.ns_st_pn?e.ns_st_pn:"1",e.ns_st_tp=null!=e.ns_st_tp?e.ns_st_tp:"1",e.ns_st_it=null!=e.ns_st_it?e.ns_st_it:k.toString(k.SINGLE_CLIP),e.ns_st_sv=null!=e.ns_st_sv?e.ns_st_sv:l.STREAMSENSE_VERSION,e.ns_st_smv=null!=e.ns_st_smv?e.ns_st_smv:l.MODEL_VERSION,e.ns_type=null!=e.ns_type?e.ns_type:"hidden",e.ns_st_ec=null!=e.ns_st_ec?e.ns_st_ec:String(f.getEventManager().getEventCounter()),e.ns_st_po=null!=e.ns_st_po?e.ns_st_po:String(f.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(d)),e.ns_st_ki=null!=e.ns_st_ki?e.ns_st_ki:String(f.getKeepAlive().getInterval()),f.getPlaylist().createLabels(e),f.getPlaylist().getClip().createLabels(e),b.extend(e,aa.getLabels()),b.extend(e,c),{eventType:a,eventLabels:e}},newEvent:function(a,b,c,e){aa.stopDelayedTransitionTimer();var g=f.getStateMachine().getCurrentState(),h=f.getStateMachine().eventTypeToState(a);if(null!=h&&h!=g)if(!aa.isThrottlingEnabled()||g!=j.PLAYING&&g!=j.PAUSED||h!=j.PLAYING&&h!=j.PAUSED||e){c.ns_st_po||(f.getStateMachine().getCurrentState()==j.PLAYING&&a==i.BUFFER||f.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK&&a==i.BUFFER_STOP?c.ns_st_po=String(f.getPlaylist().getClip().getPlaybackTimeOffset()+(b-f.getPlaylist().getClip().getPlaybackTimestamp())):c.ns_st_po=String(f.getPlaylist().getClip().getExpectedPlaybackPosition(b))),d(a,b,c);var k=0;isNaN(f.getStateMachine().getLastStateChangeTimestamp())||(k=b-f.getStateMachine().getLastStateChangeTimestamp()),f.getStateMachine().newEvent(a,b);for(var l=0,m=Z.length;m>l;l++)Z[l](g,h,c,k)}else Y=f.getPlatformAPI().setTimeout(function(a,c,d){return function(){aa.newEvent(a,b,d,!0)}}(a,h,c),da)},newPseudoEvent:function(a,b,c){if(a!=i.LOAD&&a!=i.START||f.getStateMachine().getCurrentState()==j.IDLE){a!=i.ERROR||c.ns_st_er||(c.ns_st_er=h.UNKNOWN_VALUE),f.getStateMachine().getCurrentState()!=j.IDLE&&f.getStateMachine().getCurrentState()!=j.PLAYBACK_NOT_STARTED&&f.getStateMachine().getCurrentState()!=j.SEEKING_BEFORE_PLAYBACK&&f.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&(f.getPlaylist().getClip().addElapsedTime(b),f.getPlaylist().getClip().setElapsedTimestamp(b));var d,e,g,k=!0,l=!1;switch(a){case i.BIT_RATE:d="ns_st_br",e="ns_st_pbr",l=!0;break;case i.PLAYBACK_RATE:d="ns_st_rt",e="ns_st_prt",l=!0;break;case i.VOLUME:d="ns_st_vo",e="ns_st_pvo",l=!0;break;case i.WINDOW_STATE:d="ns_st_ws",e="ns_st_pws",l=!0;break;case i.AUDIO:d="ns_st_at",e="ns_st_pat",l=!1;break;case i.VIDEO:d="ns_st_vt",e="ns_st_pvt",l=!1;break;case i.SUBS:d="ns_st_tt",e="ns_st_ptt",l=!1;break;case i.CDN:d="ns_st_cdn",e="ns_st_pcdn",l=!1;break;default:k=!1}if(k&&c.hasOwnProperty(d)&&(l?(aa.getLabels().hasOwnProperty(d)&&(g=aa.getLabels()[d],c[e]=g),aa.setLabel(d,c[d])):(f.getPlaylist().getClip().getLabels().hasOwnProperty(d)&&(g=f.getPlaylist().getClip().getLabels()[d],c[e]=g),f.getPlaylist().getClip().setLabel(d,c[d]))),!k||f.getStateMachine().getCurrentState()==j.PLAYING||f.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK){c.ns_st_po||(c.ns_st_po=String(f.getPlaylist().getClip().getExpectedPlaybackPosition(b))),f.getStateMachine().getCurrentState()!=j.PLAYING&&f.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK||(f.getPlaylist().addPlaybackTime(b),f.getPlaylist().setPlaybackTimestamp(b),f.getPlaylist().getClip().addPlaybackTime(b),f.getPlaylist().getClip().setPlaybackTimestamp(b),f.getPlaylist().getClip().addInterval(parseInt(c.ns_st_po)),f.getPlaylist().getClip().setPlaybackStartPosition(parseInt(c.ns_st_po))),f.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&f.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PAUSE&&f.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK&&f.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_SEEKING||(f.getPlaylist().addBufferingTime(b),f.getPlaylist().setBufferingTimestamp(b),f.getPlaylist().getClip().addBufferingTime(b),f.getPlaylist().getClip().setBufferingTimestamp(b));var m=aa.createLabels(a,c,b);f.getEventManager().newEvent(m)}}},getState:function(){return f.getStateMachine().getCurrentState()},addListener:function(a){Z.push(a)},removeListener:function(a){Z.splice(b.indexOf(a,Z),1)},getLabel:function(a){return $[a]},getLabels:function(){return $},setLabel:function(a,b){null==b?delete $[a]:$[a]=b},setLabels:function(a){for(var b in a)a.hasOwnProperty(b)&&aa.setLabel(b,a[b])},getPlatformAPI:function(){return f.getAppCore()?f.getAppCore().getPlatformAPI():g},getExports:function(){return ba},isProperlyInitialized:function(){var a=f.getAppCore().getAppContext(),b=f.getAppCore().getSalt(),c=f.getAppCore().getPixelURL();return a&&c&&b},setImplementationType:function(a){f.getStateMachine().getCurrentState()!=j.IDLE||a!=k.SINGLE_CLIP&&a!=k.SEGMENTED&&a!=k.REDUCED||f.getPlaylist().setLabel("ns_st_it",k.toString(a))},setThrottlingDelay:function(a){da=a},getThrottlingDelay:function(){return da},isThrottlingEnabled:function(){return X},setThrottlingEnabled:function(a){X=a},isLoadingTimeSent:function(){return S},setLoadingTimeSent:function(a){S=a},getLoadTimeOffset:function(){return T},setLoadTimeOffset:function(a){T=a},getInitTimestamp:function(){return U},setPauseOnBufferingInterval:function(a){ca=a},getPauseOnBufferingInterval:function(){return ca},isPauseOnBufferingEnabled:function(){return V},setPauseOnBufferingEnabled:function(a){V=a},startPausedOnBufferingTimer:function(a,c){aa.stopPausedOnBufferingTimer(),W=aa.getPlatformAPI().setTimeout(function(){var d={},e=b.fixEventTime(d),f=parseInt(c.ns_st_po);d.ns_st_po=String(f+e-a),aa.newEvent(i.PAUSE_ON_BUFFERING,e,d)},ca)},stopPausedOnBufferingTimer:function(){null!=W&&(aa.getPlatformAPI().clearTimeout(W),W=null)},stopDelayedTransitionTimer:function(){Y&&(aa.getPlatformAPI().clearTimeout(Y),Y=null)},setPixelURL:function(a){if(null==a||0==a.length)return null;var b=decodeURIComponent||unescape,c=a.indexOf("?");if(c>=0){if(c<a.length-1){for(var d=a.substring(c+1).split("&"),e=0,f=d.length;f>e;e++){var g=d[e],h=g.split("=");2==h.length?aa.setLabel(h[0],b(h[1])):1==h.length&&aa.setLabel(l.PAGE_NAME_LABEL,b(h[0]))}a=a.substring(0,c+1)}}else a+="?";return _=a},getPixelURL:function(){return _?_:"undefined"!=typeof ns_p&&"string"==typeof ns_p.src?_=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?_=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},getSseSM:function(){return f},resetPlaylist:function(a){var b=f.getPlaylist();f.setPlaylist(new n),n.resetPlaylist(b,f.getPlaylist(),a)},resetHeartbeat:function(){f.getHeartbeat().pause(),f.setHeartbeat(new p(f))},resetKeepAlive:function(){f.getKeepAlive().pause(),f.setKeepAlive(new q(f))}});var ea,fa;b.isBrowser()?(ea=window,fa=document):(ea={},fa={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),b.extend(this,{prepareUrl:e}),a()}}(),G=function(){return function(a){var c,d,e,f,g,h,i=this;b.extend(i,{getAppCore:function(){return c},getSSECore:function(){return a},getEventManager:function(){return d},getStateMachine:function(){return e},getHeartbeat:function(){return f},getKeepAlive:function(){return g},getPlaylist:function(){return h},setAppCore:function(a){c=a},setKeepAlive:function(a){g=a},setHeartbeat:function(a){f=a},setEventManager:function(a){d=a},setStateMachine:function(a){e=a},setPlaylist:function(a){h=a}})}}(),H=function(){return function(a,c){function d(){h=new F,g=!0,a&&k.setLabels(a),c&&k.setPixelURL(c)}function e(a,b){k.notify(i.CUSTOM,a,b)}function f(){g&&h.getSseSM().getStateMachine().getCurrentState()!=j.IDLE&&k.end()}var g,h,k=this,m=l.STANDARD_METADATA_LABELS;b.extend(this,{isProperlyInitialized:function(){return h.isProperlyInitialized()},reset:function(a){var b=h;b.getSseSM().getKeepAlive().pause(),b.getSseSM().getHeartbeat().pause(),h=new F,n.resetPlaylist(b.getSseSM().getPlaylist(),h.getSseSM().getPlaylist(),a)},setPauseOnBufferingInterval:function(a){h.setPauseOnBufferingInterval(a)},getPauseOnBufferingInterval:function(){return h.getPauseOnBufferingInterval()},setKeepAliveInterval:function(a){h.getSseSM().getKeepAlive().setInterval(a)},getKeepAliveInterval:function(){return h.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(a){h.getSseSM().getHeartbeat().setIntervals(a)},play:function(a,b){k.notify(i.PLAY,a,b)},pause:function(a,b){k.notify(i.PAUSE,a,b)},end:function(a,b){k.notify(i.END,a,b)},bufferStart:function(a,b){k.notify(i.BUFFER,a,b)},bufferStop:function(a,b){k.notify(i.BUFFER_STOP,a,b)},load:function(a,b){k.notify(i.LOAD,a,b)},start:function(a,b){k.notify(i.START,a,b)},seekStart:function(a,b){k.notify(i.SEEK_START,a,b)},skipAd:function(a,b){k.notify(i.AD_SKIP,a,b)},callToAction:function(a,b){k.notify(i.CTA,a,b)},error:function(a,b){k.notify(i.ERROR,a,b)},transferPlayback:function(a,b){k.notify(i.TRANSFER,a,b)},drmFail:function(a,b){k.notify(i.DRM_FAILED,a,b)},drmApprove:function(a,b){k.notify(i.DRM_APPROVED,a,b)},drmDeny:function(a,b){k.notify(i.DRM_DENIED,a,b)},changeBitrate:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_br=String(a),k.notify(i.BIT_RATE,d,b)}},changePlaybackRate:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_rt=String(a),k.notify(i.PLAYBACK_RATE,d,b)}},changeVolume:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_vo=String(a),k.notify(i.VOLUME,d,b)}},changeWindowState:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_ws=String(a),k.notify(i.WINDOW_STATE,d,b)}},changeAudio:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_at=String(a),k.notify(i.AUDIO,d,b)}},changeVideo:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_vt=String(a),k.notify(i.VIDEO,d,b)}},changeSubtitle:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_tt=String(a),k.notify(i.SUBS,d,b)}},changeCDN:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_cdn=String(a),k.notify(i.CDN,d,b)}},notify:function(a){var c,d;if(c="object"==typeof arguments[1]?arguments[1]:"object"==typeof arguments[2]?arguments[2]:{},d="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,i.toString(a)){c=b.jsonObjectToStringDictionary(c);var e=b.fixEventTime(c);c.ns_st_po||isNaN(d)||(c.ns_st_po=b.getInteger(d,0).toString()),c.ns_st_po&&h.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(c.ns_st_po)),a==i.PLAY||a==i.PAUSE||a==i.BUFFER||a==i.END||a==i.SEEK_START||a==i.AD_SKIP||a==i.BUFFER_STOP?h.newEvent(a,e,c):h.newPseudoEvent(a,e,c)}},getLabels:function(){return h.getLabels()},getState:function(){return h.getSseSM().getStateMachine().getCurrentState()},setLabels:function(a){h.setLabels(a)},getLabel:function(a){return h.getLabel(a)},setLabel:function(a,b){h.setLabel(a,b)},getLoadTimeOffset:function(){return h.getLoadTimeOffset()},setLoadTimeOffset:function(a){h.setLoadTimeOffset(a)},setPixelURL:function(a){return h.setPixelURL(a)},getPixelURL:function(){return h.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(a){h.setImplementationType(a)},isPauseOnBufferingEnabled:function(){return h.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(a){h.setPauseOnBufferingEnabled(a)},isThrottlingEnabled:function(){return h.isThrottlingEnabled()},setThrottlingEnabled:function(a){h.setThrottlingEnabled(a)},setThrottlingDelay:function(a){h.setThrottlingDelay(a)},getThrottlingDelay:function(){return h.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(a){h.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(a)},getPlaybackIntervalMergeTolerance:function(){return h.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(a,c,d){if(void 0===d&&(d=!0),a=b.jsonObjectToStringDictionary(a),d&&h.getSseSM().getStateMachine().getCurrentState()!==j.IDLE&&k.end(),h.getSseSM().getStateMachine().getCurrentState()==j.IDLE){var e="",f=0;if(null!=a.ns_st_cn)e=String(a.ns_st_cn);else for(var g=0;g<m.length;g++)a[m[g]]&&(e+=m[g]+":"+a[m[g]]+";");var i=h.getSseSM().getPlaylist(),l=i.getClip();l.isClipStarted()?(i.hashExists(l.getHash())||(i.storeHash(l.getHash()),i.storeClipNumber(l.getHash(),l.getClipNumber())),i.storeClipPlaybackCounters(),f=i.hashExists(e)?i.getClipNumber(e):b.exists(a.ns_st_cn)?parseInt(a.ns_st_cn):i.getMaxClipNumber()+1):f=i.hashExists(e)?i.getClipNumber(e):l.getClipNumber(),i.resetClip(),l=i.getClip(),l.setHash(e),l.setClipNumber(f),l.setLabels(a);var n=i.getStoredClipRegisters(e);return n&&(l.setClipStarted(!0),l.setSegmentPlaybackCounter(n.segmentPlaybackCounter),l.setClipLoadCounter(n.clipLoadCounter),l.setAssetPlaybackCounter(n.assetPlaybackCounter),l.setLowestPartNumberPlayed(n.lowestPartNumberPlayed),l.setSeeking(n.seeking),l.setSeekingTimeBeforeEnd(n.seekingTimeBeforeEnd),l.setSeekStartPosition(n.seekingStartPosition),l.setClipPlaybackIntervals(n.clipPlaybackIntervals),l.setUniquePlaybackInterval(n.uniquePlaybackInterval),l.setLongestPlaybackInterval(n.longestPlaybackInterval),l.setVideoTrack(n.videoTrack),l.setAudioTrack(n.audioTrack),l.setSubtitleTrack(n.subtitleTrack),l.setCDN(n.cdn),l.setPreviousUniquePlaybackInterval(n.uniquePlaybackInterval),l.setPreviousEventIndependentUniquePlaybackInterval(n.uniquePlaybackInterval),l.setPreviousLongestPlaybackInterval(n.longestPlaybackInterval)),l.incrementClipLoadCounter(),l.isClipStarted()&&c&&(i.incrementPlayCounter(),i.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(a,c){return void 0===c&&(c=!0),a=b.jsonObjectToStringDictionary(a),c&&h.getSseSM().getStateMachine().getCurrentState()!==j.IDLE&&k.end(),h.getSseSM().getStateMachine().getCurrentState()==j.IDLE?(h.getSseSM().getPlaylist().isPlaylistStarted()&&h.resetPlaylist(),h.getSseSM().getPlaylist().setLabels(a),!0):!1},importState:function(){},exportState:function(){return{}},getVersion:function(){return l.STREAMSENSE_VERSION},addListener:function(a){h.addListener(a)},removeListener:function(a){h.removeListener(a)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),h.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return h.getSseSM().getPlaylist()},setHttpGet:function(a){"function"==typeof a&&(h.getPlatformAPI().httpGet=a)},setHttpPost:function(a){"function"==typeof a&&(h.getPlatformAPI().httpPost=a)},setExitEndEventEnabled:function(a){g=a},isExitEndEventEnabled:function(){return g},getPlatformAPI:function(){return h.getPlatformAPI()}}),b.extend(this,{customNotify:e,viewNotify:function(a,b){a=a||k.getPixelURL(),a&&viewNotify(a,b)}}),b.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",f),window.addEventListener("unload",f)):window.attachEvent&&(window.attachEvent("onbeforeunload",f),window.attachEvent("onunload",f))),d()}}();return function(c){function d(a,b){return x[z]||f(a,b)}function e(){z=-1;for(var b=0;y>=b;b++)if(x.hasOwnProperty(String(b))){z=b;break}return a.StreamSense.activeIndex=z,z}function f(b,c){return b=b||null,c=c||null,b&&"object"==typeof b&&(c=b,b=null),x[++y]=new a.StreamSense(c,b),e(),x[y]}function g(){var b=!1,c=z;if("number"==typeof arguments[0]&&isFinite(arguments[0]))c=arguments[0];else if(arguments[0]instanceof a.StreamSense)for(var d in x)if(x.hasOwnProperty(d)&&x[d]===arguments[0]){c=d;break}return x.hasOwnProperty(String(c))&&(b=x[c],delete x[c],b.reset(),e()),b}function h(a){return a=a||{},d().setPlaylist(a),d().getPlaylist()}function i(a,b,c){return a=a||{},"number"==typeof b&&(a.ns_st_cn=String(b)),d().setClip(a,c),d().getClip()}function j(a,b,c){return"undefined"==typeof a?!1:(c=c||null,b=b||{},d().notify(a,b,c))}function k(a){"undefined"!=typeof a&&d().setLabels(a)}function l(){return d().getLabels()}function m(a){"undefined"!=typeof a&&d().getPlaylist().setLabels(a)}function n(){return d().getPlaylist().getLabels()}function o(a){"undefined"!=typeof a&&d().getClip().setLabels(a)}function p(){return d().getClip().getLabels()}function q(a){return d().reset(a||{})}function r(a){return d().getPlaylist().reset(a||{})}function s(a){return d().getClip().reset(a||{})}function t(a){return a=a||{},d().viewNotify(null,a)}function u(a,b){return arguments.length>2&&(a=arguments[1],b=arguments[2]),a=a||{},"number"==typeof b&&(a.ns_st_po=String(b)),d().customNotify(a,b)}function v(){return d().exportState()}function w(a){d().importState(a)}var x={},y=-1,z=-1;b.extend(c,{activeIndex:z,newInstance:f,"new":f,destroyInstance:g,destroy:g,newPlaylist:h,newClip:i,notify:j,setLabels:k,getLabels:l,setPlaylistLabels:m,getPlaylistLabels:n,setClipLabels:o,getClipLabels:p,resetInstance:q,resetPlaylist:r,resetClip:s,viewEvent:t,customEvent:u,exportState:v,importState:w})}(H),H.PlayerEvents=i,H.InternalStates=j,H.ImplementationType=k,H}(),a.StreamingTag=a.StreamingTag||function(){var c=a.StreamSense,d=(a.StreamSense.PlayerEvents,a.StreamSense.InternalStates||null),e=a.StreamSense.ImplementationType||null,f=null!=a.StreamSense.InternalStates&&null!=a.StreamSense.ImplementationType;return function(){var a={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},g={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},h=function(a){function g(){if(f)if(b.getNamespace().comScore)q=new c,q.setImplementationType(e.REDUCED);else if(b.exists(a))if(r=b.isTrue(a.debug),b.exists(a.customerC2)&&a.customerC2.length>0){var d=a.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");q=new c,q.setPixelURL(d+".scorecardresearch.com/p?c1=2"),q.setLabel("c2",a.customerC2),q.setImplementationType(e.REDUCED)}else r&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}function h(a){b.exists(a)||(a={});for(var c in t)t.hasOwnProperty(c)&&!b.exists(a[t[c]])&&("ns_st_ci"==t[c]?a.ns_st_ci="0":a[t[c]]="*null");return a}function i(a){for(var b in t)if(t.hasOwnProperty(b)&&!j(t[b],o,a))return!1;return!0}function j(a,c,d){if(b.exists(a)&&b.exists(c)&&b.exists(d)){var e=c[a],f=d[a];return b.exists(e)&&b.exists(f)&&e===f}return!1}function k(a){n++;var c={ns_st_cn:String(n),ns_st_pn:"1",ns_st_tp:"0"};b.extend(c,a),q.setClip(c),o=a,q.play()}function l(a){n++,a=h(a);var c={ns_st_cn:String(n),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};b.extend(c,a),q.setClip(c),q.play(),p=!1}function m(a,b){a=h(a),u==s.None&&(u=b),p&&u==b&&i(a)?(q.getClip().setLabels(a),q.getState()!=d.PLAYING&&q.play()):k(a),p=!0,u=b}var n=0,o=null,p=!1,q=null,r=!1,s={None:0,AudioContent:1,VideoContent:2},t=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],u=s.None;b.extend(this,{playAdvertisement:function(){if(q){r&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");var a={ns_st_ct:"va"};l(a)}},playVideoAdvertisement:function(a,c){if(q){var d={ns_st_ct:"va"};c?d.ns_st_ct="va"+c:r&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),a&&b.extend(d,a),l(d)}},playAudioAdvertisement:function(a,c){if(q){var d={ns_st_ct:"aa"};c?d.ns_st_ct="aa"+c:r&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),a&&b.extend(d,a),l(d)}},playContentPart:function(a){if(q){r&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var c={ns_st_ct:"vc"};a&&b.extend(c,a),m(c,s.VideoContent)}},playVideoContentPart:function(a,c){if(q){var d={ns_st_ct:"vc"};c?d.ns_st_ct="vc"+c:r&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),a&&b.extend(d,a),m(d,s.VideoContent)}},playAudioContentPart:function(a,c){if(q){var d={ns_st_ct:"ac"};c?d.ns_st_ct="ac"+c:r&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),a&&b.extend(d,a),m(d,s.AudioContent)}},stop:function(){q&&q.pause()}}),g()};return function(a){}(h),h.ContentType=a,h.AdType=g,h}()}(),a});

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Hls=e():t.Hls=e()}(this,function(){return function(t){function e(i){if(r[i])return r[i].exports;var a=r[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=8)}([function(t,e,r){"use strict";function i(){}function a(t,e){return e="["+t+"] > "+e}function n(t){var e=self.console[t];return e?function(){for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];i[0]&&(i[0]=a(t,i[0])),e.apply(self.console,i)}:i}function o(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];r.forEach(function(e){u[e]=t[e]?t[e].bind(t):n(e)})}r.d(e,"a",function(){return d}),r.d(e,"b",function(){return h});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={trace:i,debug:i,log:i,warn:i,info:i,error:i},u=l,d=function(t){if(!0===t||"object"===(void 0===t?"undefined":s(t))){o(t,"debug","log","info","warn","error");try{u.log()}catch(t){u=l}}else u=l},h=u},function(t,e,r){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,r){"use strict";r.d(e,"b",function(){return i}),r.d(e,"a",function(){return a});var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},a={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"b",function(){return n});var a=function(){function t(){i(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,r){for(var i=r,a=0;t.isHeader(e,r);){a+=10;a+=t._readSize(e,r+6),t.isFooter(e,r+10)&&(a+=10),r+=a}if(a>0)return e.subarray(i,i+a)},t._readSize=function(t,e){var r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,r|=(127&t[e+2])<<7,r|=127&t[e+3]},t.getTimeStamp=function(e){for(var r=t.getID3Frames(e),i=0;i<r.length;i++){var a=r[i];if(t.isTimeStampFrame(a))return t._readTimeStamp(a)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var r=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4);return{type:r,size:i,data:e.subarray(10,10+i)}},t.getID3Frames=function(e){for(var r=0,i=[];t.isHeader(e,r);){var a=t._readSize(e,r+6);r+=10;for(var n=r+a;r+8<n;){var o=t._getFrameData(e.subarray(r)),s=t._decodeFrame(o);s&&i.push(s),r+=o.size+10}t.isFooter(e,r)&&(r+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),r=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var r=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(r.length+1));return{key:e.type,info:r,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var r=1,i=t._utf8ArrayToStr(e.data.subarray(r));r+=i.length+1;var a=t._utf8ArrayToStr(e.data.subarray(r));return{key:e.type,info:i,data:a}}var n=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:n}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var r=1,i=t._utf8ArrayToStr(e.data.subarray(r));r+=i.length+1;var a=t._utf8ArrayToStr(e.data.subarray(r));return{key:e.type,info:i,data:a}}var n=t._utf8ArrayToStr(e.data);return{key:e.type,data:n}},t._utf8ArrayToStr=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.length,i=void 0,a=void 0,n=void 0,o="",s=0;s<r;){if(0===(i=t[s++])&&e)return o;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:a=t[s++],o+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=t[s++],n=t[s++],o+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&n)<<0)}}return o},t}(),n=a._utf8ArrayToStr;e.a=a},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,r){i(this,t),this.subtle=e,this.aesIV=r}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),l=s,u=function(){function t(e,r){a(this,t),this.subtle=e,this.key=r}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),d=u,h=function(){function t(){n(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),r=new Uint32Array(4),i=0;i<4;i++)r[i]=e.getUint32(4*i);return r},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,r=this.subMix,i=r[0],a=r[1],n=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],d=s[2],h=s[3],c=new Uint32Array(256),f=0,p=0,g=0;for(g=0;g<256;g++)c[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[f]=v,e[v]=f;var y=c[f],m=c[y],b=c[m],E=257*c[v]^16843008*v;i[f]=E<<24|E>>>8,a[f]=E<<16|E>>>16,n[f]=E<<8|E>>>24,o[f]=E,E=16843009*b^65537*m^257*y^16843008*f,l[v]=E<<24|E>>>8,u[v]=E<<16|E>>>16,d[v]=E<<8|E>>>24,h[v]=E,f?(f=y^c[c[c[b^y]]],p^=c[c[p]]):f=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),r=!0,i=0;i<e.length&&r;)r=e[i]===this.key[i],i++;if(!r){this.key=e;var a=this.keySize=e.length;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size="+a);var n=this.ksRows=4*(a+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(n),u=this.invKeySchedule=new Uint32Array(n),d=this.sBox,h=this.rcon,c=this.invSubMix,f=c[0],p=c[1],g=c[2],v=c[3],y=void 0,m=void 0;for(o=0;o<n;o++)o<a?y=l[o]=e[o]:(m=y,o%a==0?(m=m<<8|m>>>24,m=d[m>>>24]<<24|d[m>>>16&255]<<16|d[m>>>8&255]<<8|d[255&m],m^=h[o/a|0]<<24):a>6&&o%a==4&&(m=d[m>>>24]<<24|d[m>>>16&255]<<16|d[m>>>8&255]<<8|d[255&m]),l[o]=y=(l[o-a]^m)>>>0);for(s=0;s<n;s++)o=n-s,m=3&s?l[o]:l[o-4],u[s]=s<4||o<=4?m:f[d[m>>>24]]^p[d[m>>>16&255]]^g[d[m>>>8&255]]^v[d[255&m]],u[s]=u[s]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,r){for(var i,a,n=this.keySize+6,o=this.invKeySchedule,s=this.invSBox,l=this.invSubMix,u=l[0],d=l[1],h=l[2],c=l[3],f=this.uint8ArrayToUint32Array_(r),p=f[0],g=f[1],v=f[2],y=f[3],m=new Int32Array(t),b=new Int32Array(m.length),E=void 0,T=void 0,R=void 0,A=void 0,S=void 0,L=void 0,_=void 0,w=void 0,D=void 0,I=void 0,k=void 0,O=void 0,C=this.networkToHostOrderSwap;e<m.length;){for(D=C(m[e]),I=C(m[e+1]),k=C(m[e+2]),O=C(m[e+3]),S=D^o[0],L=O^o[1],_=k^o[2],w=I^o[3],i=4,a=1;a<n;a++)E=u[S>>>24]^d[L>>16&255]^h[_>>8&255]^c[255&w]^o[i],T=u[L>>>24]^d[_>>16&255]^h[w>>8&255]^c[255&S]^o[i+1],R=u[_>>>24]^d[w>>16&255]^h[S>>8&255]^c[255&L]^o[i+2],A=u[w>>>24]^d[S>>16&255]^h[L>>8&255]^c[255&_]^o[i+3],S=E,L=T,_=R,w=A,i+=4;E=s[S>>>24]<<24^s[L>>16&255]<<16^s[_>>8&255]<<8^s[255&w]^o[i],T=s[L>>>24]<<24^s[_>>16&255]<<16^s[w>>8&255]<<8^s[255&S]^o[i+1],R=s[_>>>24]<<24^s[w>>16&255]<<16^s[S>>8&255]<<8^s[255&L]^o[i+2],A=s[w>>>24]<<24^s[S>>16&255]<<16^s[L>>8&255]<<8^s[255&_]^o[i+3],i+=3,b[e]=C(E^p),b[e+1]=C(A^g),b[e+2]=C(R^v),b[e+3]=C(T^y),p=D,g=I,v=k,y=O,e+=4}return b.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),c=h,f=r(2),p=r(0),g=function(){function t(e,r){o(this,t),this.observer=e,this.config=r,this.logEnabled=!0;try{var i=crypto||self.crypto;this.subtle=i.subtle||i.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,r,i){var a=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(p.b.log("JS AES decrypt"),this.logEnabled=!1);var n=this.decryptor;n||(this.decryptor=n=new c),n.expandKey(e),i(n.decrypt(t,0,r))}else{this.logEnabled&&(p.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var o=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new d(o,e)),this.fastAesKey.expandKey().then(function(n){new l(o,r).decrypt(t,n).catch(function(n){a.onWebCryptoError(n,t,e,r,i)}).then(function(t){i(t)})}).catch(function(n){a.onWebCryptoError(n,t,e,r,i)})}},t.prototype.onWebCryptoError=function(t,e,r,i,a){this.config.enableSoftwareAES?(p.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,r,i,a)):(p.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:f.b.MEDIA_ERROR,details:f.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=g},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function a(t){return"number"==typeof t}function n(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!a(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,a,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}if(r=this._events[t],o(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(n(r))for(s=Array.prototype.slice.call(arguments,1),u=r.slice(),a=u.length,l=0;l<a;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(t,e){var a;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?n(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,n(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),a||(a=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var a=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,a,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],o=r.length,a=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(n(r)){for(s=o;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],i(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){!function(e){var r=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var a=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");return a.path=o.normalizePath(a.path),o.buildURLFromParts(a)}var n=this.parseURL(e);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return r.alwaysNormalize?(n.path=o.normalizePath(n.path),o.buildURLFromParts(n)):e;var s=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=i.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(u.netLoc=s.netLoc,"/"!==n.path[0]))if(n.path){var d=s.path,h=d.substring(0,d.lastIndexOf("/")+1)+n.path;u.path=o.normalizePath(h)}else u.path=s.path,n.params||(u.params=s.params,n.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(n.path):n.path),o.buildURLFromParts(u)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(a,"");t.length!==(t=t.replace(n,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o}()},function(t,e,r){"use strict";function i(t,e,r,i){var a,n,o,s,l,u=navigator.userAgent.toLowerCase(),d=i,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return a=1+((192&e[r+2])>>>6),(n=(60&e[r+2])>>>2)>h.length-1?void t.trigger(Event.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+n}):(s=(1&e[r+2])<<2,s|=(192&e[r+3])>>>6,w.b.log("manifest codec:"+i+",ADTS data:type:"+a+",sampleingIndex:"+n+"["+h[n]+"Hz],channelConfig:"+s),/firefox/i.test(u)?n>=6?(a=5,l=new Array(4),o=n-3):(a=2,l=new Array(2),o=n):-1!==u.indexOf("android")?(a=2,l=new Array(2),o=n):(a=5,l=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&n>=6?o=n-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(n>=6&&1===s||/vivaldi/i.test(u))||!i&&1===s)&&(a=2,l=new Array(2)),o=n)),l[0]=a<<3,l[0]|=(14&n)>>1,l[1]|=(1&n)<<7,l[1]|=s<<3,5===a&&(l[1]|=(14&o)>>1,l[2]=(1&o)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:h[n],channelCount:s,codec:"mp4a.40."+a,manifestCodec:d})}function a(t,e){return 255===t[e]&&240==(246&t[e+1])}function n(t,e){return 1&t[e+1]?7:9}function o(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function s(t,e){return!!(e+1<t.length&&a(t,e))}function l(t,e){if(e+1<t.length&&a(t,e)){var r=n(t,e),i=r;e+5<t.length&&(i=o(t,e));var s=e+i;if(s===t.length||s+1<t.length&&a(t,s))return!0}return!1}function u(t,e,r,a,n){if(!t.samplerate){var o=i(e,r,a,n);t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,w.b.log("parsed codec:"+t.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}}function d(t){return 9216e4/t}function h(t,e,r,i,a){var s,l,u,d=t.length;if(s=n(t,e),l=o(t,e),(l-=s)>0&&e+s+l<=d)return u=r+i*a,{headerLength:s,frameLength:l,stamp:u}}function c(t,e,r,i,a){var n=d(t.samplerate),o=h(e,r,i,a,n);if(o){var s=o.stamp,l=o.headerLength,u=o.frameLength,c={unit:e.subarray(r+l,r+l+u),pts:s,dts:s};return t.samples.push(c),t.len+=u,{sample:c,length:u+l}}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var S=r(1),L=r(2),_=r(4),w=r(0),D=r(3),I=function(){function t(e,r,i){f(this,t),this.observer=e,this.config=i,this.remuxer=r}return t.prototype.resetInitSegment=function(t,e,r,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=D.a.getID3Data(t,0)||[],r=e.length,i=t.length;r<i;r++)if(l(t,r))return w.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,r,i){for(var a=this._audioTrack,n=D.a.getID3Data(t,0)||[],o=D.a.getTimeStamp(n),l=o?90*o:9e4*e,d=0,h=l,f=t.length,p=n.length,g=[{pts:h,dts:h,data:n}];p<f-1;)if(s(t,p)&&p+5<f){u(a,this.observer,t,p,a.manifestCodec);var v=c(a,t,p,l,d);if(!v){w.b.log("Unable to parse AAC frame");break}p+=v.length,h=v.sample.pts,d++}else D.a.isHeader(t,p)?(n=D.a.getID3Data(t,p),g.push({pts:h,dts:h,data:n}),p+=n.length):p++;this.remuxer.remux(a,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},e,r,i)},t.prototype.destroy=function(){},t}(),k=I,O=Math.pow(2,32)-1,C=function(){function t(e,r){p(this,t),this.observer=e,this.remuxer=r}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,r,i,a){if(e&&e.byteLength){var n=this.initData=t.parseInitSegment(e);null==r&&(r="mp4a.40.5"),null==i&&(i="avc1.42e01e");var o={};n.audio&&n.video?o.audiovideo={container:"video/mp4",codec:r+","+i,initSegment:a?e:null}:(n.audio&&(o.audio={container:"audio/mp4",codec:r,initSegment:a?e:null}),n.video&&(o.video={container:"video/mp4",codec:i,initSegment:a?e:null})),this.observer.trigger(S.a.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else r&&(this.audioCodec=r),i&&(this.videoCodec=i)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var r=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return r<0?4294967296+r:r},t.writeUint32=function(t,e,r){t.data&&(e+=t.start,t=t.data),t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r},t.findBox=function(e,r){var i,a,n,o,s,l,u,d=[];if(e.data?(l=e.start,o=e.end,e=e.data):(l=0,o=e.byteLength),!r.length)return null;for(i=l;i<o;)a=t.readUint32(e,i),n=t.bin2str(e.subarray(i+4,i+8)),u=a>1?i+a:o,n===r[0]&&(1===r.length?d.push({data:e,start:i+8,end:u}):(s=t.findBox({data:e,start:i+8,end:u},r.slice(1)),s.length&&(d=d.concat(s)))),i=u;return d},t.parseInitSegment=function(e){var r=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var i=t.findBox(e,["tkhd"])[0];if(i){var a=i.data[i.start],n=0===a?12:20,o=t.readUint32(i,n),s=t.findBox(e,["mdia","mdhd"])[0];if(s){a=s.data[s.start],n=0===a?12:20;var l=t.readUint32(s,n),u=t.findBox(e,["mdia","hdlr"])[0];if(u){var d=t.bin2str(u.data.subarray(u.start+8,u.start+12)),h={soun:"audio",vide:"video"}[d];if(h){var c=t.findBox(e,["mdia","minf","stbl","stsd"]);if(c.length){c=c[0];var f=t.bin2str(c.data.subarray(c.start+12,c.start+16));w.b.log("MP4Demuxer:"+h+":"+f+" found")}r[o]={timescale:l,type:h},r[h]={timescale:l,id:o}}}}}}),r},t.getStartDTS=function(e,r){var i,a,n;return i=t.findBox(r,["moof","traf"]),a=[].concat.apply([],i.map(function(r){return t.findBox(r,["tfhd"]).map(function(i){var a,n;return a=t.readUint32(i,4),n=e[a].timescale||9e4,t.findBox(r,["tfdt"]).map(function(e){var r,i;return r=e.data[e.start],i=t.readUint32(e,4),1===r&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i})[0]/n})})),n=Math.min.apply(null,a),isFinite(n)?n:0},t.offsetStartDTS=function(e,r,i){t.findBox(r,["moof","traf"]).map(function(r){return t.findBox(r,["tfhd"]).map(function(a){var n=t.readUint32(a,4),o=e[n].timescale||9e4;t.findBox(r,["tfdt"]).map(function(e){var r=e.data[e.start],a=t.readUint32(e,4);if(0===r)t.writeUint32(e,4,a-i*o);else{a*=Math.pow(2,32),a+=t.readUint32(e,8),a-=i*o,a=Math.max(a,0);var n=Math.floor(a/(O+1)),s=Math.floor(a%(O+1));t.writeUint32(e,4,n),t.writeUint32(e,8,s)}})})})},t.prototype.append=function(e,r,i,a){var n=this.initData;n||(this.resetInitSegment(e,this.audioCodec,this.videoCodec),n=this.initData);var o=void 0,s=this.initPTS;if(void 0===s){var l=t.getStartDTS(n,e);this.initPTS=s=l-r,this.observer.trigger(S.a.INIT_PTS_FOUND,{initPTS:s})}t.offsetStartDTS(n,e,s),o=t.getStartDTS(n,e),this.remuxer.remux(n.audio,n.video,null,null,o,i,a,e)},t.prototype.destroy=function(){},t}(),P=C,x={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,r,i,a){if(!(r+24>e.length)){var n=this.parseHeader(e,r);if(n&&r+n.frameLength<=e.length){var o=9e4*n.samplesPerFrame/n.sampleRate,s=i+a*o,l={unit:e.subarray(r,r+n.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=n.channelCount,t.samplerate=n.sampleRate,t.samples.push(l),t.len+=n.frameLength,{sample:l,length:n.frameLength}}}},parseHeader:function(t,e){var r=t[e+1]>>3&3,i=t[e+1]>>1&3,a=t[e+2]>>4&15,n=t[e+2]>>2&3,o=t[e+2]>>1&1;if(1!==r&&0!==a&&15!==a&&3!==n){var s=3===r?3-i:3===i?3:4,l=1e3*x.BitratesMap[14*s+a-1],u=3===r?0:2===r?1:2,d=x.SamplingRateMap[3*u+n],h=t[e+3]>>6==3?1:2,c=x.SamplesCoefficients[r][i],f=x.BytesInSlot[i],p=8*c*f;return{sampleRate:d,channelCount:h,frameLength:parseInt(c*l/d+o,10)*f,samplesPerFrame:p}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var r=this.parseHeader(t,e),i=4;r&&r.frameLength&&(i=r.frameLength);var a=e+i;if(a===t.length||a+1<t.length&&this.isHeaderPattern(t,a))return!0}return!1}},F=x,N=function(){function t(e){g(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,r=t.byteLength-e,i=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");i.set(t.subarray(r,r+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*a,this.bytesAvailable-=a},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,e=t>>3,t-=e>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),r=this.word>>>32-e;return t>32&&w.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),e=t-e,e>0&&this.bitsAvailable?r<<e|this.readBits(e):r},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,r,i=8,a=8;for(e=0;e<t;e++)0!==a&&(r=this.readEG(),a=(i+r+256)%256),i=0===a?i:a},t.prototype.readSPS=function(){var t,e,r,i,a,n,o,s=0,l=0,u=0,d=0,h=this.readUByte.bind(this),c=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(h(),t=h(),c(5),g(3),h(),y(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=f();if(3===b&&g(1),y(),y(),g(1),p())for(n=3!==b?8:12,o=0;o<n;o++)p()&&m(o<6?16:64)}y();var E=f();if(0===E)f();else if(1===E)for(g(1),v(),v(),e=f(),o=0;o<e;o++)v();y(),g(1),r=f(),i=f(),a=c(1),0===a&&g(1),g(1),p()&&(s=f(),l=f(),u=f(),d=f());var T=[1,1];if(p()&&p()){switch(h()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[h()<<8|h(),h()<<8|h()]}}return{width:Math.ceil(16*(r+1)-2*s-2*l),height:(2-a)*(i+1)*16-(a?2:4)*(u+d),pixelRatio:T}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),M=N,U=function(){function t(e,r,i,a){v(this,t),this.decryptdata=i,this.discardEPB=a,this.decrypter=new _.a(e,r)}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,r,i){var a=t[e].unit,n=a.subarray(16,a.length-a.length%16),o=n.buffer.slice(n.byteOffset,n.byteOffset+n.length),s=this;this.decryptBuffer(o,function(n){n=new Uint8Array(n),a.set(n,16),i||s.decryptAacSamples(t,e+1,r)})},t.prototype.decryptAacSamples=function(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,r,i),!i)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e),i=0,a=32;a<=t.length-16;a+=160,i+=16)r.set(t.subarray(a,a+16),i);return r},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var r=0,i=32;i<=t.length-16;i+=160,r+=16)t.set(e.subarray(r,r+16),i);return t},t.prototype.decryptAvcSample=function(t,e,r,i,a,n){var o=this.discardEPB(a.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){a.data=l.getAvcDecryptedUnit(o,s),n||l.decryptAvcSamples(t,e,r+1,i)})},t.prototype.decryptAvcSamples=function(t,e,r,i){for(;;e++,r=0){if(e>=t.length)return void i();for(var a=t[e].units;!(r>=a.length);r++){var n=a[r];if(!(n.length<=48||1!==n.type&&5!==n.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(t,e,r,i,n,o),!o)return}}}},t}(),B=U,G={video:0,audio:1,id3:2,text:3},j=function(){function t(e,r,i,a){y(this,t),this.observer=e,this.config=i,this.typeSupported=a,this.remuxer=r,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new B(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var r=t._syncOffset(e);return!(r<0)&&(r&&w.b.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),r=0;r<e;){if(71===t[r]&&71===t[r+188]&&71===t[r+376])return r;r++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:G[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,r,i,a){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",a),this._audioTrack=t.createTrack("audio",a),this._id3Track=t.createTrack("id3",a),this._txtTrack=t.createTrack("text",a),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=i,this._duration=a},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,r,i,a){var n,o,s,l,u,d=e.length,h=!1;this.contiguous=i;var c=this.pmtParsed,f=this._avcTrack,p=this._audioTrack,g=this._id3Track,v=f.pid,y=p.pid,m=g.pid,b=this._pmtId,E=f.pesData,T=p.pesData,R=g.pesData,A=this._parsePAT,_=this._parsePMT,D=this._parsePES,I=this._parseAVCPES.bind(this),k=this._parseAACPES.bind(this),O=this._parseMPEGPES.bind(this),C=this._parseID3PES.bind(this),P=t._syncOffset(e);for(d-=(d+P)%188,n=P;n<d;n+=188)if(71===e[n]){if(o=!!(64&e[n+1]),s=((31&e[n+1])<<8)+e[n+2],(48&e[n+3])>>4>1){if((l=n+5+e[n+4])===n+188)continue}else l=n+4;switch(s){case v:o&&(E&&(u=D(E))&&I(u,!1),E={data:[],size:0}),E&&(E.data.push(e.subarray(l,n+188)),E.size+=n+188-l);break;case y:o&&(T&&(u=D(T))&&(p.isAAC?k(u):O(u)),T={data:[],size:0}),T&&(T.data.push(e.subarray(l,n+188)),T.size+=n+188-l);break;case m:o&&(R&&(u=D(R))&&C(u),R={data:[],size:0}),R&&(R.data.push(e.subarray(l,n+188)),R.size+=n+188-l);break;case 0:o&&(l+=e[l]+1),b=this._pmtId=A(e,l);break;case b:o&&(l+=e[l]+1);var x=_(e,l,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);v=x.avc,v>0&&(f.pid=v),y=x.audio,y>0&&(p.pid=y,p.isAAC=x.isAAC),m=x.id3,m>0&&(g.pid=m),h&&!c&&(w.b.log("reparse from beginning"),h=!1,n=P-188),c=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(S.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});E&&(u=D(E))?(I(u,!0),f.pesData=null):f.pesData=E,T&&(u=D(T))?(p.isAAC?k(u):O(u),p.pesData=null):(T&&T.size&&w.b.log("last AAC PES packet truncated,might overlap between fragments"),p.pesData=T),R&&(u=D(R))?(C(u),g.pesData=null):g.pesData=R,null==this.sampleAes?this.remuxer.remux(p,f,g,this._txtTrack,r,i,a):this.decryptAndRemux(p,f,g,this._txtTrack,r,i,a)},t.prototype.decryptAndRemux=function(t,e,r,i,a,n,o){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,r,i,a,n,o)})}else this.decryptAndRemuxAvc(t,e,r,i,a,n,o)},t.prototype.decryptAndRemuxAvc=function(t,e,r,i,a,n,o){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,r,i,a,n,o)})}else this.remuxer.remux(t,e,r,i,a,n,o)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,r,i){var a,n,o,s,l={audio:-1,avc:-1,id3:-1,isAAC:!0};for(a=(15&t[e+1])<<8|t[e+2],n=e+3+a-4,o=(15&t[e+10])<<8|t[e+11],e+=12+o;e<n;){switch(s=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){w.b.log("unkown stream type:"+t[e]);break}case 15:-1===l.audio&&(l.audio=s);break;case 21:-1===l.id3&&(l.id3=s);break;case 219:if(!i){w.b.log("unkown stream type:"+t[e]);break}case 27:-1===l.avc&&(l.avc=s);break;case 3:case 4:r?-1===l.audio&&(l.audio=s,l.isAAC=!1):w.b.log("MPEG audio found, not supported in this browser for now");break;case 36:w.b.warn("HEVC stream type found, not supported for now");break;default:w.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return l},t.prototype._parsePES=function(t){var e,r,i,a,n,o,s,l,u=0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var h=new Uint8Array(d[0].length+d[1].length);h.set(d[0]),h.set(d[1],d[0].length),d[0]=h,d.splice(1,1)}if(e=d[0],1===(e[0]<<16)+(e[1]<<8)+e[2]){if((i=(e[4]<<8)+e[5])&&i>t.size-6)return null;r=e[7],192&r&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,o>4294967295&&(o-=8589934592),64&r?(s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,s>4294967295&&(s-=8589934592),o-s>54e5&&(w.b.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),a=e[8],l=a+9,t.size-=l,n=new Uint8Array(t.size);for(var c=0,f=d.length;c<f;c++){e=d[c];var p=e.byteLength;if(l){if(l>p){l-=p;continue}e=e.subarray(l),p-=l,l=0}n.set(e,u),u+=p}return i&&(i-=a+3),{data:n,pts:o,dts:s,len:i}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var r=e.samples,i=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,r.push(t)):e.dropped++}t.debug.length&&w.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var r,i,a,n=this,o=this._avcTrack,s=this._parseAVCNALu(t.data),l=this.avcSample,u=!1,d=this.pushAccesUnit.bind(this),h=function(t,e,r,i){return{key:t,pts:e,dts:r,units:[],debug:i}};t.data=null,l&&s.length&&!o.audFound&&(d(l,o),l=this.avcSample=h(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:i=!0,l||(l=n.avcSample=h(!0,t.pts,t.dts,"")),l.frame=!0;var s=e.data;if(u&&s.length>4){var c=new M(s).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(l.key=!0)}break;case 5:i=!0,l||(l=n.avcSample=h(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:i=!0,r=new M(n.discardEPB(e.data)),r.readUByte();for(var f=0,p=0,g=!1,v=0;!g&&r.bytesAvailable>1;){f=0;do{v=r.readUByte(),f+=v}while(255===v);p=0;do{v=r.readUByte(),p+=v}while(255===v);if(4===f&&0!==r.bytesAvailable){g=!0;if(181===r.readUByte()){if(49===r.readUShort()){if(1195456820===r.readUInt()){if(3===r.readUByte()){var y=r.readUByte(),m=r.readUByte(),b=31&y,E=[y,m];for(a=0;a<b;a++)E.push(r.readUByte()),E.push(r.readUByte()),E.push(r.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:t.pts,bytes:E})}}}}}else if(p<r.bytesAvailable)for(a=0;a<p;a++)r.readUByte()}break;case 7:if(i=!0,u=!0,!o.sps){r=new M(e.data);var T=r.readSPS();o.width=T.width,o.height=T.height,o.pixelRatio=T.pixelRatio,o.sps=[e.data],o.duration=n._duration;var R=e.data.subarray(1,4),A="avc1.";for(a=0;a<3;a++){var S=R[a].toString(16);S.length<2&&(S="0"+S),A+=S}o.codec=A}break;case 8:i=!0,o.pps||(o.pps=[e.data]);break;case 9:i=!1,o.audFound=!0,l&&d(l,o),l=n.avcSample=h(!1,t.pts,t.dts,"");break;case 12:i=!1;break;default:i=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}if(l&&i){l.units.push(e)}}),e&&l&&(d(l,o),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var r=t.length;if(r>0){if(e.pts>=t[r-1].pts)t.push(e);else for(var i=r-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var r=this._avcTrack,i=r.samples;t=i[i.length-1]}if(t){var a=t.units;e=a[a.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e,r,i,a,n,o=0,s=t.byteLength,l=this._avcTrack,u=l.naluState||0,d=u,h=[],c=-1;for(-1===u&&(c=0,n=31&t[0],u=0,o=1);o<s;)if(e=t[o++],u)if(1!==u)if(e)if(1===e){if(c>=0)i={data:t.subarray(c,o-u-1),type:n},h.push(i);else{var f=this._getLastNalUnit();if(f&&(d&&o<=4-d&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-d)),(r=o-u-1)>0)){var p=new Uint8Array(f.data.byteLength+r);p.set(f.data,0),p.set(t.subarray(0,r),f.data.byteLength),f.data=p}}o<s?(a=31&t[o],c=o,n=a,u=0):u=-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;if(c>=0&&u>=0&&(i={data:t.subarray(c,s),type:n,state:u},h.push(i)),0===h.length){var g=this._getLastNalUnit();if(g){var v=new Uint8Array(g.data.byteLength+t.byteLength);v.set(g.data,0),v.set(t,g.data.byteLength),g.data=v}}return l.naluState=u,h},t.prototype.discardEPB=function(t){for(var e,r,i=t.byteLength,a=[],n=1;n<i-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(a.push(n+2),n+=2):n++;if(0===a.length)return t;e=i-a.length,r=new Uint8Array(e);var o=0;for(n=0;n<e;o++,n++)o===a[0]&&(o++,a.shift()),r[n]=t[o];return r},t.prototype._parseAACPES=function(t){var e,r,i,a,n,o=this._audioTrack,l=t.data,h=t.pts,f=this.aacOverFlow,p=this.aacLastPTS;if(f){var g=new Uint8Array(f.byteLength+l.byteLength);g.set(f,0),g.set(l,f.byteLength),l=g}for(i=0,n=l.length;i<n-1&&!s(l,i);i++);if(i){var v,y;if(i<n-1?(v="AAC PES did not start with ADTS header,offset:"+i,y=!1):(v="no ADTS header found in AAC PES",y=!0),w.b.warn("parsing error:"+v),this.observer.trigger(S.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:y,reason:v}),y)return}if(u(o,this.observer,l,i,this.audioCodec),r=0,e=d(o.samplerate),f&&p){var m=p+e;Math.abs(m-h)>1&&(w.b.log("AAC: align PTS for overlapping frames by "+Math.round((m-h)/90)),h=m)}for(;i<n;)if(s(l,i)&&i+5<n){var b=c(o,l,i,h,r);if(!b)break;i+=b.length,a=b.sample.pts,r++}else i++;f=i<n?l.subarray(i,n):null,this.aacOverFlow=f,this.aacLastPTS=a},t.prototype._parseMPEGPES=function(t){for(var e=t.data,r=e.length,i=0,a=0,n=t.pts;a<r;)if(F.isHeader(e,a)){var o=F.appendFrame(this._audioTrack,e,a,n,i);if(!o)break;a+=o.length,i++}else a++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),H=j,K=function(){function t(e,r,i){m(this,t),this.observer=e,this.config=i,this.remuxer=r}return t.prototype.resetInitSegment=function(t,e,r,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,r,i=D.a.getID3Data(t,0);if(i&&void 0!==D.a.getTimeStamp(i))for(e=i.length,r=Math.min(t.length-1,e+100);e<r;e++)if(F.probe(t,e))return w.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,r,i){for(var a=D.a.getID3Data(t,0),n=D.a.getTimeStamp(a),o=n?90*n:9e4*e,s=a.length,l=t.length,u=0,d=0,h=this._audioTrack,c=[{pts:o,dts:o,data:a}];s<l;)if(F.isHeader(t,s)){var f=F.appendFrame(h,t,s,o,u);if(!f)break;s+=f.length,d=f.sample.pts,u++}else D.a.isHeader(t,s)?(a=D.a.getID3Data(t,s),c.push({pts:d,dts:d,data:a}),s+=a.length):s++;this.remuxer.remux(h,{samples:[]},{samples:c,inputTimeScale:9e4},{samples:[]},e,r,i)},t.prototype.destroy=function(){},t}(),W=K,V=function(){function t(){b(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),Y=V,z=Math.pow(2,32)-1,X=function(){function t(){E(this,t)}return t.init=function(){t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var e;for(e in t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:r,audio:i};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=n,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,o,l,o,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,a))},t.box=function(t){for(var e,r=Array.prototype.slice.call(arguments,1),i=8,a=r.length,n=a;a--;)i+=r[a].byteLength;for(e=new Uint8Array(i),e[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),a=0,i=8;a<n;a++)e.set(r[a],i),i+=r[a].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,r){r*=e;var i=Math.floor(r/(z+1)),a=Math.floor(r%(z+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,r,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,r))},t.moov=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trak(e[r]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trex(e[r]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,r){r*=e;var i=Math.floor(r/(z+1)),a=Math.floor(r%(z+1)),n=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,n)},t.sdtp=function(e){var r,i,a=e.samples||[],n=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)r=a[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return t.box(t.types.sdtp,n)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var r,i,a,n=[],o=[];for(r=0;r<e.sps.length;r++)i=e.sps[r],a=i.byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(i));for(r=0;r<e.pps.length;r++)i=e.pps[r],a=i.byteLength,o.push(a>>>8&255),o.push(255&a),o=o.concat(Array.prototype.slice.call(i));var s=t.box(t.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(o))),l=e.width,u=e.height,d=e.pixelRatio[0],h=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,h>>24,h>>16&255,h>>8&255,255&h])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var r=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var r=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var r=e.id,i=e.duration*e.timescale,a=e.width,n=e.height,o=Math.floor(i/(z+1)),s=Math.floor(i%(z+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,n>>8&255,255&n,0,0]))},t.traf=function(e,r){var i=t.sdtp(e),a=e.id,n=Math.floor(r/(z+1)),o=Math.floor(r%(z+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var r=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,r){var i,a,n,o,s,l,u=e.samples||[],d=u.length,h=12+16*d,c=new Uint8Array(h);for(r+=8+h,c.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<d;i++)a=u[i],n=a.duration,o=a.size,s=a.flags,l=a.cts,c.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,c)},t.initSegment=function(e){t.types||t.init();var r,i=t.moov(e);return r=new Uint8Array(t.FTYP.byteLength+i.byteLength),r.set(t.FTYP),r.set(i,t.FTYP.byteLength),r},t}(),q=X,Q=function(){function t(e,r,i,a){T(this,t),this.observer=e,this.config=r,this.typeSupported=i;var n=navigator.userAgent;this.isSafari=a&&a.indexOf("Apple")>-1&&n&&!n.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,r,i,a,n,o){if(this.ISGenerated||this.generateIS(t,e,a),this.ISGenerated){var s=t.samples.length,l=e.samples.length,u=a,d=a;if(s&&l){var h=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;u+=Math.max(0,h),d+=Math.max(0,-h)}if(s){t.timescale||(w.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,a));var c=this.remuxAudio(t,u,n,o);if(l){var f=void 0;c&&(f=c.endPTS-c.startPTS),e.timescale||(w.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,a)),this.remuxVideo(e,d,n,f,o)}}else{var p=void 0;l&&(p=this.remuxVideo(e,d,n,o)),p&&t.codec&&this.remuxEmptyAudio(t,u,n,p)}}r.samples.length&&this.remuxID3(r,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(S.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,r){var i,a,n=this.observer,o=t.samples,s=e.samples,l=this.typeSupported,u="audio/mp4",d={},h={tracks:d},c=void 0===this._initPTS;if(c&&(i=a=1/0),t.config&&o.length&&(t.timescale=t.samplerate,w.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(l.mpeg?(u="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")),d.audio={container:u,codec:t.codec,initSegment:!t.isAAC&&l.mpeg?new Uint8Array:q.initSegment([t]),metadata:{channelCount:t.channelCount}},c&&(i=a=o[0].pts-t.inputTimeScale*r)),e.sps&&e.pps&&s.length){var f=e.inputTimeScale;e.timescale=f,d.video={container:"video/mp4",codec:e.codec,initSegment:q.initSegment([e]),metadata:{width:e.width,height:e.height}},c&&(i=Math.min(i,s[0].pts-f*r),a=Math.min(a,s[0].dts-f*r),this.observer.trigger(S.a.INIT_PTS_FOUND,{initPTS:i}))}Object.keys(d).length?(n.trigger(S.a.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,c&&(this._initPTS=i,this._initDTS=a)):n.trigger(S.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,r,i,a){var n,o,s,l,u,d,h,c=8,f=t.timescale,p=t.samples,g=[],v=p.length,y=this._PTSNormalize,m=this._initDTS,b=this.nextAvcDts,E=this.isSafari;E&&(r|=p.length&&b&&(a&&Math.abs(e-b/f)<.1||Math.abs(p[0].pts-b-m)<f/5)),r||(b=e*f),p.forEach(function(t){t.pts=y(t.pts-m,b),t.dts=y(t.dts-m,b)}),p.sort(function(t,e){var r=t.dts-e.dts,i=t.pts-e.pts;return r||(i||t.id-e.id)});var T=p.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(T<0){w.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(T/90)+" ms to overcome this issue");for(var R=0;R<p.length;R++)p[R].dts+=T}var A=p[0];u=Math.max(A.dts,0),l=Math.max(A.pts,0);var _=Math.round((u-b)/90);r&&_&&(_>1?w.b.log("AVC:"+_+" ms hole between fragments detected,filling it"):_<-1&&w.b.log("AVC:"+-_+" ms overlapping between fragments detected"),u=b,p[0].dts=u,l=Math.max(l-_,b),p[0].pts=l,w.b.log("Video/PTS/DTS adjusted: "+Math.round(l/90)+"/"+Math.round(u/90)+",delta:"+_+" ms")),A=p[p.length-1],h=Math.max(A.dts,0),d=Math.max(A.pts,0,h),E&&(n=Math.round((h-u)/(p.length-1)));for(var D=0,I=0,k=0;k<v;k++){for(var O=p[k],C=O.units,P=C.length,x=0,F=0;F<P;F++)x+=C[F].data.length;I+=x,D+=P,O.length=x,O.dts=E?u+k*n:Math.max(O.dts,u),O.pts=Math.max(O.pts,O.dts)}var N=I+4*D+8;try{o=new Uint8Array(N)}catch(t){return void this.observer.trigger(S.a.ERROR,{type:L.b.MUX_ERROR,details:L.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var M=new DataView(o.buffer);M.setUint32(0,N),o.set(q.types.mdat,4);for(var U=0;U<v;U++){for(var B=p[U],G=B.units,j=0,H=void 0,K=0,W=G.length;K<W;K++){var V=G[K],Y=V.data,z=V.data.byteLength;M.setUint32(c,z),c+=4,o.set(Y,c),c+=z,j+=4+z}if(E)H=Math.max(0,n*Math.round((B.pts-B.dts)/n));else{if(U<v-1)n=p[U+1].dts-B.dts;else{var X=this.config,Q=B.dts-p[U>0?U-1:U].dts;if(X.stretchShortVideoTrack){var J=X.maxBufferHole,$=X.maxSeekHole,Z=Math.floor(Math.min(J,$)*f),tt=(i?l+i*f:this.nextAudioPts)-B.pts;tt>Z?(n=tt-Q,n<0&&(n=Q),w.b.log("It is approximately "+tt/90+" ms to the next segment; using duration "+n/90+" ms for the last video frame.")):n=Q}else n=Q}H=Math.round(B.pts-B.dts)}g.push({size:j,duration:n,cts:H,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=h+n;var et=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,g.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var rt=g[0].flags;rt.dependsOn=2,rt.isNonSync=0}t.samples=g,s=q.moof(t.sequenceNumber++,u,t),t.samples=[];var it={data1:s,data2:o,startPTS:l/f,endPTS:(d+n)/f,startDTS:u/f,endDTS:this.nextAvcDts/f,type:"video",nb:g.length,dropped:et};return this.observer.trigger(S.a.FRAG_PARSING_DATA,it),it},t.prototype.remuxAudio=function(t,e,r,i){var a,n,o,s,l,u,d,h=t.inputTimeScale,c=t.timescale,f=h/c,p=t.isAAC?1024:1152,g=p*f,v=this._PTSNormalize,y=this._initDTS,m=!t.isAAC&&this.typeSupported.mpeg,b=t.samples,E=[],T=this.nextAudioPts;if(r|=b.length&&T&&(i&&Math.abs(e-T/h)<.1||Math.abs(b[0].pts-T-y)<20*g),b.forEach(function(t){t.pts=t.dts=v(t.pts-y,e*h)}),b=b.filter(function(t){return t.pts>=0}),0!==b.length){if(r||(T=i?e*h:b[0].pts),t.isAAC)for(var R=this.config.maxAudioFramesDrift,A=0,_=T;A<b.length;){var D,I=b[A],k=I.pts;D=k-_;var O=Math.abs(1e3*D/h);if(D<=-R*g)w.b.warn("Dropping 1 audio frame @ "+(_/h).toFixed(3)+"s due to "+Math.round(O)+" ms overlap."),b.splice(A,1),t.len-=I.unit.length;else if(D>=R*g&&O<1e4&&_){var C=Math.round(D/g);w.b.warn("Injecting "+C+" audio frame @ "+(_/h).toFixed(3)+"s due to "+Math.round(1e3*D/h)+" ms gap.");for(var P=0;P<C;P++){var x=Math.max(_,0);o=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),o||(w.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),o=I.unit.subarray()),b.splice(A,0,{unit:o,pts:x,dts:x}),t.len+=o.length,_+=g,A++}I.pts=I.dts=_,_+=g,A++}else Math.abs(D),I.pts=I.dts=_,_+=g,A++}for(var F=0,N=b.length;F<N;F++){var M=b[F],U=M.unit,B=M.pts;if(void 0!==d)n.duration=Math.round((B-d)/f);else{var G=Math.round(1e3*(B-T)/h),j=0;if(r&&t.isAAC&&G){if(G>0&&G<1e4)j=Math.round((B-T)/g),w.b.log(G+" ms hole between AAC samples detected,filling it"),j>0&&(o=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),o||(o=U.subarray()),t.len+=j*o.length);else if(G<-12){w.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(T/h).toFixed(3)+"s/"+(B/h).toFixed(3)+"s/"+-G+"ms"),t.len-=U.byteLength;continue}B=T}if(u=B,!(t.len>0))return;var H=m?t.len:t.len+8;a=m?0:8;try{s=new Uint8Array(H)}catch(t){return void this.observer.trigger(S.a.ERROR,{type:L.b.MUX_ERROR,details:L.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}if(!m){new DataView(s.buffer).setUint32(0,H),s.set(q.types.mdat,4)}for(var K=0;K<j;K++)o=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),o||(w.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),o=U.subarray()),s.set(o,a),a+=o.byteLength,n={size:o.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(n)}s.set(U,a);var W=U.byteLength;a+=W,n={size:W,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(n),d=B}var V=0,z=E.length;if(z>=2&&(V=E[z-2].duration,n.duration=V),z){this.nextAudioPts=T=d+f*V,t.len=0,t.samples=E,l=m?new Uint8Array:q.moof(t.sequenceNumber++,u/f,t),t.samples=[];var X=u/h,Q=T/h,J={data1:l,data2:s,startPTS:X,endPTS:Q,startDTS:X,endDTS:Q,type:"audio",nb:z};return this.observer.trigger(S.a.FRAG_PARSING_DATA,J),J}return null}},t.prototype.remuxEmptyAudio=function(t,e,r,i){var a=t.inputTimeScale,n=t.samplerate?t.samplerate:a,o=a/n,s=this.nextAudioPts,l=(void 0!==s?s:i.startDTS*a)+this._initDTS,u=i.endDTS*a+this._initDTS,d=1024*o,h=Math.ceil((u-l)/d),c=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(w.b.warn("remux empty Audio"),!c)return void w.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var f=[],p=0;p<h;p++){var g=l+p*d;f.push({unit:c,pts:g,dts:g}),t.len+=c.length}t.samples=f,this.remuxAudio(t,e,r)},t.prototype.remuxID3=function(t,e){var r,i=t.samples.length,a=t.inputTimeScale,n=this._initPTS,o=this._initDTS;if(i){for(var s=0;s<i;s++)r=t.samples[s],r.pts=(r.pts-n)/a,r.dts=(r.dts-o)/a;this.observer.trigger(S.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var r,i=t.samples.length,a=t.inputTimeScale,n=this._initPTS;if(i){for(var o=0;o<i;o++)r=t.samples[o],r.pts=(r.pts-n)/a;this.observer.trigger(S.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var r;if(void 0===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t},t}(),J=Q,$=function(){function t(e){R(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,r,i,a,n,o,s){var l=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),l.trigger(S.a.FRAG_PARSING_DATA,{data1:s,startPTS:a,startDTS:a,type:u,nb:1,dropped:0}),l.trigger(S.a.FRAG_PARSED)},t}(),Z=$,tt=function(){function t(e,r,i,a){A(this,t),this.observer=e,this.typeSupported=r,this.config=i,this.vendor=a}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,r,i,a,n,o,s,l,u,d,h){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var c=this.decrypter;null==c&&(c=this.decrypter=new _.a(this.observer,this.config));var f,p=this;try{f=performance.now()}catch(t){f=Date.now()}c.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var c;try{c=performance.now()}catch(t){c=Date.now()}p.observer.trigger(S.a.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:c}}),p.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),i,a,n,o,s,l,u,d,h)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),i,a,n,o,s,l,u,d,h)},t.prototype.pushDecrypted=function(t,e,r,i,a,n,o,s,l,u,d,h){var c=this.demuxer;if(!c||o&&!this.probe(t)){for(var f=this.observer,p=this.typeSupported,g=this.config,v=[{demux:H,remux:J},{demux:P,remux:Z},{demux:k,remux:J},{demux:W,remux:J}],y=0,m=v.length;y<m;y++){var b=v[y],E=b.demux.probe;if(E(t)){var T=this.remuxer=new b.remux(f,g,p,this.vendor);c=new b.demux(f,T,g,p),this.probe=E;break}}if(!c)return void f.trigger(S.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=c}var R=this.remuxer;(o||s)&&(c.resetInitSegment(r,i,a,u),R.resetInitSegment()),o&&(c.resetTimeStamp(h),R.resetTimeStamp(h)),"function"==typeof c.setDecryptData&&c.setDecryptData(e),c.append(t,n,l,d)},t}();e.a=tt},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){var r=jt[e];return!!r&&!0===r[t.slice(0,4)]}function o(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)return null;for(var r=null,i=0;i<t.length;i++){var a=t[i];a.id===e&&(r=a)}return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e,r){var i=t[e],a=t[r],n=a.startPTS;isNaN(n)?a.start=r>e?i.start+i.duration:Math.max(i.start-a.duration,0):r>e?(i.duration=n-i.start,i.duration<0&&Pt.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(a.duration=i.start-n,a.duration<0&&Pt.b.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!"))}function E(t,e,r,i,a,n){var o=r;if(!isNaN(e.startPTS)){var s=Math.abs(e.startPTS-r);isNaN(e.deltaPTS)?e.deltaPTS=s:e.deltaPTS=Math.max(s,e.deltaPTS),o=Math.max(r,e.startPTS),r=Math.min(r,e.startPTS),i=Math.max(i,e.endPTS),a=Math.min(a,e.startDTS),n=Math.max(n,e.endDTS)}var l=r-e.start;e.start=e.startPTS=r,e.maxStartPTS=o,e.endPTS=i,e.startDTS=a,e.endDTS=n,e.duration=i-r;var u=e.sn;if(!t||u<t.startSN||u>t.endSN)return 0;var d,h,c;for(d=u-t.startSN,h=t.fragments,h[d]=e,c=d;c>0;c--)b(h,c,c-1);for(c=d;c<h.length-1;c++)b(h,c,c+1);return t.PTSKnown=!0,l}function T(t,e){var r,i=Math.max(t.startSN,e.startSN)-e.startSN,a=Math.min(t.endSN,e.endSN)-e.startSN,n=e.startSN-t.startSN,o=t.fragments,s=e.fragments,l=0;if(a<i)return void(e.PTSKnown=!1);for(var u=i;u<=a;u++){var d=o[n+u],h=s[u];h&&d&&(l=d.cc-h.cc,isNaN(d.startPTS)||(h.start=h.startPTS=d.startPTS,h.endPTS=d.endPTS,h.duration=d.duration,h.backtracked=d.backtracked,h.dropped=d.dropped,r=h))}if(l)for(Pt.b.log("discontinuity sliding from playlist, take drift into account"),u=0;u<s.length;u++)s[u].cc+=l;if(r)E(e,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(n>=0&&n<o.length){var c=o[n].start;for(u=0;u<s.length;u++)s[u].start+=c}e.PTSKnown=t.PTSKnown}function R(t,e){for(var r=null,i=0;i<t.length;i+=1){var a=t[i];if(a&&a.cc===e){r=a;break}}return r}function A(t,e){return re.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}function S(t,e,r){var i=!1;return e&&e.details&&r&&(r.endCC>r.startCC||t&&t.cc<r.startCC)&&(i=!0),i}function L(t,e){var r=t.fragments,i=e.fragments;if(!i.length||!r.length)return void Pt.b.log("No fragments to align");var a=R(r,i[0].cc);return!a||a&&!a.startPTS?void Pt.b.log("No frag in previous level to align on"):a}function _(t,e){e.fragments.forEach(function(e){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}}),e.PTSKnown=!0}function w(t,e,r){if(S(t,e,r)){var i=L(e.details,r);i&&(Pt.b.log("Adjusting PTS using last level due to CC increase within current level"),_(i.start,r))}if(!1===r.PTSKnown&&e&&e.details){var a=e.details.programDateTime,n=r.programDateTime,o=(n-a)/1e3+e.details.fragments[0].start;isNaN(o)||(Pt.b.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),_(o,r))}}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function P(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function M(){var t=y(),e=window.SourceBuffer||window.WebKitSourceBuffer,r=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!r&&!!i}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function H(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function X(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function J(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function at(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function nt(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Qe,this.regionList=[]}function ot(t){function e(t,e,r,i){return 3600*(0|t)+60*(0|e)+(0|r)+(0|i)/1e3}var r=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function st(){this.values=Object.create(null)}function lt(t,e,r,i){var a=i?t.split(i):[t];for(var n in a)if("string"==typeof a[n]){var o=a[n].split(r);if(2===o.length){var s=o[0],l=o[1];e(s,l)}}}function ut(t,e,r){function i(){var e=ot(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}var n=t;if(a(),e.startTime=i(),a(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),a(),e.endTime=i(),a(),function(t,e){var i=new st;lt(t,function(t,e){switch(t){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===e){i.set(t,r[a].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var n=e.split(","),o=n[0];i.integer(t,o),i.percent(t,o)&&i.set("snapToLines",!1),i.alt(t,o,["auto"]),2===n.length&&i.alt("lineAlign",n[1],["start",$e,"end"]);break;case"position":n=e.split(","),i.percent(t,n[0]),2===n.length&&i.alt("positionAlign",n[1],["start",$e,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",$e,"end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var a=i.get("line","auto");"auto"===a&&-1===Je.line&&(a=-1),e.line=a,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",$e);var n=i.get("position","auto");"auto"===n&&50===Je.position&&(n="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=n}(t,e)}function dt(t){return t.replace(/<br(?: \/)?>/gi,"\n")}function ht(t,e,r,i){for(var a,n,o,s,l,u=window.VTTCue||window.TextTrackCue,d=0;d<i.rows.length;d++)if(a=i.rows[d],o=!0,s=0,l="",!a.isEmpty()){for(var h=0;h<a.chars.length;h++)a.chars[h].uchar.match(/\s/)&&o?s++:(l+=a.chars[h].uchar,o=!1);a.cueStartTime=e,e===r&&(r+=1e-4),n=new u(e,r,dt(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?n.line=d+1:n.line=d>7?d-2:d+1,n.align="left",n.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(n)}}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function vt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function yt(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}function mt(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function bt(t,e,r,i){return Math.min(e,i)-Math.max(t,r)}function Et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Rt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function At(t){for(var e=[],r=0;r<t.length;r++)"subtitles"===t[r].kind&&e.push(t[r]);return e}function St(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var Dt={};r.d(Dt,"newCue",function(){return ht});var It=r(6),kt=r.n(It),Ot=r(1),Ct=r(2),Pt=r(0),xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft=function(){function t(e){i(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,a=Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];this.handledEvents=a,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.unregisterListeners()},t.prototype.isEventHandler=function(){return"object"===xt(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)},this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){var r=function(t,e){var r="on"+t.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,e)};try{r.call(this,t,e).call()}catch(e){Pt.b.error("internal error happened while processing "+t+":"+e.message),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.OTHER_ERROR,details:Ct.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}(),Nt=Ft,Mt=/^(\d+)x(\d+)$/,Ut=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Bt=function(){function t(e){a(this,t),"string"==typeof e&&(e=t.parseAttrList(e));for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var r=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)r[i]=parseInt(e.slice(2*i,2*i+2),16);return r}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=Mt.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,r={};for(Ut.lastIndex=0;null!==(e=Ut.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[e[1]]=i}return r},t}(),Gt=Bt,jt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},Ht=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Kt=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,Wt=/#EXT-X-MEDIA:(.*)/g,Vt=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Yt=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,zt=function(){function t(){u(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return Ht(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=kt.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}(),Xt=function(){function t(){u(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var r=t;return t&&t.method&&t.uri&&!t.iv&&(r=new zt,r.method=t.method,r.baseuri=t.baseuri,r.reluri=t.reluri,r.iv=this.createInitializationVector(e)),r},t.prototype.cloneObj=function(t){return JSON.parse(JSON.stringify(t))},Ht(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=kt.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var t=this._byteRange=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var r=this.lastByteRangeEndOffset;t[0]=r||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),t}(),qt=function(t){function e(r){u(this,e);var i=s(this,t.call(this,r,Ot.a.MANIFEST_LOADING,Ot.a.LEVEL_LOADING,Ot.a.AUDIO_TRACK_LOADING,Ot.a.SUBTITLE_TRACK_LOADING));return i.loaders={},i}return l(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Nt.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:"manifest"})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:"audioTrack",id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:"subtitleTrack",id:t.id})},e.prototype.load=function(t,e){var r=this.loaders[e.type];if(void 0!==r){var i=r.context;if(i&&i.url===t)return void Pt.b.trace("playlist request ongoing");Pt.b.warn("abort previous loader for type:"+e.type),r.abort()}var a=this.hls.config,n=void 0,o=void 0,s=void 0,l=void 0;"manifest"===e.type?(n=a.manifestLoadingMaxRetry,o=a.manifestLoadingTimeOut,s=a.manifestLoadingRetryDelay,l=a.manifestLoadingMaxRetryTimeout):"level"===e.type?(n=0,o=a.levelLoadingTimeOut):(n=a.levelLoadingMaxRetry,o=a.levelLoadingTimeOut,s=a.levelLoadingRetryDelay,l=a.levelLoadingMaxRetryTimeout,Pt.b.log("loading playlist for "+e.type+" "+(e.level||e.id))),r=this.loaders[e.type]=e.loader=void 0!==a.pLoader?new a.pLoader(a):new a.loader(a),e.url=t,e.responseType="";var u=void 0,d=void 0;u={timeout:o,maxRetry:n,retryDelay:s,maxRetryDelay:l},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(e,u,d)},e.prototype.resolve=function(t,e){return kt.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.prototype.parseMasterPlaylist=function(t,e){var r=[],i=void 0;for(Kt.lastIndex=0;null!=(i=Kt.exec(t));){var a={},o=a.attrs=new Gt(i[1]);a.url=this.resolve(i[2],e);var s=o.decimalResolution("RESOLUTION");s&&(a.width=s.width,a.height=s.height),a.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),a.name=o.NAME,function(t,e){["video","audio"].forEach(function(r){var i=t.filter(function(t){return n(t,r)});if(i.length){var a=i.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[r+"Codec"]=a.length>0?a[0]:i[0],t=t.filter(function(t){return-1===i.indexOf(t)})}}),e.unknownCodecs=t}([].concat((o.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=this.avc1toavcoti(a.videoCodec)),r.push(a)}return r},e.prototype.parseMasterPlaylistMedia=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=void 0,n=[],o=0;for(Wt.lastIndex=0;null!==(a=Wt.exec(t));){var s={},l=new Gt(a[1]);if(l.TYPE===r){if(s.groupId=l["GROUP-ID"],s.name=l.NAME,s.type=r,s.default="YES"===l.DEFAULT,s.autoselect="YES"===l.AUTOSELECT,s.forced="YES"===l.FORCED,l.URI&&(s.url=this.resolve(l.URI,e)),s.lang=l.LANGUAGE,s.name||(s.name=s.lang),i.length){var u=d(i,s.groupId);s.audioCodec=u?u.codec:i[0].codec}s.id=o++,n.push(s)}}return n},e.prototype.avc1toavcoti=function(t){var e,r=t.split(".");return r.length>2?(e=r.shift()+".",e+=parseInt(r.shift()).toString(16),e+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):e=t,e},e.prototype.parseLevelPlaylist=function(t,e,r,i){var a,n,o=0,s=0,l={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},u=new zt,d=0,h=null,c=new Xt;for(Vt.lastIndex=0;null!==(a=Vt.exec(t));){var f=a[1];if(f){c.duration=parseFloat(f);var p=(" "+a[2]).slice(1);c.title=p||null,c.tagList.push(p?["INF",f,p]:["INF",f])}else if(a[3]){if(!isNaN(c.duration)){var g=o++;c.type=i,c.start=s,c.levelkey=u,c.sn=g,c.level=r,c.cc=d,c.baseurl=e,c.relurl=(" "+a[3]).slice(1),l.fragments.push(c),h=c,s+=c.duration,c=new Xt}}else if(a[4]){if(c.rawByteRange=(" "+a[4]).slice(1),h){var v=h.byteRangeEndOffset;v&&(c.lastByteRangeEndOffset=v)}}else if(a[5])c.rawProgramDateTime=(" "+a[5]).slice(1),c.tagList.push(["PROGRAM-DATE-TIME",c.rawProgramDateTime]),void 0===l.programDateTime&&(l.programDateTime=new Date(new Date(Date.parse(a[5]))-1e3*s));else{for(a=a[0].match(Yt),n=1;n<a.length&&void 0===a[n];n++);var y=(" "+a[n+1]).slice(1),m=(" "+a[n+2]).slice(1);switch(a[n]){case"#":c.tagList.push(m?[y,m]:[y]);break;case"PLAYLIST-TYPE":l.type=y.toUpperCase();break;case"MEDIA-SEQUENCE":o=l.startSN=parseInt(y);break;case"TARGETDURATION":l.targetduration=parseFloat(y);break;case"VERSION":l.version=parseInt(y);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":d++,c.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":d=parseInt(y);break;case"KEY":var b=y,E=new Gt(b),T=E.enumeratedString("METHOD"),R=E.URI,A=E.hexadecimalInteger("IV");T&&(u=new zt,R&&["AES-128","SAMPLE-AES"].indexOf(T)>=0&&(u.method=T,u.baseuri=e,u.reluri=R,u.key=null,u.iv=A));break;case"START":var S=y,L=new Gt(S),_=L.decimalFloatingPoint("TIME-OFFSET");isNaN(_)||(l.startTimeOffset=_);break;case"MAP":var w=new Gt(y);c.relurl=w.URI,c.rawByteRange=w.BYTERANGE,c.baseurl=e,c.level=r,c.type=i,c.sn="initSegment",l.initSegment=c,c=new Xt;break;default:Pt.b.warn("line parsed but not handled: "+a)}}}return c=h,c&&!c.relurl&&(l.fragments.pop(),s-=c.duration),l.totalduration=s,l.averagetargetduration=s/l.fragments.length,l.endSN=o-1,l.startCC=l.fragments[0]?l.fragments[0].cc:0,l.endCC=d,l},e.prototype.loadsuccess=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.data,n=t.url,o=r.type,s=r.id,l=r.level,u=this.hls;if(this.loaders[o]=void 0,void 0!==n&&0!==n.indexOf("data:")||(n=r.url),e.tload=performance.now(),0===a.indexOf("#EXTM3U"))if(a.indexOf("#EXTINF:")>0){var d="audioTrack"!==o&&"subtitleTrack"!==o,h=isNaN(l)?isNaN(s)?0:s:l,c=this.parseLevelPlaylist(a,n,h,"audioTrack"===o?"audio":"subtitleTrack"===o?"subtitle":"main");c.tload=e.tload,"manifest"===o&&u.trigger(Ot.a.MANIFEST_LOADED,{levels:[{url:n,details:c}],audioTracks:[],url:n,stats:e,networkDetails:i}),e.tparsed=performance.now(),c.targetduration?d?u.trigger(Ot.a.LEVEL_LOADED,{details:c,level:l||0,id:s||0,stats:e,networkDetails:i}):"audioTrack"===o?u.trigger(Ot.a.AUDIO_TRACK_LOADED,{details:c,id:s,stats:e,networkDetails:i}):"subtitleTrack"===o&&u.trigger(Ot.a.SUBTITLE_TRACK_LOADED,{details:c,id:s,stats:e,networkDetails:i}):u.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"invalid targetduration",networkDetails:i})}else{var f=this.parseMasterPlaylist(a,n);if(f.length){var p=f.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),g=this.parseMasterPlaylistMedia(a,n,"AUDIO",p),v=this.parseMasterPlaylistMedia(a,n,"SUBTITLES");if(g.length){var y=!1;g.forEach(function(t){t.url||(y=!0)}),!1===y&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(Pt.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main"}))}u.trigger(Ot.a.MANIFEST_LOADED,{levels:f,audioTracks:g,subtitles:v,url:n,stats:e,networkDetails:i})}else u.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"no level found in manifest",networkDetails:i})}else u.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"no EXTM3U delimiter",networkDetails:i})},e.prototype.loaderror=function(t,e){var r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;switch(e.type){case"manifest":r=Ct.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":r=Ct.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":r=Ct.a.AUDIO_TRACK_LOAD_ERROR,i=!1}n&&(n.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:r,fatal:i,url:n.url,loader:n,response:t,context:e,networkDetails:a})},e.prototype.loadtimeout=function(t,e){var r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;switch(e.type){case"manifest":r=Ct.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":r=Ct.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":r=Ct.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}n&&(n.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:r,fatal:i,url:n.url,loader:n,context:e,networkDetails:a})},e}(Nt),Qt=qt,Jt=function(t){function e(r){h(this,e);var i=c(this,t.call(this,r,Ot.a.FRAG_LOADING));return i.loaders={},i}return f(e,t),e.prototype.destroy=function(){var t=this.loaders;for(var e in t){var r=t[e];r&&r.destroy()}this.loaders={},Nt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,r=e.type,i=this.loaders[r],a=this.hls.config;e.loaded=0,i&&(Pt.b.warn("abort previous fragment loader for type:"+r),i.abort()),i=this.loaders[r]=e.loader=void 0!==a.fLoader?new a.fLoader(a):new a.loader(a);var n=void 0,o=void 0,s=void 0;n={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var l=e.byteRangeStartOffset,u=e.byteRangeEndOffset;isNaN(l)||isNaN(u)||(n.rangeStart=l,n.rangeEnd=u),o={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},i.load(n,o,s)},e.prototype.loadsuccess=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.data,n=r.frag;n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(Ot.a.FRAG_LOADED,{payload:a,frag:n,stats:e,networkDetails:i})},e.prototype.loaderror=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:r})},e.prototype.loadtimeout=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:r})},e.prototype.loadprogress=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=e.frag;a.loaded=t.loaded,this.hls.trigger(Ot.a.FRAG_LOAD_PROGRESS,{frag:a,stats:t,networkDetails:i})},e}(Nt),$t=Jt,Zt=function(t){function e(r){p(this,e);var i=g(this,t.call(this,r,Ot.a.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return v(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Nt.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,r=e.type,i=this.loaders[r],a=e.decryptdata,n=a.uri;if(n!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;i&&(Pt.b.warn("abort previous key loader for type:"+r),i.abort()),e.loader=this.loaders[r]=new o.loader(o),this.decrypturl=n,this.decryptkey=null;var s=void 0,l=void 0,u=void 0;s={url:n,frag:e,responseType:"arraybuffer"},l={timeout:o.fragLoadingTimeOut,maxRetry:o.fragLoadingMaxRetry,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(s,l,u)}else this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(Ot.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(Ot.a.KEY_LOADED,{frag:i})},e.prototype.loaderror=function(t,e){var r=e.frag,i=r.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.KEY_LOAD_ERROR,fatal:!1,frag:r,response:t})},e.prototype.loadtimeout=function(t,e){var r=e.frag,i=r.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},e}(Nt),te=Zt,ee={search:function(t,e){for(var r=0,i=t.length-1,a=null,n=null;r<=i;){a=(r+i)/2|0,n=t[a];var o=e(n);if(o>0)r=a+1;else{if(!(o<0))return n;i=a-1}}return null}},re=ee,ie={isBuffered:function(t,e){try{if(t)for(var r=t.buffered,i=0;i<r.length;i++)if(e>=r.start(i)&&e<=r.end(i))return!0}catch(t){}return!1},bufferInfo:function(t,e,r){try{if(t){var i,a=t.buffered,n=[];for(i=0;i<a.length;i++)n.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(n,e,r)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,r){var i,a,n,o,s,l=[];for(t.sort(function(t,e){var r=t.start-e.start;return r||e.end-t.end}),s=0;s<t.length;s++){var u=l.length;if(u){var d=l[u-1].end;t[s].start-d<r?t[s].end>d&&(l[u-1].end=t[s].end):l.push(t[s])}else l.push(t[s])}for(s=0,i=0,a=n=e;s<l.length;s++){var h=l[s].start,c=l[s].end;if(e+r>=h&&e<c)a=h,n=c,i=n-e;else if(e+r<h){o=h;break}}return{len:i,start:a,end:n,nextStart:o}}},ae=ie,ne=r(7),oe=r(5),se=r.n(oe),le=r(9),ue=r.n(le),de=y(),he=function(){function t(e,r){m(this,t),this.hls=e,this.id=r;var i=this.observer=new se.a,a=e.config;i.trigger=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];i.emit.apply(i,[t,t].concat(r))},i.off=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];i.removeListener.apply(i,[t].concat(r))};var n=function(t,r){r=r||{},r.frag=this.frag,r.id=this.id,e.trigger(t,r)}.bind(this);i.on(Ot.a.FRAG_DECRYPTED,n),i.on(Ot.a.FRAG_PARSING_INIT_SEGMENT,n),i.on(Ot.a.FRAG_PARSING_DATA,n),i.on(Ot.a.FRAG_PARSED,n),i.on(Ot.a.ERROR,n),i.on(Ot.a.FRAG_PARSING_METADATA,n),i.on(Ot.a.FRAG_PARSING_USERDATA,n),i.on(Ot.a.INIT_PTS_FOUND,n);var o={mp4:de.isTypeSupported("video/mp4"),mpeg:de.isTypeSupported("audio/mpeg"),mp3:de.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(a.enableWorker&&"undefined"!=typeof Worker){Pt.b.log("demuxing in webworker");var l=void 0;try{l=this.w=ue()(10),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(t){e.trigger(Ot.a.ERROR,{type:Ct.b.OTHER_ERROR,details:Ct.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:o,vendor:s,id:r,config:JSON.stringify(a)})}catch(t){Pt.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&URL.revokeObjectURL(l.objectURL),this.demuxer=new ne.a(i,o,a,s),this.w=void 0}}else this.demuxer=new ne.a(i,o,a,s)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,r,i,a,n,o,s){var l=this.w,u=isNaN(a.startDTS)?a.start:a.startDTS,d=a.decryptdata,h=this.frag,c=!(h&&a.cc===h.cc),f=!(h&&a.level===h.level),p=h&&a.sn===h.sn+1,g=!f&&p;if(c&&Pt.b.log(this.id+":discontinuity detected"),f&&Pt.b.log(this.id+":switch detected"),this.frag=a,l)l.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:e,audioCodec:r,videoCodec:i,timeOffset:u,discontinuity:c,trackSwitch:f,contiguous:g,duration:n,accurateTimeOffset:o,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var v=this.demuxer;v&&v.push(t,d,e,r,i,u,c,f,g,n,o,s)}},t.prototype.onWorkerMessage=function(t){var e=t.data,r=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case Ot.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data)}},t}(),ce=he,fe={toString:function(t){for(var e="",r=t.length,i=0;i<r;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}},pe=fe,ge=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),ve={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},ye=function(t){function e(r){D(this,e);var i=I(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_PARSED,Ot.a.LEVEL_LOADED,Ot.a.KEY_LOADED,Ot.a.FRAG_LOADED,Ot.a.FRAG_LOAD_EMERGENCY_ABORTED,Ot.a.FRAG_PARSING_INIT_SEGMENT,Ot.a.FRAG_PARSING_DATA,Ot.a.FRAG_PARSED,Ot.a.ERROR,Ot.a.AUDIO_TRACK_SWITCHING,Ot.a.AUDIO_TRACK_SWITCHED,Ot.a.BUFFER_CREATED,Ot.a.BUFFER_APPENDED,Ot.a.BUFFER_FLUSHED));return i.config=r.config,i.audioCodecSwap=!1,i.ticks=0,i._state=ve.STOPPED,i.ontick=i.tick.bind(i),i}return k(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Nt.prototype.destroy.call(this),this.state=ve.STOPPED},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=r.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(Pt.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=ve.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=ve.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ve.STOPPED,this.forceStartLoad=!1},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){switch(this.state){case ve.ERROR:break;case ve.BUFFER_FLUSHING:this.fragLoadError=0;break;case ve.IDLE:this._doTickIdle();break;case ve.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=ve.IDLE);break;case ve.FRAG_LOADING_WAITING_RETRY:var e=performance.now(),r=this.retryDate;(!r||e>=r||this.media&&this.media.seeking)&&(Pt.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=ve.IDLE);break;case ve.ERROR:case ve.STOPPED:case ve.FRAG_LOADING:case ve.PARSING:case ve.PARSED:case ve.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){var t=this.hls,e=t.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&e.startFragPrefetch)){var i=void 0;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var a=t.nextLoadLevel,n=this.levels[a];if(n){var o=n.bitrate,s=void 0;s=o?Math.max(8*e.maxBufferSize/o,e.maxBufferLength):e.maxBufferLength,s=Math.min(s,e.maxMaxBufferLength);var l=ae.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,e.maxBufferHole),u=l.len;if(!(u>=s)){Pt.b.trace("buffer length of "+u.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=a;var d=n.details;if(void 0===d||!0===d.live&&this.levelLastLoaded!==a)return void(this.state=ve.WAITING_LEVEL);var h=this.fragPrevious;if(!d.live&&h&&!h.backtracked&&h.sn===d.endSN&&!l.nextStart){if(Math.min(r.duration,h.start+h.duration)-Math.max(l.end,h.start)<=Math.max(.2,h.duration)){var c={};return this.altAudio&&(c.type="video"),this.hls.trigger(Ot.a.BUFFER_EOS,c),void(this.state=ve.ENDED)}}this._fetchPayloadOrEos(i,l,d)}}}},e.prototype._fetchPayloadOrEos=function(t,e,r){var i=this.fragPrevious,a=this.level,n=r.fragments,o=n.length;if(0!==o){var s=n[0].start,l=n[o-1].start+n[o-1].duration,u=e.end,d=void 0;if(r.initSegment&&!r.initSegment.data)d=r.initSegment;else if(r.live){var h=this.config.initialLiveManifestSize;if(o<h)return void Pt.b.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+h);if(null===(d=this._ensureFragmentAtLivePoint(r,u,s,l,i,n,o)))return}else u<s&&(d=n[0]);d||(d=this._findFragment(s,i,o,n,u,l,r)),d&&this._loadFragmentOrKey(d,a,r,t,u)}},e.prototype._ensureFragmentAtLivePoint=function(t,e,r,i,a,n,o){var s=this.hls.config,l=this.media,u=void 0,d=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(r-s.maxFragLookUpTolerance,i-d)){var h=this.liveSyncPosition=this.computeLivePosition(r,t);Pt.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),e=h,l&&l.readyState&&l.duration>h&&(l.currentTime=h),this.nextLoadPosition=h}if(t.PTSKnown&&e>i&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(a){var c=a.sn+1;if(c>=t.startSN&&c<=t.endSN){var f=n[c-t.startSN];a.cc===f.cc&&(u=f,Pt.b.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=re.search(n,function(t){return a.cc-t.cc}))&&Pt.b.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=n[Math.min(o-1,Math.round(o/2))],Pt.b.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},e.prototype._findFragment=function(t,e,r,i,a,n,o){var s=this.hls.config,l=void 0,u=void 0,d=s.maxFragLookUpTolerance,h=e?i[e.sn-i[0].sn+1]:void 0,c=function(t){var e=Math.min(d,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-e<=a?1:t.start-e>a&&t.start?-1:0};if(a<n?(a>n-d&&(d=0),u=h&&!c(h)?h:re.search(i,c)):u=i[r-1],u){l=u;var f=l.sn-o.startSN,p=e&&l.level===e.level,g=i[f-1],v=i[f+1];if(e&&l.sn===e.sn)if(p&&!l.backtracked)if(l.sn<o.endSN){var y=e.deltaPTS;y&&y>s.maxBufferHole&&e.dropped&&f?(l=g,Pt.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):(l=v,Pt.b.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.backtracked&&(v&&v.backtracked?(Pt.b.warn("Already backtracked from fragment "+v.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+v.sn),l=v):(Pt.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,g?(g.loadCounter&&g.loadCounter--,l=g,l.backtracked=!0):f&&(l=null)))}return l},e.prototype._loadFragmentOrKey=function(t,e,r,i,a){var n=this.hls,o=n.config;if(!t.decryptdata||null==t.decryptdata.uri||null!=t.decryptdata.key){if(Pt.b.log("Loading "+t.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+e+", currentTime:"+i.toFixed(3)+",bufferEnd:"+a.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var s=o.fragLoadingLoopThreshold;if(t.loadCounter>s&&Math.abs(this.fragLoadIdx-t.loadIdx)<s)return void n.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t})}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,t.autoLevel=n.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),n.trigger(Ot.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new ce(n,"main")),void(this.state=ve.FRAG_LOADING)}Pt.b.log("Loading key for "+t.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+e),this.state=ve.KEY_LOADING,n.trigger(Ot.a.KEY_LOADING,{frag:t})},e.prototype.getBufferedFrag=function(t){return re.search(this._bufferedFrags,function(e){return t<e.startPTS?-1:t>e.endPTS?1:0})},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t,e,r=this.media;if(r&&r.readyState&&!1===r.seeking&&(e=r.currentTime,e>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),ae.isBuffered(r,e)?t=this.getBufferedFrag(e):ae.isBuffered(r,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(Ot.a.FRAG_CHANGED,{frag:i});var a=i.level;this.fragPlaying&&this.fragPlaying.level===a||this.hls.trigger(Ot.a.LEVEL_SWITCHED,{level:a}),this.fragPlaying=i}}},e.prototype.immediateLevelSwitch=function(){if(Pt.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,ae.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e=void 0,r=void 0,i=void 0;if(void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),r=this.getBufferedFrag(t.currentTime),r&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),t.paused)e=0;else{var a=this.hls.nextLoadLevel,n=this.levels[a],o=this.fragLastKbps;e=o&&this.fragCurrent?this.fragCurrent.duration*n.bitrate/(1e3*o)+1:0}if((i=this.getBufferedFrag(t.currentTime+e))&&(i=this.followingBufferedFrag(i))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=ve.BUFFER_FLUSHING;var r={startOffset:t,endOffset:e};this.altAudio&&(r.type="video"),this.hls.trigger(Ot.a.BUFFER_FLUSHING,r)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(Pt.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0,t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,r=this.config;isNaN(e)||Pt.b.log("media seeking to "+e.toFixed(3));var i=this.mediaBuffer?this.mediaBuffer:t,a=ae.bufferInfo(i,e,this.config.maxBufferHole);if(this.state===ve.FRAG_LOADING){var n=this.fragCurrent;if(0===a.len&&n){var o=r.maxFragLookUpTolerance,s=n.start-o,l=n.start+n.duration+o;e<s||e>l?(n.loader&&(Pt.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=ve.IDLE):Pt.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===ve.ENDED&&(0===a.len&&(this.fragPrevious=0),this.state=ve.IDLE);t&&(this.lastCurrentTime=e),this.state!==ve.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||Pt.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){Pt.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){Pt.b.log("trigger BUFFER_RESET"),this.hls.trigger(Ot.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e,r=!1,i=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(r=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=r&&i,this.audioCodecSwitch&&Pt.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var a=this.config;(a.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(a.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,r=t.level,i=this.levels[this.levelLastLoaded],a=this.levels[r],n=e.totalduration,o=0;if(Pt.b.log("level "+r+" loaded ["+e.startSN+","+e.endSN+"],duration:"+n),e.live){var s=a.details;s&&e.fragments.length>0?(T(s,e),o=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),e.PTSKnown&&!isNaN(o)?Pt.b.log("live playlist sliding:"+o.toFixed(3)):(Pt.b.log("live playlist - outdated PTS, unknown sliding"),w(this.fragPrevious,i,e))):(Pt.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,w(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(a.details=e,this.levelLastLoaded=r,this.hls.trigger(Ot.a.LEVEL_UPDATED,{details:e,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=e.startTimeOffset;isNaN(l)?e.live?(this.startPosition=this.computeLivePosition(o,e),Pt.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(l<0&&(Pt.b.log("negative start time offset "+l+", count from end of last fragment"),l=o+n+l),Pt.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ve.WAITING_LEVEL&&(this.state=ve.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===ve.KEY_LOADING&&(this.state=ve.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag;if(this.state===ve.FRAG_LOADING&&e&&"main"===r.type&&r.level===e.level&&r.sn===e.sn){var i=t.stats,a=this.levels[e.level],n=a.details;if(Pt.b.log("Loaded  "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=i,!0===r.bitrateTest&&this.hls.nextLoadLevel)this.state=ve.IDLE,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state=ve.IDLE,i.tparsed=i.tbuffered=performance.now(),n.initSegment.data=t.payload,this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else{this.state=ve.PARSING;var o=n.totalduration,s=e.level,l=e.sn,u=this.config.defaultAudioCodec||a.audioCodec;this.audioCodecSwap&&(Pt.b.log("swapping playlist audio codec"),void 0===u&&(u=this.lastAudioCodec),u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,Pt.b.log("Parsing "+l+" of ["+n.startSN+" ,"+n.endSN+"],level "+s+", cc "+e.cc);var d=this.demuxer;d||(d=this.demuxer=new ce(this.hls,"main"));var h=this.media,c=h&&h.seeking,f=!c&&(n.PTSKnown||!n.live),p=n.initSegment?n.initSegment.data:[];d.push(t.payload,p,u,a.videoCodec,e,o,f,void 0)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===ve.PARSING){var i,a,n=t.tracks;if(n.audio&&this.altAudio&&delete n.audio,a=n.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(Pt.b.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==a.container&&(o="mp4a.40.2",Pt.b.log("Android: force audio codec to "+o)),a.levelCodec=o,a.id=t.id}a=n.video,a&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=t.id),this.hls.trigger(Ot.a.BUFFER_CODECS,n);for(i in n){a=n[i],Pt.b.log("main track:"+i+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var l=a.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Ot.a.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,r=this.fragCurrent,i=t.frag;if(r&&"main"===t.id&&i.sn===r.sn&&i.level===r.level&&("audio"!==t.type||!this.altAudio)&&this.state===ve.PARSING){var a=this.levels[this.level],n=r;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),Pt.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(n.dropped=t.dropped,n.dropped)if(n.backtracked)Pt.b.warn("Already backtracked on this fragment, appending with the gap");else{var o=a.details;if(!o||n.sn!==o.startSN)return Pt.b.warn("missing video frame(s), backtracking fragment"),n.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=ve.IDLE,this.fragPrevious=n,void this.tick();Pt.b.warn("missing video frame(s) on first frag, appending with gap")}else n.backtracked=!1;var s=E(a.details,n,t.startPTS,t.endPTS,t.startDTS,t.endDTS),l=this.hls;l.trigger(Ot.a.LEVEL_PTS_UPDATED,{details:a.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(r){r&&r.length&&e.state===ve.PARSING&&(e.appended=!0,e.pendingBuffering=!0,l.trigger(Ot.a.BUFFER_APPENDING,{type:t.type,data:r,parent:"main",content:"data"}))}),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===ve.PARSING&&(this.stats.tparsed=performance.now(),this.state=ve.PARSED,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,r=t.id;if(!e){if(this.mediaBuffer!==this.media){Pt.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(Pt.b.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ve.IDLE}var a=this.hls;a.trigger(Ot.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,r=!!this.hls.audioTracks[e].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(Pt.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,r=void 0,i=void 0,a=!1;for(var n in e){var o=e[n];"main"===o.id?(i=n,r=o,"video"===n&&(this.videoBuffer=e[n].buffer)):a=!0}a&&r?(Pt.b.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==ve.PARSING&&e!==ve.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==ve.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;Pt.b.log("main buffered : "+pe.toString(e.buffered));var r=this._bufferedFrags.filter(function(t){return ae.isBuffered(e,(t.startPTS+t.endPTS)/2)});r.push(t),this._bufferedFrags=r.sort(function(t,e){return t.startPTS-e.startPTS}),this.fragPrevious=t;var i=this.stats;i.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.state=ve.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var r=!!this.media&&ae.isBuffered(this.media,this.media.currentTime)&&ae.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case Ct.a.FRAG_LOAD_ERROR:case Ct.a.FRAG_LOAD_TIMEOUT:case Ct.a.KEY_LOAD_ERROR:case Ct.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);e.loadCounter=0,Pt.b.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=ve.FRAG_LOADING_WAITING_RETRY}else Pt.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=ve.ERROR;break;case Ct.a.FRAG_LOOP_LOADING_ERROR:t.fatal||(r?(this._reduceMaxBufferLength(e.duration),this.state=ve.IDLE):e.autoLevel&&0!==e.level||(t.fatal=!0,this.state=ve.ERROR));break;case Ct.a.LEVEL_LOAD_ERROR:case Ct.a.LEVEL_LOAD_TIMEOUT:this.state!==ve.ERROR&&(t.fatal?(this.state=ve.ERROR,Pt.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==ve.WAITING_LEVEL||(this.state=ve.IDLE));break;case Ct.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==ve.PARSING&&this.state!==ve.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=ve.IDLE):(Pt.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,Pt.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold))},e.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var r=t.currentTime,i=this.mediaBuffer?this.mediaBuffer:t,a=i.buffered;if(!this.loadedmetadata&&a.length){this.loadedmetadata=!0;var n=t.seeking?r:this.startPosition,o=ae.isBuffered(i,n),s=a.start(0),l=!o&&Math.abs(n-s)<e.maxSeekHole;(r!==n||l)&&(Pt.b.log("target start position:"+n),l&&(n=s,Pt.b.log("target start position not buffered, seek to buffered.start(0) "+n)),Pt.b.log("adjust currentTime from "+r+" to "+n),t.currentTime=n)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var u=ae.bufferInfo(t,r,0),d=!(t.paused||t.ended||0===t.buffered.length),h=r!==this.lastCurrentTime;if(h)this.stallReported&&(Pt.b.warn("playback not stuck anymore @"+r+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(d){var c=performance.now(),f=this.hls;if(this.stalled){var p=c-this.stalled,g=u.len,v=this.nudgeRetry||0;if(g<=.5&&p>1e3*e.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,Pt.b.warn("playback stalling in low buffer @"+r),f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g}));var y=u.nextStart,m=y-r;if(y&&m<e.maxSeekHole&&m>0){this.nudgeRetry=++v;var b=v*e.nudgeOffset;Pt.b.log("adjust currentTime from "+t.currentTime+" to next buffered @ "+y+" + nudge "+b),t.currentTime=y+b,this.stalled=void 0,f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:y+b-r})}}else if(g>.5&&p>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,Pt.b.warn("playback stalling in high buffer @"+r),f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g})),this.stalled=void 0,this.nudgeRetry=++v,v<e.nudgeMaxRetry){var E=t.currentTime,T=E+v*e.nudgeOffset;Pt.b.log("adjust currentTime from "+E+" to "+T),t.currentTime=T,f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else Pt.b.error("still stuck in high buffer @"+r+" after "+e.nudgeMaxRetry+", raise fatal error"),f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=c,this.stallReported=!1}}}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=ve.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(e){return ae.isBuffered(t,(e.startPTS+e.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=ve.IDLE,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-r)},ge(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,Pt.b.log("main stream:"+e+"->"+t),this.hls.trigger(Ot.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(Nt),me=ye,be=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ee=function(t){function e(r){O(this,e);var i=C(this,t.call(this,r,Ot.a.MANIFEST_LOADED,Ot.a.LEVEL_LOADED,Ot.a.FRAG_LOADED,Ot.a.ERROR));return i.canload=!1,i.currentLevelIndex=null,i.manualLevelIndex=-1,i.timer=null,i}return P(e,t),e.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},e.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e=[],r=void 0,i={},a=null,n=!1,s=!1,l=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),u=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,n=n||!!t.videoCodec,s=s||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===l&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),a=i[t.bitrate],void 0===a?(t.url=[t.url],t.urlId=0,i[t.bitrate]=t,e.push(t)):a.url.push(t.url)}),!0===n&&!0===s&&(e=e.filter(function(t){return!!t.videoCodec})),e=e.filter(function(t){var e=t.audioCodec,r=t.videoCodec;return(!e||o(e))&&(!r||o(r))}),t.audioTracks&&(u=t.audioTracks.filter(function(t){return!t.audioCodec||o(t.audioCodec,"audio")})),e.length>0){r=e[0].bitrate,e.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=e;for(var d=0;d<e.length;d++)if(e[d].bitrate===r){this._firstLevel=d,Pt.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+r);break}this.hls.trigger(Ot.a.MANIFEST_PARSED,{levels:e,audioTracks:u,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:n,altAudio:u.length>0})}else this.hls.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,r=this.hls;if(t>=0&&t<e.length){if(this.cleanTimer(),this.currentLevelIndex!==t){Pt.b.log("switching to level "+t),this.currentLevelIndex=t;var i=e[t];i.level=t,r.trigger(Ot.a.LEVEL_SWITCH,i),r.trigger(Ot.a.LEVEL_SWITCHING,i)}var a=e[t],n=a.details;if(!n||!0===n.live){var o=a.urlId;r.trigger(Ot.a.LEVEL_LOADING,{url:a.url[o],level:t,id:o})}}else r.trigger(Ot.a.ERROR,{type:Ct.b.OTHER_ERROR,details:Ct.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){if(!0===t.fatal)return void(t.type===Ct.b.NETWORK_ERROR&&this.cleanTimer());var e=!1,r=!1,i=void 0;switch(t.details){case Ct.a.FRAG_LOAD_ERROR:case Ct.a.FRAG_LOAD_TIMEOUT:case Ct.a.FRAG_LOOP_LOADING_ERROR:case Ct.a.KEY_LOAD_ERROR:case Ct.a.KEY_LOAD_TIMEOUT:i=t.frag.level,r=!0;break;case Ct.a.LEVEL_LOAD_ERROR:case Ct.a.LEVEL_LOAD_TIMEOUT:i=t.context.level,e=!0;break;case Ct.a.REMUX_ALLOC_ERROR:i=t.level,e=!0}void 0!==i&&this.recoverLevel(t,i,e,r)},e.prototype.recoverLevel=function(t,e,r,i){var a=this,n=this.hls.config,o=t.details,s=this._levels[e],l=void 0,u=void 0,d=void 0;if(s.loadError++,s.fragmentError=i,!0===r){if(!(this.levelRetryCount+1<=n.levelLoadingMaxRetry))return Pt.b.error("level controller, cannot recover from "+o+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);u=Math.min(Math.pow(2,this.levelRetryCount)*n.levelLoadingRetryDelay,n.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return a.loadLevel()},u),t.levelRetry=!0,this.levelRetryCount++,Pt.b.warn("level controller, "+o+", retry in "+u+" ms, current retry count is "+this.levelRetryCount)}!0!==r&&!0!==i||(l=s.url.length,l>1&&s.loadError<l?(Pt.b.warn("level controller, "+o+" for level "+e+": switching to redundant stream id "+s.urlId),s.urlId=(s.urlId+1)%l,s.details=void 0):-1===this.manualLevelIndex?(d=0===e?this._levels.length-1:e-1,Pt.b.warn("level controller, "+o+": switch to "+d),this.hls.nextAutoLevel=this.currentLevelIndex=d):!0===i&&(Pt.b.warn("level controller, "+o+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var r=this._levels[e.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,r=t.level;if(r===this.currentLevelIndex){var i=this._levels[r];!1===i.fragmentError&&(i.loadError=0,this.levelRetryCount=0);var a=t.details;if(a.live){var n=1e3*(a.averagetargetduration?a.averagetargetduration:a.targetduration),o=i.details;o&&a.endSN===o.endSN&&(n/=2,Pt.b.log("same live playlist, reload twice faster")),n-=performance.now()-t.stats.trequest,n=Math.max(1e3,Math.round(n)),Pt.b.log("live playlist, reload in "+n+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},n)}else this.cleanTimer()}},e.prototype.loadLevel=function(){var t=void 0,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(t=this._levels[this.currentLevelIndex])&&t.url.length>0&&(e=t.urlId,this.hls.trigger(Ot.a.LEVEL_LOADING,{url:t.url[e],level:this.currentLevelIndex,id:e}))},be(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(Nt),Te=Ee,Re=r(3),Ae=function(t){function e(r){x(this,e);var i=F(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.FRAG_PARSING_METADATA));return i.id3Track=void 0,i.media=void 0,i}return N(e,t),e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){this.media=void 0},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,a=0;a<r.length;a++){var n=Re.a.getID3Frames(r[a].data);if(n){var o=r[a].pts,s=a<r.length-1?r[a+1].pts:e.endPTS;o===s&&(s+=1e-4);for(var l=0;l<n.length;l++){var u=n[l];if(!Re.a.isTimeStampFrame(u)){var d=new i(o,s,"");d.value=u,this.id3Track.addCue(d)}}}}},e}(Nt),Se=Ae,Le=function(){function t(e){U(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),_e=Le,we=function(){function t(e,r,i,a){B(this,t),this.hls=e,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new _e(r),this.fast_=new _e(i)}return t.prototype.sample=function(t,e){t=Math.max(t,this.minDelayMs_);var r=8e3*e/t,i=t/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}(),De=we,Ie=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),ke=function(t){function e(r){G(this,e);var i=j(this,t.call(this,r,Ot.a.FRAG_LOADING,Ot.a.FRAG_LOADED,Ot.a.FRAG_BUFFERED,Ot.a.ERROR));return i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=r,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(i),i}return H(e,t),e.prototype.destroy=function(){this.clearTimer(),Nt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var r=this.hls,i=t.frag.level,a=r.levels[i].details.live,n=r.config,o=void 0,s=void 0;a?(o=n.abrEwmaFastLive,s=n.abrEwmaSlowLive):(o=n.abrEwmaFastVoD,s=n.abrEwmaSlowVoD),this._bwEstimator=new De(r,s,o,n.abrEwmaDefaultEstimate)}this.fragCurrent=e}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,r=this.fragCurrent,i=r.loader,a=t.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return Pt.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var n=i.stats;if(e&&n&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&r.autoLevel&&r.level){var o=performance.now()-n.trequest,s=Math.abs(e.playbackRate);if(o>500*r.duration/s){var l=t.levels,u=Math.max(1,n.bw?n.bw/8:1e3*n.loaded/o),d=l[r.level],h=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,c=n.total?n.total:Math.max(n.loaded,Math.round(r.duration*h/8)),f=e.currentTime,p=(c-n.loaded)/u,g=(ae.bufferInfo(e,f,t.config.maxBufferHole).end-f)/s;if(g<2*r.duration/s&&p>g){var v=void 0,y=void 0;for(y=r.level-1;y>a;y--){var m=l[y].realBitrate?Math.max(l[y].realBitrate,l[y].bitrate):l[y].bitrate;if((v=r.duration*m/(6.4*u))<g)break}v<p&&(Pt.b.warn("loading too slow, abort fragment loading and switch to level "+y+":fragLoadedDelay["+y+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+v.toFixed(1)+"<"+p.toFixed(1)+":"+g.toFixed(1)),t.nextLoadLevel=y,this._bwEstimator.sample(o,n.loaded),i.abort(),this.clearTimer(),t.trigger(Ot.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:n}))}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[e.level],i=(r.loaded?r.loaded.bytes:0)+t.stats.loaded,a=(r.loaded?r.loaded.duration:0)+t.frag.duration;r.loaded={bytes:i,duration:a},r.realBitrate=Math.round(8*i/a)}if(t.frag.bitrateTest){var n=t.stats;n.tparsed=n.tbuffered=n.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,r=t.frag;if(!(!0===e.aborted||1!==r.loadCounter||"main"!==r.type||isNaN(r.sn)||r.bitrateTest&&e.tload!==e.tbuffered)){var i=e.tparsed-e.trequest;Pt.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case Ct.a.FRAG_LOAD_ERROR:case Ct.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,r,i,a,n,o,s,l){for(var u=a;u>=i;u--){var d=l[u],h=d.details,c=h?h.totalduration/h.fragments.length:e,f=!!h&&h.live,p=void 0;p=u<=t?o*r:s*r;var g=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,v=g*c/p;if(Pt.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(p)+"/"+g+"/"+c+"/"+n+"/"+v),p>g&&(!v||f&&!this.bitrateTestDelay||v<n))return u}return-1},Ie(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var r=this._nextABRAutoLevel;return-1!==t&&(r=Math.min(t,r)),r},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,r=t.levels,i=t.config,a=t.minAutoLevel,n=t.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=n?n.currentTime:0,u=n&&0!==n.playbackRate?Math.abs(n.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(ae.bufferInfo(n,l,i.maxBufferHole).end-l)/u,c=this._findBestLevel(o,s,d,a,e,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(c>=0)return c;Pt.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var f=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,p=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(0===h){var v=this.bitrateTestDelay;if(v){f=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-v,Pt.b.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),p=g=1}}return c=this._findBestLevel(o,s,d,a,e,h+f,p,g,r),Math.max(c,0)}}]),e}(Nt),Oe=ke,Ce=y(),Pe=function(t){function e(r){K(this,e);var i=W(this,t.call(this,r,Ot.a.MEDIA_ATTACHING,Ot.a.MEDIA_DETACHING,Ot.a.MANIFEST_PARSED,Ot.a.BUFFER_RESET,Ot.a.BUFFER_APPENDING,Ot.a.BUFFER_CODECS,Ot.a.BUFFER_EOS,Ot.a.BUFFER_FLUSHING,Ot.a.LEVEL_PTS_UPDATED,Ot.a.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i._live=null,i._objectUrl=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return V(e,t),e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,r=this.tracks.audio;if("audio"===e&&r&&"audio/mpeg"===r.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-t.start)>.1){var a=i.updating;try{i.abort()}catch(t){a=!0,Pt.b.warn("can not abort audio buffer: "+t)}a?this.audioTimestampOffset=t.start:(Pt.b.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,r=t.video||t.levels.length&&t.audio,i=0;t.altAudio&&(e||r)&&(i=(e?1:0)+(r?1:0),Pt.b.log(i+" sourceBuffer(s) expected")),this.sourceBufferNb=i},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var r=this.mediaSource=new Ce;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(r),this._objectUrl=e.src}},e.prototype.onMediaDetaching=function(){Pt.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){Pt.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):Pt.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(Ot.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){Pt.b.log("media source opened"),this.hls.trigger(Ot.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){Pt.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){Pt.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;Pt.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,r=this.segments.reduce(function(t,r){return r.parent===e?t+1:t},0);this.hls.trigger(Ot.a.BUFFER_APPENDED,{parent:e,pending:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){Pt.b.error("sourceBuffer error:",t),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var r=t[e];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var r=this.mediaSource;r&&"open"===r.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,r=this.mediaSource;for(var i in t)if(!e[i]){var a=t[i],n=a.levelCodec||a.codec,o=a.container+";codecs="+n;Pt.b.log("creating sourceBuffer("+o+")");try{var s=e[i]=r.addSourceBuffer(o);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[i]={codec:n,container:a.container},a.buffer=s}catch(t){Pt.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:o})}}this.hls.trigger(Ot.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){Pt.b.error("sourceBuffer error:",t.event),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,r=t.type;for(var i in e)r&&i!==r||e[i].ended||(e[i].ended=!0,Pt.b.log(i+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(!e||"open"!==e.readyState)return void(this._needsEos=!1);for(var r in t){var i=t[r];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}Pt.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){Pt.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t=this.hls.config,e=void 0;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(Pt.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||e===1/0||isNaN(e))&&(Pt.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,r=this.sourceBuffer;try{for(var i in r)e+=r[i].buffered.length}catch(t){Pt.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(Ot.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,r=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void Pt.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(r&&r.length){var i=r.shift();try{var a=i.type,n=e[a];n?n.updating?r.unshift(i):(n.ended=!1,this.parent=i.parent,n.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){Pt.b.error("error while trying to append buffer:"+e.message),r.unshift(i);var o={type:Ct.b.MEDIA_ERROR,parent:i.parent};if(22===e.code)return this.segments=[],o.details=Ct.a.BUFFER_FULL_ERROR,o.fatal=!1,void t.trigger(Ot.a.ERROR,o);if(this.appendError?this.appendError++:this.appendError=1,o.details=Ct.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry)return Pt.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],o.fatal=!0,void t.trigger(Ot.a.ERROR,o);o.fatal=!1,t.trigger(Ot.a.ERROR,o)}}}},e.prototype.flushBuffer=function(t,e,r){var i,a,n,o,s,l,u=this.sourceBuffer;if(Object.keys(u).length){if(Pt.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var d in u)if(!r||d===r){if(i=u[d],i.ended=!1,i.updating)return Pt.b.warn("cannot flush, sb updating in progress"),!1;try{for(a=0;a<i.buffered.length;a++)if(n=i.buffered.start(a),o=i.buffered.end(a),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(s=t,l=e):(s=Math.max(n,t),l=Math.min(o,e)),Math.min(l,o)-s>.5)return this.flushBufferCounter++,Pt.b.log("flush "+d+" ["+s+","+l+"], of ["+n+","+o+"], pos:"+this.media.currentTime),i.remove(s,l),!1}catch(t){Pt.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else Pt.b.warn("abort flushing too many retries");Pt.b.log("buffer flushed")}return!0},e}(Nt),xe=Pe,Fe=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ne=function(t){function e(r){return Y(this,e),z(this,t.call(this,r,Ot.a.FPS_DROP_LEVEL_CAPPING,Ot.a.MEDIA_ATTACHING,Ot.a.MANIFEST_PARSED))}return X(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var r=this;if(!this.levels)return-1;var i=this.levels.filter(function(i,a){return e.isLevelAllowed(a,r.restrictedLevels)&&a<=t});return e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,r){if(!t||t&&!t.length)return-1;for(var i=t.length-1,a=0;a<t.length;a+=1){var n=t[a];if((n.width>=e||n.height>=r)&&function(t,e){return!e||(t.width!==e.width||t.height!==e.height)}(n,t[a+1])){i=a;break}}return i},Fe(e,[{key:"mediaWidth",get:function(){var t=void 0,r=this.media;return r&&(t=r.width||r.clientWidth||r.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,r=this.media;return r&&(t=r.height||r.clientHeight||r.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(Nt),Me=Ne,Ue=function(t){function e(r){return q(this,e),Q(this,t.call(this,r,Ot.a.MEDIA_ATTACHING))}return J(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;if(e.capLevelOnFPSDrop){"function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}},e.prototype.checkFPS=function(t,e,r){var i=performance.now();if(e){if(this.lastTime){var a=i-this.lastTime,n=r-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*n/a,l=this.hls;if(l.trigger(Ot.a.FPS_DROP,{currentDropped:n,currentDecoded:o,totalDroppedFrames:r}),s>0&&n>l.config.fpsDroppedMonitoringThreshold*o){var u=l.currentLevel;Pt.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(Ot.a.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,l.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(Nt),Be=Ue,Ge=function(){function t(e){$(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,r){this.context=t,this.config=e,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new XMLHttpRequest;var r=this.stats;r.tfirst=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(r){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(r){return void this.callbacks.onError({code:t.status,text:r.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,r=e.readyState,i=this.stats,a=this.context,n=this.config;if(!i.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest)),4===r){var o=e.status;if(o>=200&&o<300){i.tload=Math.max(i.tfirst,performance.now());var s=void 0,l=void 0;"arraybuffer"===a.responseType?(s=e.response,l=s.byteLength):(s=e.responseText,l=s.length),i.loaded=i.total=l;var u={url:e.responseURL,data:s};this.callbacks.onSuccess(u,i,a,e)}else i.retry>=n.maxRetry||o>=400&&o<499?(Pt.b.error(o+" while loading "+a.url),this.callbacks.onError({code:o,text:e.statusText},a,e)):(Pt.b.warn(o+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,n.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),n.timeout)},t.prototype.loadtimeout=function(){Pt.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,r=this.stats;r.loaded=t.loaded,t.lengthComputable&&(r.total=t.total);var i=this.callbacks.onProgress;i&&i(r,this.context,null,e)},t}(),je=Ge,He=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ke=function(t){function e(r){Z(this,e);var i=tt(this,t.call(this,r,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_PARSED,Ot.a.AUDIO_TRACK_LOADED,Ot.a.ERROR));return i.ticks=0,i.ontick=i.tick.bind(i),i}return et(e,t),e.prototype.destroy=function(){this.cleanTimer(),Nt.prototype.destroy.call(this)},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){this.updateTrack(this.trackId)},e.prototype.onError=function(t){t.fatal&&t.type===Ct.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestParsed=function(t){var e=this,r=t.audioTracks||[],i=!1;this.tracks=r,this.hls.trigger(Ot.a.AUDIO_TRACKS_UPDATED,{audioTracks:r});var a=0;r.forEach(function(t){if(t.default&&!i)return e.audioTrack=a,void(i=!0);a++}),!1===i&&r.length&&(Pt.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},e.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(Pt.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},e.prototype.setAudioTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,Pt.b.log("switching to audioTrack "+t);var e=this.tracks[t],r=this.hls,i=e.type,a=e.url,n={id:t,type:i,url:a};r.trigger(Ot.a.AUDIO_TRACK_SWITCH,n),r.trigger(Ot.a.AUDIO_TRACK_SWITCHING,n);var o=e.details;!a||void 0!==o&&!0!==o.live||(Pt.b.log("(re)loading playlist for audioTrack "+t),r.trigger(Ot.a.AUDIO_TRACK_LOADING,{url:a,id:t}))}},e.prototype.updateTrack=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,Pt.b.log("updating audioTrack "+t);var e=this.tracks[t],r=e.url,i=e.details;!r||void 0!==i&&!0!==i.live||(Pt.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(Ot.a.AUDIO_TRACK_LOADING,{url:r,id:t}))}},He(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}(Nt),We=Ke,Ve=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ye={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},ze=function(t){function e(r){rt(this,e);var i=it(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.AUDIO_TRACKS_UPDATED,Ot.a.AUDIO_TRACK_SWITCHING,Ot.a.AUDIO_TRACK_LOADED,Ot.a.KEY_LOADED,Ot.a.FRAG_LOADED,Ot.a.FRAG_PARSING_INIT_SEGMENT,Ot.a.FRAG_PARSING_DATA,Ot.a.FRAG_PARSED,Ot.a.ERROR,Ot.a.BUFFER_RESET,Ot.a.BUFFER_CREATED,Ot.a.BUFFER_APPENDED,Ot.a.BUFFER_FLUSHED,Ot.a.INIT_PTS_FOUND));return i.config=r.config,i.audioCodecSwap=!1,i.ticks=0,i._state=Ye.STOPPED,i.ontick=i.tick.bind(i),i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return at(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Nt.prototype.destroy.call(this),this.state=Ye.STOPPED},e.prototype.onInitPtsFound=function(t){var e=t.id,r=t.frag.cc,i=t.initPTS;"main"===e&&(this.initPTS[r]=i,this.videoTrackCC=r,Pt.b.log("InitPTS for cc:"+r+" found from video track:"+i),this.state===Ye.WAITING_INIT_PTS&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,e>0&&-1===t?(Pt.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=Ye.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=Ye.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=Ye.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Ye.STOPPED},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){var t,e,r,i=this.hls,a=i.config;switch(this.state){case Ye.ERROR:case Ye.PAUSED:case Ye.BUFFER_FLUSHING:break;case Ye.STARTING:this.state=Ye.WAITING_TRACK,this.loadedmetadata=!1;break;case Ye.IDLE:var n=this.tracks;if(!n)break;if(!this.media&&(this.startFragRequested||!a.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,l=ae.bufferInfo(o,t,a.maxBufferHole),u=ae.bufferInfo(s,t,a.maxBufferHole),d=l.len,h=l.end,c=this.fragPrevious,f=Math.max(a.maxBufferLength,u.len),p=this.audioSwitch,g=this.trackId;if((d<f||p)&&g<n.length){if(void 0===(r=n[g].details)){this.state=Ye.WAITING_TRACK;break}if(!p&&!r.live&&c&&c.sn===r.endSN&&!l.nextStart&&(!this.media.seeking||this.media.duration-h<c.duration/2)){this.hls.trigger(Ot.a.BUFFER_EOS,{type:"audio"}),this.state=Ye.ENDED;break}var v=r.fragments,y=v.length,m=v[0].start,b=v[y-1].start+v[y-1].duration,E=void 0;if(p)if(r.live&&!r.PTSKnown)Pt.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),h=0;else if(h=t,r.PTSKnown&&t<m){if(!(l.end>m||l.nextStart))return;Pt.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=m+.05}if(r.initSegment&&!r.initSegment.data)E=r.initSegment;else if(h<=m){if(E=v[0],null!==this.videoTrackCC&&E.cc!==this.videoTrackCC&&(E=A(v,this.videoTrackCC)),r.live&&E.loadIdx&&E.loadIdx===this.fragLoadIdx){var T=l.nextStart?l.nextStart:m;return Pt.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(T+.05)),void(this.media.currentTime=T+.05)}}else{var R=void 0,S=a.maxFragLookUpTolerance,L=c?v[c.sn-v[0].sn+1]:void 0,_=function(t){var e=Math.min(S,t.duration);return t.start+t.duration-e<=h?1:t.start-e>h&&t.start?-1:0};h<b?(h>b-S&&(S=0),R=L&&!_(L)?L:re.search(v,_)):R=v[y-1],R&&(E=R,m=R.start,c&&E.level===c.level&&E.sn===c.sn&&(E.sn<r.endSN?(E=v[E.sn+1-r.startSN],Pt.b.log("SN just loaded, load next one: "+E.sn)):E=null))}if(E)if(E.decryptdata&&null!=E.decryptdata.uri&&null==E.decryptdata.key)Pt.b.log("Loading key for "+E.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+g),this.state=Ye.KEY_LOADING,i.trigger(Ot.a.KEY_LOADING,{frag:E});else{if(Pt.b.log("Loading "+E.sn+", cc: "+E.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+g+", currentTime:"+t+",bufferEnd:"+h.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,E.loadCounter){E.loadCounter++;var w=a.fragLoadingLoopThreshold;if(E.loadCounter>w&&Math.abs(this.fragLoadIdx-E.loadIdx)<w)return void i.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:E})}else E.loadCounter=1;E.loadIdx=this.fragLoadIdx,this.fragCurrent=E,this.startFragRequested=!0,isNaN(E.sn)||(this.nextLoadPosition=E.start+E.duration),i.trigger(Ot.a.FRAG_LOADING,{frag:E}),this.state=Ye.FRAG_LOADING}}break;case Ye.WAITING_TRACK:e=this.tracks[this.trackId],e&&e.details&&(this.state=Ye.IDLE);break;case Ye.FRAG_LOADING_WAITING_RETRY:var D=performance.now(),I=this.retryDate;o=this.media;var k=o&&o.seeking;(!I||D>=I||k)&&(Pt.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Ye.IDLE);break;case Ye.WAITING_INIT_PTS:var O=this.videoTrackCC;if(void 0===this.initPTS[O])break;var C=this.waitingFragment;if(C){var P=C.frag.cc;O!==P?(e=this.tracks[this.trackId],e.details&&e.details.live&&(Pt.b.warn("Waiting fragment CC ("+P+") does not match video track CC ("+O+")"),this.waitingFragment=null,this.state=Ye.IDLE)):(this.state=Ye.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Ye.IDLE;break;case Ye.STOPPED:case Ye.FRAG_LOADING:case Ye.PARSING:case Ye.PARSED:case Ye.ENDED:}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(Pt.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.tracks;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===Ye.ENDED&&(this.state=Ye.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){Pt.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=Ye.PAUSED,this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=Ye.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,r=t.id,i=this.tracks[r],a=e.totalduration,n=0;if(Pt.b.log("track "+r+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live){var o=i.details;o&&e.fragments.length>0?(T(o,e),n=e.fragments[0].start,e.PTSKnown?Pt.b.log("live audio playlist sliding:"+n.toFixed(3)):Pt.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,Pt.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(i.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;isNaN(s)?this.startPosition=0:(Pt.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===Ye.WAITING_TRACK&&(this.state=Ye.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===Ye.KEY_LOADING&&(this.state=Ye.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag;if(this.state===Ye.FRAG_LOADING&&e&&"audio"===r.type&&r.level===e.level&&r.sn===e.sn){var i=this.tracks[this.trackId],a=i.details,n=a.totalduration,o=e.level,s=e.sn,l=e.cc,u=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",d=this.stats=t.stats;if("initSegment"===s)this.state=Ye.IDLE,d.tparsed=d.tbuffered=performance.now(),a.initSegment.data=t.payload,this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:d,frag:e,id:"audio"}),this.tick();else{this.state=Ye.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new ce(this.hls,"audio"));var h=this.initPTS[l],c=a.initSegment?a.initSegment.data:[];if(a.initSegment||void 0!==h){this.pendingBuffering=!0,Pt.b.log("Demuxing "+s+" of ["+a.startSN+" ,"+a.endSN+"],track "+o);this.demuxer.push(t.payload,c,u,null,e,n,!1,h)}else Pt.b.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+a.startSN+" ,"+a.endSN+"],track "+o),this.waitingFragment=t,this.state=Ye.WAITING_INIT_PTS}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===Ye.PARSING){var i=t.tracks,a=void 0;if(i.video&&delete i.video,a=i.audio){a.levelCodec=a.codec,a.id=t.id,this.hls.trigger(Ot.a.BUFFER_CODECS,i),Pt.b.log("audio track:audio,container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var n=a.initSegment;if(n){var o={type:"audio",data:n,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Ot.a.BUFFER_APPENDING,o))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,r=this.fragCurrent,i=t.frag;if(r&&"audio"===t.id&&"audio"===t.type&&i.sn===r.sn&&i.level===r.level&&this.state===Ye.PARSING){var a=this.trackId,n=this.tracks[a],o=this.hls;isNaN(t.endPTS)&&(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),Pt.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),E(n.details,r,t.startPTS,t.endPTS);var s=this.audioSwitch,l=this.media,u=!1;if(s&&l)if(l.readyState){var d=l.currentTime;Pt.b.log("switching audio track : currentTime:"+d),d>=t.startPTS&&(Pt.b.log("switching audio track : flushing all audio"),this.state=Ye.BUFFER_FLUSHING,o.trigger(Ot.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),u=!0,this.audioSwitch=!1,o.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:a}))}else this.audioSwitch=!1,o.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:a});var h=this.pendingData;this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&h.push({type:t.type,data:e,parent:"audio",content:"data"})}),!u&&h.length&&(h.forEach(function(t){e.state===Ye.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(Ot.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===Ye.PARSING&&(this.stats.tparsed=performance.now(),this.state=Ye.PARSED,this._checkAppendedParsed())},e.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==Ye.PARSING&&e!==Ye.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==Ye.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,r=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),r.trigger(Ot.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;Pt.b.log("audio buffered : "+pe.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Ye.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case Ct.a.FRAG_LOAD_ERROR:case Ct.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var r=this.fragLoadError;r?r++:r=1;var i=this.config;if(r<=i.fragLoadingMaxRetry){this.fragLoadError=r,e.loadCounter=0;var a=Math.min(Math.pow(2,r-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);Pt.b.warn("audioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=performance.now()+a,this.state=Ye.FRAG_LOADING_WAITING_RETRY}else Pt.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ye.ERROR}break;case Ct.a.FRAG_LOOP_LOADING_ERROR:case Ct.a.AUDIO_TRACK_LOAD_ERROR:case Ct.a.AUDIO_TRACK_LOAD_TIMEOUT:case Ct.a.KEY_LOAD_ERROR:case Ct.a.KEY_LOAD_TIMEOUT:this.state!==Ye.ERROR&&(this.state=t.fatal?Ye.ERROR:Ye.IDLE,Pt.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case Ct.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===Ye.PARSING||this.state===Ye.PARSED)){var n=this.mediaBuffer,o=this.media.currentTime;if(n&&ae.isBuffered(n,o)&&ae.isBuffered(n,o+.5)){var s=this.config;s.maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,Pt.b.warn("audio:reduce max buffer length to "+s.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*s.fragLoadingLoopThreshold),this.state=Ye.IDLE}else Pt.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Ye.BUFFER_FLUSHING,this.hls.trigger(Ot.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(Pt.b.log("appending pending audio data on Buffer Flushed"),e.forEach(function(e){t.hls.trigger(Ot.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=Ye.PARSED):(this.state=Ye.IDLE,this.fragPrevious=null,this.tick())},Ve(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,Pt.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(Nt),Xe=ze,qe=function(){function t(t){return"string"==typeof t&&(!!n[t.toLowerCase()]&&t.toLowerCase())}function e(t){return"string"==typeof t&&(!!o[t.toLowerCase()]&&t.toLowerCase())}function r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)t[i]=r[i]}return t}function i(i,n,o){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var d="",h=!1,c=i,f=n,p=o,g=null,v="",y=!0,m="auto",b="start",E=50,T="middle",R=50,A="middle";if(Object.defineProperty(s,"id",r({},u,{get:function(){return d},set:function(t){d=""+t}})),Object.defineProperty(s,"pauseOnExit",r({},u,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(s,"startTime",r({},u,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},u,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},u,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},u,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},u,{get:function(){return v},set:function(e){var r=t(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");v=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},u,{get:function(){return y},set:function(t){y=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},u,{get:function(){return m},set:function(t){if("number"!=typeof t&&t!==a)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},u,{get:function(){return b},set:function(t){var r=e(t);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");b=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},u,{get:function(){return E},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},u,{get:function(){return T},set:function(t){var r=e(t);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");T=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},u,{get:function(){return R},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");R=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},u,{get:function(){return A},set:function(t){var r=e(t);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");A=r,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var a="auto",n={"":!0,lr:!0,rl:!0},o={start:!0,middle:!0,end:!0,left:!0,right:!0};return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}(),Qe=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};st.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Je=new qe(0,0,0),$e="middle"===Je.align?"middle":"center";nt.prototype={parse:function(t){function e(){var t=r.buffer,e=0;for(t=dt(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var i=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,r.buffer=t.substr(e),i}var r=this;t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));try{var i;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;i=e();var a=i.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var n=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(n?n=!1:i=e(),r.state){case"HEADER":/:/.test(i)?function(t){lt(t,function(t,e){switch(t){case"Region":console.log("parse region",e)}},/:/)}(i):i||(r.state="ID");continue;case"NOTE":i||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){r.state="NOTE";break}if(!i)continue;if(r.cue=new qe(0,0,""),r.state="CUE",-1===i.indexOf("--\x3e")){r.cue.id=i;continue}case"CUE":try{ut(i,r.cue,r.regionList)}catch(t){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var o=-1!==i.indexOf("--\x3e");if(!i||o&&(n=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=i;continue;case"BADCUE":i||(r.state="ID");continue}}}catch(t){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return t.onflush&&t.onflush(),this}};var Ze=nt,tr={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},er=function(t){var e=t;return tr.hasOwnProperty(t)&&(e=tr[t]),String.fromCharCode(e)},rr=15,ir=100,ar={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},nr={17:2,18:4,21:6,22:8,23:10,19:13,20:15},or={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},sr={25:2,26:4,29:6,30:8,31:10,27:13,28:15},lr=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],ur={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var r=this.verboseFilter[t];this.verboseLevel>=r&&console.log(this.time+" ["+t+"] "+e)}},dr=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toString(16));return e},hr=function(){function t(e,r,i,a,n){ct(this,t),this.foreground=e||"white",this.underline=r||!1,this.italics=i||!1,this.background=a||"black",this.flash=n||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(this[i]=t[i])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),cr=function(){function t(e,r,i,a,n,o){ct(this,t),this.uchar=e||" ",this.penState=new hr(r,i,a,n,o)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),fr=function(){function t(){ct(this,t),this.chars=[];for(var e=0;e<ir;e++)this.chars.push(new cr);this.pos=0,this.currPenState=new hr}return t.prototype.equals=function(t){for(var e=!0,r=0;r<ir;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<ir;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<ir;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(ur.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>ir&&(ur.log("ERROR","Too large cursor position "+this.pos),this.pos=ir)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var r=this.pos+1;r<e+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=er(t);if(this.pos>=ir)return void ur.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1)},t.prototype.clearFromPos=function(t){var e;for(e=t;e<ir;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,r=0;r<ir;r++){var i=this.chars[r].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),pr=function(){function t(){ct(this,t),this.rows=[];for(var e=0;e<rr;e++)this.rows.push(new fr);this.currRow=rr-1,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<rr;t++)this.rows[t].clear();this.currRow=rr-1},t.prototype.equals=function(t){for(var e=!0,r=0;r<rr;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<rr;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<rr;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){ur.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){ur.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var r=0;r<rr;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var n=a.rows[i].cueStartTime;if(n&&n<ur.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[e-this.nrRollUpRows+o+1].copy(a.rows[i+o])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,u=Math.max(l-1,0);s.setCursor(t.indent),t.color=s.chars[u].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},t.prototype.setBkgData=function(t){ur.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null===this.nrRollUpRows)return void ur.log("DEBUG","roll_up but nrRollUpRows not set yet");ur.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),ur.log("INFO","Rolling up")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],r="",i=-1,a=0;a<rr;a++){var n=this.rows[a].getTextString();n&&(i=a+1,t?e.push("Row "+i+": '"+n+"'"):e.push(n.trim()))}return e.length>0&&(r=t?"["+e.join(" | ")+"]":e.join("\n")),r},t.prototype.getTextAndFormat=function(){return this.rows},t}(),gr=function(){function t(e,r){ct(this,t),this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new pr,this.nonDisplayedMemory=new pr,this.lastOutputScreen=new pr,this.currRollUpRow=this.displayedMemory.rows[rr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[rr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,ur.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";ur.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(ur.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){ur.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){ur.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){ur.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){ur.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){ur.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){ur.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){ur.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){ur.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){ur.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){ur.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){ur.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(ur.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,ur.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){ur.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var r=Math.floor(t/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=i[r]}ur.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=ur.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),vr=function(){function t(e,r,i){ct(this,t),this.field=e||1,this.outputs=[r,i],this.channels=[new gr(1,r),new gr(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var r,i,a,n=!1;this.lastTime=t,ur.setTime(t);for(var o=0;o<e.length;o+=2)if(i=127&e[o],a=127&e[o+1],0!==i||0!==a){if(ur.log("DATA","["+dr([e[o],e[o+1]])+"] -> ("+dr([i,a])+")"),r=this.parseCmd(i,a),r||(r=this.parseMidrow(i,a)),r||(r=this.parsePAC(i,a)),r||(r=this.parseBackgroundAttributes(i,a)),!r&&(n=this.parseChars(i,a)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(n)}else ur.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:n?this.dataCounters.char+=2:(this.dataCounters.other+=2,ur.log("WARNING","Couldn't parse cleaned data "+dr([i,a])+" orig: "+dr([e[o],e[o+1]])))}else this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var r=null,i=(20===t||28===t)&&32<=e&&e<=47,a=(23===t||31===t)&&33<=e&&e<=35;if(!i&&!a)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,ur.log("DEBUG","Repeated command ("+dr([t,e])+") is dropped"),!0;r=20===t||23===t?1:2;var n=this.channels[r-1];return 20===t||28===t?32===e?n.ccRCL():33===e?n.ccBS():34===e?n.ccAOF():35===e?n.ccAON():36===e?n.ccDER():37===e?n.ccRU(2):38===e?n.ccRU(3):39===e?n.ccRU(4):40===e?n.ccFON():41===e?n.ccRDC():42===e?n.ccTR():43===e?n.ccRTD():44===e?n.ccEDM():45===e?n.ccCR():46===e?n.ccENM():47===e&&n.ccEOC():n.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=r,!0},t.prototype.parseMidrow=function(t,e){var r=null;if((17===t||25===t)&&32<=e&&e<=47){if((r=17===t?1:2)!==this.currChNr)return ur.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[r-1].ccMIDROW(e),ur.log("DEBUG","MIDROW ("+dr([t,e])+")"),!0}return!1},t.prototype.parsePAC=function(t,e){var r=null,i=null,a=(17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127,n=(16===t||24===t)&&64<=e&&e<=95;if(!a&&!n)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=t<=23?1:2,i=64<=e&&e<=95?1===r?ar[t]:or[t]:1===r?nr[t]:sr[t];var o=this.interpretPAC(i,e);return this.channels[r-1].setPAC(o),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=r,!0},t.prototype.interpretPAC=function(t,e){var r=e,i={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,i.underline=1==(1&r),r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((r-16)/2),i},t.prototype.parseChars=function(t,e){var r=null,i=null,a=null;if(t>=25?(r=2,a=t-8):(r=1,a=t),17<=a&&a<=19){var n=e;n=17===a?e+80:18===a?e+112:e+144,ur.log("INFO","Special char '"+er(n)+"' in channel "+r),i=[n]}else 32<=t&&t<=127&&(i=0===e?[t]:[t,e]);if(i){var o=dr(i);ur.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},t.prototype.parseBackgroundAttributes=function(t,e){var r,i,a,n,o=(16===t||24===t)&&32<=e&&e<=47,s=(23===t||31===t)&&45<=e&&e<=47;return!(!o&&!s)&&(r={},16===t||24===t?(i=Math.floor((e-32)/2),r.background=lr[i],e%2==1&&(r.background=r.background+"_semi")):45===e?r.background="transparent":(r.foreground="black",47===e&&(r.underline=!0)),a=t<24?1:2,n=this.channels[a-1],n.setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}(),yr=vr,mr=function(){function t(e,r){ft(this,t),this.timelineController=e,this.track=r,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.track)},t}(),br=mr,Er=function(t,e,r){return t.substr(r||0,e.length)===e},Tr=function(t){var e=parseInt(t.substr(-3)),r=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),a=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;return isNaN(e)||isNaN(r)||isNaN(i)||isNaN(a)?-1:(e+=1e3*r,e+=6e4*i,e+=36e5*a)},Rr=function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return(e>>>0).toString()},Ar=function(t,e,r){var i=t[e],a=t[i.prevCC];if(!a||!a.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;a&&a.new;)t.ccOffset+=i.start-a.start,i.new=!1,i=a,a=t[i.prevCC];t.presentationOffset=r},Sr={parse:function(t,e,r,i,a,n){var o=/\r\n|\n\r|\n|\r/g,s=Object(Re.b)(new Uint8Array(t)).trim().replace(o,"\n").split("\n"),l="00:00.000",u=0,d=0,h=0,c=[],f=void 0,p=!0,g=new Ze;g.oncue=function(t){var e=r[i],a=r.ccOffset;e&&e.new&&(void 0!==d?a=r.ccOffset=e.start:Ar(r,i,h)),h&&(a=h+r.ccOffset-r.presentationOffset),t.startTime+=a-d,t.endTime+=a-d,t.id=Rr(t.startTime.toString())+Rr(t.endTime.toString())+Rr(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&c.push(t)},g.onparsingerror=function(t){f=t},g.onflush=function(){if(f&&n)return void n(f);a(c)},s.forEach(function(t){if(p){if(Er(t,"X-TIMESTAMP-MAP=")){p=!1,t.substr(16).split(",").forEach(function(t){Er(t,"LOCAL:")?l=t.substr(6):Er(t,"MPEGTS:")&&(u=parseInt(t.substr(7)))});try{e=e<0?e+8589934592:e,u-=e,d=Tr(l)/1e3,h=u/9e4,-1===d&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){f=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(p=!1)}g.parse(t+"\n")}),g.flush()}},Lr=Sr,_r=function(t){function e(r){pt(this,e);var i=gt(this,t.call(this,r,Ot.a.MEDIA_ATTACHING,Ot.a.MEDIA_DETACHING,Ot.a.FRAG_PARSING_USERDATA,Ot.a.FRAG_DECRYPTED,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_LOADED,Ot.a.FRAG_LOADED,Ot.a.LEVEL_SWITCHING,Ot.a.INIT_PTS_FOUND));if(i.hls=r,i.config=r.config,i.enabled=!0,i.Cues=r.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=void 0,i.cueRanges=[],i.config.enableCEA708Captions){var a=new br(i,1),n=new br(i,2);i.cea608Parser=new yr(0,a,n)}return i}return vt(e,t),e.prototype.addCues=function(t,e,r,i){for(var a=this.cueRanges,n=!1,o=a.length;o--;){var s=a[o],l=bt(s[0],s[1],e,r);if(l>=0&&(s[0]=Math.min(s[0],e),s[1]=Math.max(s[1],r),n=!0,l/(r-e)>.5))return}n||a.push([e,r]),this.Cues.newCue(this[t],e,r,i)},e.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var r=0;r<e.textTracks.length;r++){var i=e.textTracks[r],a="textTrack"+t;if(!0===i[a])return i}return null},e.prototype.sendAddTrackEvent=function(t,e){var r=null;try{r=new window.Event("addtrack")}catch(t){r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)},e.prototype.createCaptionsTrack=function(t){var e="textTrack"+t;if(!this[e]){var r=this.getExistingTrack(t);if(r)this[e]=r,yt(this[e]),this.sendAddTrackEvent(this[e],this.media);else{var i=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config.captionsTextTrack1LanguageCode);i&&(i[e]=!0,this[e]=i)}}},e.prototype.createTextTrack=function(t,e,r){var i=this.media;if(i)return i.addTextTrack(t,e,r)},e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},e.prototype.onMediaDetaching=function(){yt(this.textTrack1),yt(this.textTrack2)},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},e.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var r=0;r<e.length;r++)yt(e[r])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,i){var a=void 0;if(i<r.length){var n=r[i];mt(n,t)&&(a=n)}a||(a=e.createTextTrack("subtitles",t.name,t.lang)),a.mode=t.default?"showing":"hidden",e.textTracks.push(a)})}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,r=t.payload;if("main"===e.type){var i=e.sn;if(i!==this.lastSn+1){var a=this.cea608Parser;a&&a.reset()}this.lastSn=i}else if("subtitle"===e.type)if(r.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var n=e.decryptdata;null!=n&&null!=n.key&&"AES-128"===n.method||this._parseVTTs(e,r)}else this.hls.trigger(Ot.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype._parseVTTs=function(t,e){var r=this.vttCCs;r[t.cc]||(r[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var i=this.textTracks,a=this.hls;Lr.parse(e,this.initPTS,r,t.cc,function(e){var r=i[t.trackId];e.forEach(function(t){if(!r.cues.getCueById(t.id))try{r.addCue(t)}catch(i){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,r.addCue(e)}}),a.trigger(Ot.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){Pt.b.log("Failed to parse VTT cue: "+e),a.trigger(Ot.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},e.prototype.onFragDecrypted=function(t){var e=t.payload,r=t.frag;if("subtitle"===r.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(r,e)}},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var r=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,r)}},e.prototype.extractCea608Data=function(t){for(var e,r,i,a,n,o=31&t[0],s=2,l=[],u=0;u<o;u++)e=t[s++],r=127&t[s++],i=127&t[s++],a=0!=(4&e),n=3&e,0===r&&0===i||a&&0===n&&(l.push(r),l.push(i));return l},e}(Nt),wr=_r,Dr=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ir=function(t){function e(r){Et(this,e);var i=Tt(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_LOADED,Ot.a.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=void 0,i.subtitleDisplay=!1,i}return Rt(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=At(this.media.textTracks),r=0;r<e.length;r++)"showing"===e[r].mode&&(t=r);this.subtitleTrack=t}},e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,r=t.subtitles||[];this.tracks=r,this.trackId=-1,this.hls.trigger(Ot.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var r=e.details;void 0!==r&&!0!==r.live||(Pt.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Ot.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(Pt.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},e.prototype.setSubtitleTrackInternal=function(t){if(!(t<-1||t>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var e=At(this.media.textTracks);if(-1!==this.trackId&&this.subtitleDisplay&&(e[this.trackId].mode="hidden"),this.trackId=t,Pt.b.log("switching to subtitle track "+t),this.hls.trigger(Ot.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t){var r=this.tracks[t];this.subtitleDisplay&&(e[t].mode="showing");var i=r.details;void 0!==i&&!0!==i.live||(Pt.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Ot.a.SUBTITLE_TRACK_LOADING,{url:r.url,id:t}))}}},Dr(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),e}(Nt),kr=Ir,Or=r(4),Cr={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"},Pr=function(t){function e(r){St(this,e);var i=Lt(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.ERROR,Ot.a.KEY_LOADED,Ot.a.FRAG_LOADED,Ot.a.SUBTITLE_TRACKS_UPDATED,Ot.a.SUBTITLE_TRACK_SWITCH,Ot.a.SUBTITLE_TRACK_LOADED,Ot.a.SUBTITLE_FRAG_PROCESSED));return i.config=r.config,i.vttFragSNsProcessed={},i.vttFragQueues=void 0,i.currentlyProcessing=null,i.state=Cr.STOPPED,i.currentTrackId=-1,i.ticks=0,i.decrypter=new Or.a(r.observer,r.config),i}return _t(e,t),e.prototype.destroy=function(){Nt.prototype.destroy.call(this),this.state=Cr.STOPPED},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach(function(e){t.vttFragQueues[e.id]=[]})},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(Ot.a.FRAG_LOADING,{frag:t}),this.state=Cr.FRAG_LOADING}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=Cr.IDLE,this.nextFrag()},e.prototype.onMediaAttached=function(){this.state=Cr.IDLE},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.tick=function(){var t=this;1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(function(){t.tick()},1),this.ticks=0)},e.prototype.doTick=function(){var t=this;switch(this.state){case Cr.IDLE:var e=this.tracks,r=this.currentTrackId,i=this.vttFragSNsProcessed[r],a=this.vttFragQueues[r],n=this.currentlyProcessing?this.currentlyProcessing.sn:-1,o=function(t){return i.indexOf(t.sn)>-1},s=function(t){return a.some(function(e){return e.sn===t.sn})};if(!e)break;var l;if(r<e.length&&(l=e[r].details),void 0===l)break;l.fragments.forEach(function(e){o(e)||e.sn===n||s(e)||(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key?(Pt.b.log("Loading key for "+e.sn),t.state=Cr.KEY_LOADING,t.hls.trigger(Ot.a.KEY_LOADING,{frag:e})):(e.trackId=r,a.push(e),t.nextFrag()))})}},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;Pt.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},e.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,this.clearVttFragQueues()},e.prototype.onSubtitleTrackLoaded=function(){this.tick()},e.prototype.onKeyLoaded=function(){this.state===Cr.KEY_LOADING&&(this.state=Cr.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag.decryptdata,i=t.frag,a=this.hls;if(this.state===Cr.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&null!=r&&null!=r.key&&"AES-128"===r.method){var n;try{n=performance.now()}catch(t){n=Date.now()}this.decrypter.decrypt(t.payload,r.key.buffer,r.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}a.trigger(Ot.a.FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:n,tdecrypt:e}})})}},e}(Nt),xr=Pr,Fr={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:je,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:Oe,bufferController:xe,capLevelController:Me,fpsController:Be,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};Fr.subtitleStreamController=xr,Fr.subtitleTrackController=kr,Fr.timelineController=wr,Fr.cueHandler=Dt,Fr.enableCEA708Captions=!0,Fr.enableWebVTT=!0,Fr.captionsTextTrack1Label="English",Fr.captionsTextTrack1LanguageCode="en",Fr.captionsTextTrack2Label="Spanish",Fr.captionsTextTrack2LanguageCode="es",Fr.audioStreamController=Xe,Fr.audioTrackController=We;var Nr=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Mr=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wt(this,t);var i=t.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var a in i)a in r||(r[a]=i[a]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(Pt.a)(r.debug),this.config=r,this._autoLevelCapping=-1;var n=this.observer=new se.a;n.trigger=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.emit.apply(n,[t,t].concat(r))},n.off=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.removeListener.apply(n,[t].concat(r))},this.on=n.on.bind(n),this.off=n.off.bind(n),this.trigger=n.trigger.bind(n);var o=this.abrController=new r.abrController(this),s=new r.bufferController(this),l=new r.capLevelController(this),u=new r.fpsController(this),d=new Qt(this),h=new $t(this),c=new te(this),f=new Se(this),p=this.levelController=new Te(this),g=this.streamController=new me(this),v=[p,g],y=r.audioStreamController;y&&v.push(new y(this)),this.networkControllers=v;var m=[d,h,c,o,s,l,u,f];if(y=r.audioTrackController){var b=new y(this);this.audioTrackController=b,m.push(b)}if(y=r.subtitleTrackController){var E=new y(this);this.subtitleTrackController=E,m.push(E)}[r.subtitleStreamController,r.timelineController].forEach(function(t){t&&m.push(new t(e))}),this.coreComponents=m}return t.isSupported=function(){return M()},Nr(t,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return Ot.a}},{key:"ErrorTypes",get:function(){return Ct.b}},{key:"ErrorDetails",get:function(){return Ct.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Fr},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){Pt.b.log("destroy"),this.trigger(Ot.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){Pt.b.log("attachMedia"),this.media=t,this.trigger(Ot.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){Pt.b.log("detachMedia"),this.trigger(Ot.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=kt.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),Pt.b.log("loadSource:"+t),this.url=t,this.trigger(Ot.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;Pt.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},t.prototype.stopLoad=function(){Pt.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},t.prototype.swapAudioCodec=function(){Pt.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){Pt.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Nr(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){Pt.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){Pt.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){Pt.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){Pt.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){Pt.b.log("set startLevel:"+t);var e=this;-1!==t&&(t=Math.max(t,e.minAutoLevel)),e.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){Pt.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this,e=t.levels,r=t.config.minAutoBitrate,i=e?e.length:0,a=0;a<i;a++){if((e[a].realBitrate?Math.max(e[a].realBitrate,e[a].bitrate):e[a].bitrate)>r)return a}return 0}},{key:"maxAutoLevel",get:function(){var t=this,e=t.levels,r=t.autoLevelCapping;return-1===r&&e&&e.length?e.length-1:r}},{key:"nextAutoLevel",get:function(){var t=this;return Math.min(Math.max(t.abrController.nextAutoLevel,t.minAutoLevel),t.maxAutoLevel)},set:function(t){var e=this;e.abrController.nextAutoLevel=Math.max(e.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),t}();e.default=Mr},function(t,e,r){function i(t){function e(i){if(r[i])return r[i].exports;var a=r[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t};var i=e(e.s=ENTRY_MODULE);return i.default||i}function a(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function n(t){var e=[],r=t.toString(),i=r.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!i)return e;for(var n,o=i[1],s=new RegExp("(\\\\n|\\W)"+a(o)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");n=s.exec(r);)e.push(n[3]);return e}function o(t,e){for(var r=[e],i=[],a={};r.length;){var o=r.pop();if(!a[o]&&t[o]){a[o]=!0,i.push(o);var s=n(t[o]);r=r.concat(s)}}return i}t.exports=function(t,e){e=e||{};var a=r.m,n=e.all?Object.keys(a):o(a,t),s="("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+n.map(function(t){return JSON.stringify(t)+": "+a[t].toString()}).join(",")+"})(self);",l=new window.Blob([s],{type:"text/javascript"});if(e.bare)return l;var u=window.URL||window.webkitURL||window.mozURL||window.msURL,d=u.createObjectURL(l),h=new window.Worker(d);return h.objectURL=d,h}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),a=r(1),n=r(0),o=r(5),s=r.n(o),l=function(t){var e=new s.a;e.trigger=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];e.removeListener.apply(e,[t].concat(i))};var r=function(e,r){t.postMessage({event:e,data:r})};t.addEventListener("message",function(a){var o=a.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);t.demuxer=new i.a(e,o.typeSupported,s,o.vendor);try{Object(n.a)(!0===s.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}r("init",null);break;case"demux":t.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),e.on(a.a.FRAG_DECRYPTED,r),e.on(a.a.FRAG_PARSING_INIT_SEGMENT,r),e.on(a.a.FRAG_PARSED,r),e.on(a.a.ERROR,r),e.on(a.a.FRAG_PARSING_METADATA,r),e.on(a.a.FRAG_PARSING_USERDATA,r),e.on(a.a.INIT_PTS_FOUND,r),e.on(a.a.FRAG_PARSING_DATA,function(e,r){var i=[],a={event:e,data:r};r.data1&&(a.data1=r.data1.buffer,i.push(r.data1.buffer),delete r.data1),r.data2&&(a.data2=r.data2.buffer,i.push(r.data2.buffer),delete r.data2),t.postMessage(a,i)})};e.default=l}]).default});
function Ia(c,d,a){if(null==c)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return c+""}
var Ya="function"==typeof Object.defineProperties?Object.defineProperty:function(c,d,a){c!=Array.prototype&&c!=Object.prototype&&(c[d]=a.value)},zb="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function Gb(c,d){if(d){var a=zb;c=c.split(".");for(var b=0;b<c.length-1;b++){var k=c[b];k in a||(a[k]={});a=a[k]}c=c[c.length-1];b=a[c];d=d(b);d!=b&&null!=d&&Ya(a,c,{configurable:!0,writable:!0,value:d})}}
Gb("String.prototype.startsWith",function(c){return c?c:function(c,a){var b=Ia(this,c,"startsWith");c+="";var k=b.length,d=c.length;a=Math.max(0,Math.min(a|0,b.length));for(var n=0;n<d&&a<k;)if(b[a++]!=c[n++])return!1;return n>=d}});function Hb(){Hb=function(){};zb.Symbol||(zb.Symbol=Ib)}var Ib=function(){var c=0;return function(d){return"jscomp_symbol_"+(d||"")+c++}}();
function Lb(){Hb();var c=zb.Symbol.iterator;c||(c=zb.Symbol.iterator=zb.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&Ya(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return Mb(this)}});Lb=function(){}}function Mb(c){var d=0;return Nb(function(){return d<c.length?{done:!1,value:c[d++]}:{done:!0}})}function Nb(c){Lb();c={next:c};c[zb.Symbol.iterator]=function(){return this};return c}
function Ob(c,d){Lb();c instanceof String&&(c+="");var a=0,b={next:function(){if(a<c.length){var k=a++;return{value:d(k,c[k]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b}Gb("Array.prototype.keys",function(c){return c?c:function(){return Ob(this,function(c){return c})}});Gb("Array.prototype.entries",function(c){return c?c:function(){return Ob(this,function(c,a){return[c,a]})}});
Gb("Object.getOwnPropertySymbols",function(c){return c?c:function(){return[]}});Gb("Array.from",function(c){return c?c:function(c,a,b){Lb();a=null!=a?a:function(a){return a};var k=[],d=c[Symbol.iterator];if("function"==typeof d)for(c=d.call(c);!(d=c.next()).done;)k.push(a.call(b,d.value));else{d=c.length;for(var n=0;n<d;n++)k.push(a.call(b,c[n]))}return k}});
Gb("String.prototype.endsWith",function(c){return c?c:function(c,a){var b=Ia(this,c,"endsWith");c+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var k=c.length;0<k&&0<a;)if(b[--a]!=c[--k])return!1;return 0>=k}});var Sb;
if("function"==typeof Object.setPrototypeOf)Sb=Object.setPrototypeOf;else{var Tb;a:{var Ub={Je:!0},Vb={};try{Vb.__proto__=Ub;Tb=Vb.Je;break a}catch(c){}Tb=!1}Sb=Tb?function(c,d){c.__proto__=d;if(c.__proto__!==d)throw new TypeError(c+" is not extensible");return c}:null}var Wb=Sb;Gb("Object.setPrototypeOf",function(c){return c||Wb});Gb("Array.prototype.values",function(c){return c?c:function(){return Ob(this,function(c,a){return a})}});
Gb("Array.prototype.find",function(c){return c?c:function(c,a){a:{var b=this;b instanceof String&&(b=String(b));for(var k=b.length,d=0;d<k;d++){var n=b[d];if(c.call(a,n,d,b)){c=n;break a}}c=void 0}return c}});
(function(c){function d(b){if(a[b])return a[b].exports;var k=a[b]={mq:b,Nx:!1,exports:{}};c[b].call(k.exports,k,k.exports,d);k.Nx=!0;return k.exports}var a={};d.dD=c;d.EB=a;d.d=function(a,c,l){d.dy(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:l})};d.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})};d.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(b,"a",b);return b};d.dy=function(a,c){return Object.prototype.hasOwnProperty.call(a,
c)};d.p="";return d(d.BD=353)})([function(c,d){d.__esModule=!0;d.default=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}d.__esModule=!0;c=a(321);var k=b(c);c=a(317);var l=b(c);a=a(105);var n=b(a);d.default=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof b?"undefined":(0,n.default)(b)));
a.prototype=(0,l.default)(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(k.default?(0,k.default)(a,b):a.__proto__=b)}},function(c,d,a){d.__esModule=!0;var b=function(a){return a&&a.__esModule?a:{default:a}}(a(105));d.default=function(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==("undefined"===typeof c?"undefined":(0,b.default)(c))&&"function"!==typeof c?a:c}},function(c){c.exports=function a(){if(1>
arguments.length||"object"!==typeof arguments[0])return!1;if(2>arguments.length)return arguments[0];var b=arguments[0],c,l,n,e;Array.prototype.slice.call(arguments,1).forEach(function(f){if("object"===typeof f)for(c in f)c in f&&(n=b[c],l=f[c],l!==b&&("object"!==typeof l||null===l?b[c]=l:l instanceof Date?b[c]=new Date(l.getTime()):(e="object"!==typeof n||null===n?Array.isArray(l)?[]:{}:Array.isArray(l)?Array.isArray(n)?n:[]:Array.isArray(n)?{}:n,b[c]=a(e,l))))});return b}},function(c,d,a){var b=
a(3)(b||{},{log:{},Yc:{},f:{},va:{},a:{L:{}}});b.Yc=a(312).vdb.Yc;b.f=a(9).vdb.f;b.va=a(28).vdb.va;b.a.L=a(14).vdb.a.L;(function(a){function c(a){return 10>a?"0"+a:a}function d(b,e,g){if(f.indexOf(b)>=a.Sb.$p()&&window.console){var m=new Date,d=m.getMilliseconds();g=[c(m.getHours())+":"+c(m.getMinutes())+":"+c(m.getSeconds())+"."+(10>d?"00"+d:100>d?"0"+d:d),"["+b+"]",e+":"+(a.Sb.Uq?" "+a.Sb.Uq:"")].concat(Array.prototype.slice.apply(g));m=b.toLowerCase();window.console[m]||(m="log");m=window.console[m];
"object"===typeof m&&(m=Function.prototype.bind.call(m,window.console));m&&m.apply(window.console,g)}for(m=0;m<h.length;m++)h[m](b,e,g)}var e=b.Yc,f=[e.Jm,e.Wm,e.co,e.ta],h=[],g={};a.Sb=b.f.Class.extend({K:function(a){this.name=a},debug:function(){d(e.Jm,this.name,arguments)},info:function(){d(e.Wm,this.name,arguments)},warn:function(){d(e.co,this.name,arguments)},error:function(){d(e.ta,this.name,arguments)}});a.B=function(b){g[b]||(g[b]=new a.Sb(b));return g[b]};a.Sb.Uq="";a.Sb.$p=function(){if(void 0===
a.Sb.zo){var c=parseInt(b.a.L.Nb("aolplayerloglvl"));a.Sb.zo=isNaN(c)?Number(b.va["logger.level"]):c}return a.Sb.zo};a.xB=function(a){h.push(a)}})(b.log);d.vdb={log:b.log};d.default=b.log;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{c:{},b:{$c:{}},U:{},a:{Z:{},R:{},L:{}},Promise:{},o:{Y:{}}});b.b.$c=a(310).vdb.b.$c;b.U=a(42).vdb.U;b.a.Z=a(20).vdb.a.Z;b.a.R=a(25).vdb.a.R;b.a.L=a(14).vdb.a.L;b.Promise=a(21).vdb.Promise;b.o.Y=a(8).vdb.o.Y;b.c=function(){function a(c,f,h){var e=f.shift();return f.length?
b.c.Bi(c[e])||Array.isArray(c[e])?a(c[e],f,h):h:void 0===c[e]?h:c[e]}function c(a,b){return Object.prototype.toString.call(a)==="[object "+b+"]"}var d=window.getComputedStyle||function(a){return a.currentStyle};return{round:function(a){return~~(a+(0<a?.5:-.5))},zD:function(a,b){b=Math.pow(10,b);return Math.round(a*b)/b},rk:function(a){a&&(window.Promise?window.Promise.resolve().then(a):setTimeout(a,1))},Ty:function(a,b){return a.sort(function(a,c){return(b?1:-1)*(a.width*a.height-c.width*c.height)})},
vp:function(){var a=b.c.Za.Ye()?"playsinline muted":"";return b.U.cy('<video %PLAY_INLINE% style="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; padding: 0; margin: 0; z-index: 1;"></video>'.replace("%PLAY_INLINE%",a))},cC:function(a){var b=parseInt(a.slice(1,3),16),c=parseInt(a.slice(3,5),16);a=parseInt(a.slice(5,7),16);return 130>Math.sqrt(b*b*.241+c*c*.691+a*a*.068)?"White":"Black"},yC:function(){return"BackCompat"===document.compatMode?document.body.clientWidth:
document.documentElement.clientWidth},xC:function(){return"BackCompat"===document.compatMode?document.body.clientHeight:document.documentElement.clientHeight},YB:function(a){return(a=a.match(/\d+\.\d+\.\d+/))&&a[0]||"latest"},gC:function(a,b){a=a.split("/").pop();b||(b=a.split("."),b.pop(),a=b.join("."));return a},Pe:function(a){return a.split(".").pop()},contains:function(a,b){for(var c in a)if(a[c]===b)return!0;return!1},eq:function(a){return"html5-vpaid"+(!0===a?",swf":"")},eD:function(a){function b(a,
b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535}function c(a,c,e,g,f,m){a=b(b(c,a),b(g,m));return b(a<<f|a>>>32-f,e)}function e(a,b,e,g,f,m,h){return c(b&e|~b&g,a,b,f,m,h)}function m(a,b,e,g,f,m,h){return c(b&g|e&~g,a,b,f,m,h)}function d(a,b,e,g,f,m,h){return c(e^(b|~g),a,b,f,m,h)}return function(a){for(var b="",c,e=0;e<a.length;e++)c=a.charCodeAt(e),b+="0123456789abcdef".charAt(c>>>4&15)+"0123456789abcdef".charAt(c&15);return b}(function(a){var g=Array(a.length>>2),f;for(f=
0;f<g.length;f++)g[f]=0;for(f=0;f<8*a.length;f+=8)g[f>>5]|=(a.charCodeAt(f/8)&255)<<f%32;a=8*a.length;g[a>>5]|=128<<a%32;g[(a+64>>>9<<4)+14]=a;a=1732584193;f=-271733879;for(var h=-1732584194,k=271733878,l=0;l<g.length;l+=16){var p=a,n=f,q=h,A=k;a=e(a,f,h,k,g[l+0],7,-680876936);k=e(k,a,f,h,g[l+1],12,-389564586);h=e(h,k,a,f,g[l+2],17,606105819);f=e(f,h,k,a,g[l+3],22,-1044525330);a=e(a,f,h,k,g[l+4],7,-176418897);k=e(k,a,f,h,g[l+5],12,1200080426);h=e(h,k,a,f,g[l+6],17,-1473231341);f=e(f,h,k,a,g[l+7],
22,-45705983);a=e(a,f,h,k,g[l+8],7,1770035416);k=e(k,a,f,h,g[l+9],12,-1958414417);h=e(h,k,a,f,g[l+10],17,-42063);f=e(f,h,k,a,g[l+11],22,-1990404162);a=e(a,f,h,k,g[l+12],7,1804603682);k=e(k,a,f,h,g[l+13],12,-40341101);h=e(h,k,a,f,g[l+14],17,-1502002290);f=e(f,h,k,a,g[l+15],22,1236535329);a=m(a,f,h,k,g[l+1],5,-165796510);k=m(k,a,f,h,g[l+6],9,-1069501632);h=m(h,k,a,f,g[l+11],14,643717713);f=m(f,h,k,a,g[l+0],20,-373897302);a=m(a,f,h,k,g[l+5],5,-701558691);k=m(k,a,f,h,g[l+10],9,38016083);h=m(h,k,a,f,g[l+
15],14,-660478335);f=m(f,h,k,a,g[l+4],20,-405537848);a=m(a,f,h,k,g[l+9],5,568446438);k=m(k,a,f,h,g[l+14],9,-1019803690);h=m(h,k,a,f,g[l+3],14,-187363961);f=m(f,h,k,a,g[l+8],20,1163531501);a=m(a,f,h,k,g[l+13],5,-1444681467);k=m(k,a,f,h,g[l+2],9,-51403784);h=m(h,k,a,f,g[l+7],14,1735328473);f=m(f,h,k,a,g[l+12],20,-1926607734);a=c(f^h^k,a,f,g[l+5],4,-378558);k=c(a^f^h,k,a,g[l+8],11,-2022574463);h=c(k^a^f,h,k,g[l+11],16,1839030562);f=c(h^k^a,f,h,g[l+14],23,-35309556);a=c(f^h^k,a,f,g[l+1],4,-1530992060);
k=c(a^f^h,k,a,g[l+4],11,1272893353);h=c(k^a^f,h,k,g[l+7],16,-155497632);f=c(h^k^a,f,h,g[l+10],23,-1094730640);a=c(f^h^k,a,f,g[l+13],4,681279174);k=c(a^f^h,k,a,g[l+0],11,-358537222);h=c(k^a^f,h,k,g[l+3],16,-722521979);f=c(h^k^a,f,h,g[l+6],23,76029189);a=c(f^h^k,a,f,g[l+9],4,-640364487);k=c(a^f^h,k,a,g[l+12],11,-421815835);h=c(k^a^f,h,k,g[l+15],16,530742520);f=c(h^k^a,f,h,g[l+2],23,-995338651);a=d(a,f,h,k,g[l+0],6,-198630844);k=d(k,a,f,h,g[l+7],10,1126891415);h=d(h,k,a,f,g[l+14],15,-1416354905);f=d(f,
h,k,a,g[l+5],21,-57434055);a=d(a,f,h,k,g[l+12],6,1700485571);k=d(k,a,f,h,g[l+3],10,-1894986606);h=d(h,k,a,f,g[l+10],15,-1051523);f=d(f,h,k,a,g[l+1],21,-2054922799);a=d(a,f,h,k,g[l+8],6,1873313359);k=d(k,a,f,h,g[l+15],10,-30611744);h=d(h,k,a,f,g[l+6],15,-1560198380);f=d(f,h,k,a,g[l+13],21,1309151649);a=d(a,f,h,k,g[l+4],6,-145523070);k=d(k,a,f,h,g[l+11],10,-1120210379);h=d(h,k,a,f,g[l+2],15,718787259);f=d(f,h,k,a,g[l+9],21,-343485551);a=b(a,p);f=b(f,n);h=b(h,q);k=b(k,A)}g=[a,f,h,k];a="";for(f=0;f<32*
g.length;f+=8)a+=String.fromCharCode(g[f>>5]>>>f%32&255);return a}(function(a){for(var b="",c=-1,g,e;++c<a.length;)g=a.charCodeAt(c),e=c+1<a.length?a.charCodeAt(c+1):0,55296<=g&&56319>=g&&56320<=e&&57343>=e&&(g=65536+((g&1023)<<10)+(e&1023),c++),127>=g?b+=String.fromCharCode(g):2047>=g?b+=String.fromCharCode(192|g>>>6&31,128|g&63):65535>=g?b+=String.fromCharCode(224|g>>>12&15,128|g>>>6&63,128|g&63):2097151>=g&&(b+=String.fromCharCode(240|g>>>18&7,128|g>>>12&63,128|g>>>6&63,128|g&63));return b}(a)))},
$B:function(a){a instanceof Date||(a=new Date(a));var b=new Date,c=b.getFullYear()-a.getFullYear();a.setFullYear(b.getFullYear());a.getTime()>b.getTime()&&--c;return c},tD:function(){var a=Array(16);try{if(window.crypto&&window.crypto.getRandomValues){var b=new Uint32Array(4);return function(){var a=[],c=-1;for(window.crypto.getRandomValues(b);16>++c;)a[c]=b[c>>2]>>>8*(c&3)&255;return a}}}catch(h){}return function(){for(var b=-1,c;16>++b;)0===(b&3)&&(c=4294967296*Math.random()),a[b]=c>>>((b&3)<<3)&
255;return a}}(),pk:function(){var a=/Android (\d+(?:\.\d+)+)/.exec(navigator.userAgent),b=navigator.userAgent.match("Android")?1:!1;if(a){a=a[1].split(".");b=0;for(var c=1,g=0;g<a.length;g++)b+=parseInt(a[g])/c,c*=10}return function(){return b}}(),$f:function(){var a;return function(b){if(!a||b)b=/CPU OS (.*) like Mac OS X/.exec(navigator.userAgent),a=navigator.userAgent.match("iPad")?1:!1,b&&(a=+b[1].replace(/_/,".").replace(/_/g,""));return a}}(),xi:function(){var a;return function(b){if(!a||b)b=
/iPhone OS (.*) like Mac OS X/.exec(navigator.userAgent),a=navigator.userAgent.match("iPod")||navigator.userAgent.match("iPhone")?1:!1,b&&(a=+b[1].replace(/_/,".").replace(/_/g,""));return a}}(),ul:function(){return b.c.pk()||b.c.xi()||b.c.$f()||b.c.Bq()||b.c.Cq()},NB:function(){return!b.c.ul()},YC:function(){return 360>=Math.min(screen.width,screen.height)},sq:function(){var a=navigator.userAgent,b=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i;return/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i.test(a)||b.test(a)},
Bq:function(){return/Windows Phone/i.test(navigator.userAgent)},Cq:function(){return/(?=.*\bWindows\b)(?=.*\bARM\b)/i.test(navigator.userAgent)},TC:function(){return!!(b.c.xi()||b.c.sq()||b.c.Bq())},ZC:function(){return b.c.$f()||b.c.pk()&&!b.c.sq()||b.c.Cq()},Ai:0<=navigator.userAgent.indexOf("MSIE ")||0<=navigator.userAgent.indexOf("Trident/"),RC:0<=navigator.userAgent.indexOf("Edge"),qx:0<=navigator.userAgent.toLowerCase().indexOf("firefox"),DC:"ontouchstart"in window||0<navigator.maxTouchPoints||
0<navigator.msMaxTouchPoints,VD:function(){try{var a=document.createElement("canvas");return!(!window.WebGLRenderingContext||!a.getContext("webgl")&&!a.getContext("experimental-webgl"))}catch(f){return!1}}(),vx:function(a){return"function"!==typeof a.getAttribute},ng:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},uD:function(a,b){if(Array.isArray(a))for(var c;-1!==(c=a.indexOf(b));)a.splice(c,1);return a},vq:function(a){return c(a,"Function")},Bi:function(a){return c(a,"Object")},Kx:function(a){return c(a,
"String")},yx:function(a){return c(a,"HTMLCollection")},Ex:function(a){return c(a,"NodeList")},nx:function(a){return Array.isArray(a)||b.c.yx(a)||b.c.Ex(a)},PC:function(a){return c(a,"ClientRect")||c(a,"DOMRect")},Ed:function(a){return void 0!==a&&null!==a?b.c.nx(a)?a:[a]:[]},GB:function(a,b){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&a[c]===b)return!0;return!1},jC:function(a){var b=d(a);return a.clientWidth-(parseInt(b.paddingLeft)+parseInt(b.paddingRight))},Ok:function(a){var b=
d(a);return a.clientHeight-(parseInt(b.paddingTop)+parseInt(b.paddingBottom))},cf:function(a,c){a=b.c.Ed(a);for(var e=0;e<a.length;++e)for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[e].style[g]=c[g])},createElement:function(a,c,h,g){a=h?h.ownerDocument.createElement(a):b.U.createElement(a);var e;c=c||{};for(e in c)if(Object.prototype.hasOwnProperty.call(c,e)){var f=c[e];null!==f&&("style"===e&&"object"===typeof f?this.cf(a,f):a.setAttribute(e,Array.isArray(f)?f.join(" "):f))}g&&(a.innerHTML=
g);h&&h.appendChild(a);return a},ex:function(a,b){return(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},Th:function(a,c){a=b.c.Ed(a);c=b.c.Ed(c);for(var e=0;e<a.length;++e){for(var g=[],f=0;f<c.length;++f)b.c.ex(a[e],c[f])||g.push(c[f]);a[e].className=(a[e].className+" "+g.join(" ")).trim()}},mg:function(a,c){a=b.c.Ed(a);c=b.c.Ed(c);for(var e=0;e<a.length;++e)if(a[e]&&a[e].className)for(var g=0;g<c.length;++g)a[e].className=a[e].className.replace(new RegExp("(^|\\s+)"+c[g]+"(\\s+|$)","g"),
" ").trim()},Hl:function(a,c,h){b.c.mg(a,c);b.c.Th(a,h)},LD:function(a,c,h){h?b.c.Th(a,c):b.c.mg(a,c)},ED:function(a){return a.replace(/@func-iri-prefix/g,b.c.qx?location.href.replace(location.hash,""):"")},yB:function(){var a=["webkit","moz","MS","o",""],b=a.length;return function(c,g,e){for(var f=-1;++f<b;)""===a[f]&&(g=g.toLowerCase()),c.addEventListener(a[f]+g,e)}}(),sC:function(a,b,c){for(var g=(a.parentNode||{}).firstChild,e=[],f;g;)g!==a&&(1!==g.nodeType||b&&!(0<g.clientHeight)||c&&("absolute"===
(f=d(g).position)||"fixed"===f)||e.push(g)),g=g.nextSibling;return e},ke:function(a){if(Array.isArray(a)&&0<a.length)return!1;if(b.c.Bi(a))for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))return!1;return!0},extend:function(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])Object.prototype.hasOwnProperty.call(arguments[a],b)&&(arguments[0][b]=arguments[a][b]);return arguments[0]},tv:function(a){Array.isArray(a)&&(a=a.slice());return a},mD:function(a){if("true"==a||"1"==a)var b=
!0;else if("false"==a||"0"==a)b=!1;return b},OD:function(a,c,h){function g(e,m){var l=a.substring(0,m).trim();c.innerHTML=l;b.c.Ok(c)>k?e===m?(c.innerHTML=l.substring(0,l.length-4)+"...",h||(c.style.height=f+"px")):g(m,m-Math.ceil((e-m)/2)):1===e-m?(c.innerHTML=l.substring(0,l.length-3)+"...",h||(c.style.height=f+"px")):g(e,e-Math.floor((e-m)/2))}var e=a.length,f=c.clientHeight,k=h||function(){var a=b.c.Ok(c);c.style.height="auto";return a}();b.c.Ok(c)>k?g(e,Math.floor(e/2)):h||(c.style.height=f+
"px")},oC:function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(a[c]);return b},KD:function(a,c){return new b.Promise(function(e){b.o.Y.ma(a,c,function(a){e(a)})})},py:function(a){return new b.Promise(function(b,c){setTimeout(function(){c(Error("timeout "+a+" ms reached"))},a)})},aC:function(){var a=navigator.languages&&navigator.languages[0];return a?(-1!==a.indexOf("-")&&(a=a.split("-")[0]),a):null},kq:function(b,c,h){return a(b||{},c.slice(),h)},JC:function(){try{return window&&
window.MediaSource&&"function"===typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}catch(e){return!1}},HB:function(a){var c=a.ownerDocument;if(b.c.$f()||b.c.xi()){var e=c.createRange();e.selectNodeContents(a);var g=window.getSelection();g.removeAllRanges();g.addRange(e);a.setSelectionRange(0,999999);a=c.execCommand("copy",!1);g.removeAllRanges()}else a.select(),a=c.execCommand("copy");return a},oy:function(a){for(var b="",c,
g=0;g<a.length;g++)c=null===a[g]?"":a[g].toString(),a[g]instanceof Date&&(c=a[g].toLocaleString()),c=c.replace(/"/g,'""'),0<=c.search(/("|,|\n)/g)&&(c='"'+c+'"'),0<g&&(b+=","),b+=c;return b+"\n"},SB:function(a,b){for(var c="",g=0;g<b.length;g++)c+=this.oy(b[g]);c=new Blob([c],{type:"text/csv;charset=utf-8;"});navigator.msSaveBlob?navigator.msSaveBlob(c,a):(b=document.createElement("a"),void 0!==b.download&&(c=URL.createObjectURL(c),b.setAttribute("href",c),b.setAttribute("download",a),b.style.visibility=
"hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)))}}}();(function(a){var c={},k=navigator.userAgent.toLowerCase(),e=navigator.platform.toLowerCase(),f=k.match(/(samsungbrowser|edge)[\s\/:]([\w\d\.]+)/);f||(f=k.match(/(opera|ie|trident|firefox|fxios|chrome|crios|version|fban)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/));if(f){var h=f[0].match(/(chrome|crios)\/(.*?)\s/);h&&(f=[null,"chrome",h[2]])}else f=[null,"unknown",0];h=("ie"===f[1]||"trident"===f[1])&&
document.documentMode;c.name="version"===f[1]?f[3]:f[1];c.version=h||parseFloat("opera"===f[1]&&f[4]?f[4]:f[2]);c.platform={name:k.match(/ip(?:ad|od|hone)/)?"ios":(k.match(/(?:webos|android)/)||e.match(/mac|win|linux/)||["other"])[0],version:a.pk()||a.$f()||a.xi()||""};c.VB={XD:!!document.evaluate,AB:!!window.AD,query:!!document.querySelector,json:!!window.JSON};c.wq=function(){return/android|blackberry|iphone|ipad|ipod|opera mini|iemobile/i.test(k)};c.Ax=function(){return c.platform.name===b.b.$c.Is};
c[c.name]=!0;c[c.name+parseInt(c.version,10)]=!0;c.platform[c.platform.name]=!0;c.Ye=function(){var b=c.Ax();return!c.wq()||a.$f()||b&&"safari"===c.name&&10<=c.version||b&&"chrome"===c.name&&54<=c.version||b&&"fxios"===c.name&&10.3<=c.version||b&&"fban"===c.name||!!c.platform.android&&"chrome"===c.name&&53<=c.version||!!c.platform.android&&"firefox"===c.name||!!c.platform.android&&"samsungbrowser"===c.name&&6.2<=c.version};a.Za=c})(b.c);(function(a){function c(a,b){function c(){function b(){}a.onerror=
b;a.onreadystatechange=b;a.onload=b;a.parentNode.removeChild(a)}a.onload=function(){for(var g=a.src,e=0;e<h.length;e++)h[e](g);c();null!=b&&b(!0)};a.onerror=function(){c();null!=b&&b(!1)};a.onreadystatechange=function(){if("complete"===a.readyState||"loaded"===a.readyState)a.onload()}}var k=/\/\/(.+)\.uplynk\.com\//i,e={mp4:"video/mp4",ogg:"video/ogg",ogv:"video/ogg",webm:"video/webm",m3u:"application/vnd.apple.mpegurl",m3u8:"application/vnd.apple.mpegurl"},f=["mp3"],h=[];a.fD=function(a){a=a.split("?");
var c=a[0];c=c.substring(c.lastIndexOf(".")+1).toLowerCase();c=e[c];!c&&1<a.length&&(a=b.c.zk(a[1]),c=a.enc||(a.type+"").replace(".",""),c=e[c]);return c};a.NC=function(a){a=b.a.L.Pe(a);for(var c=0;c<f.length;++c)if(f[c]===a)return!0;return!1};a.iC=function(a){if(a.videoUrls){var c=0;a=a.videoUrls;for(var g=a.length;c<g;++c)if(b.c.il(a[c]))return c}return-1};a.il=function(a){return"m3u8"===b.a.L.Pe(a)};a.BC=function(a){var c,g;for(c=0;c<a.length;c++){var e=b.c.kq(a[c],["videoUrls"],[]);for(g=0;g<
e.length;g++)if(b.c.il(e[g]))return!0}return!1};a.CC=function(a){var c,g,e=0;for(c=0;c<a.length;c++){var f=b.c.kq(a[c],["videoUrls"],[]);for(g=0;g<f.length;g++){if(!b.c.il(f[g]))return!1;e++}}return 0<e};a.aD=function(a){return k.test(a)};a.Dc=function(a){if(!a)return null;if("string"===typeof a)return a;var b=[];if(a&&"object"===typeof a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var g=a[c];if(0===g||g&&"function"!==typeof g){var e=encodeURIComponent(c)+"=";e+=encodeURIComponent(String(g));
b.push(e)}}return b.join("&")};a.zk=function(a){var b={};if(a){b={};a=a.split("&");for(var c=0;c<a.length;c++){var g=a[c].split("="),e=g[0];try{e=decodeURIComponent(e)}catch(u){}try{var f;1<g.length&&(f=decodeURIComponent(g[1]));b[e]=f}catch(u){}}}return b};a.ay=function(a){for(var c,g=[],e=0;e<a.length;e++)(c=b.c.Dc(a[e]))&&g.push(c);return g.join("&")};a.Ve=function(a){var b=Array.prototype.toJSON;delete Array.prototype.toJSON;if(window.JSON&&window.JSON.stringify)try{var c=JSON.stringify(a,void 0,
void 0)}catch(q){}else c=window.JSON&&window.JSON.encode?window.JSON.encode(a):String.valueOf(a);b&&(Array.prototype.toJSON=b);return c};a.kv=function(a){return window.btoa(a)};a.jv=function(a){return window.atob(a)};a.Ha=function(a,b){b=b||{};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b};a.CD=function(a,b){b=b||{};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&"undefined"===typeof b[c]&&(b[c]=a[c]);return b};a.gf=function(a){if(""===a)return 0;a=a.split(".")[0];
var b=0;a=a.split(":");a.reverse();for(var c=[1,60,3600],g=0;g<a.length;g++)b+=a[g]*c[g];return b};a.kx=function(a,b){var g=document,e=g.createElement("script");e.type="text/javascript";e.src=a;c(e,b);g.getElementsByTagName("head")[0].appendChild(e)};a.Zu=function(a){"function"===typeof a&&h.push(a)};a.gD=function(a){var b=Array.prototype.slice,c=b.call(arguments,0);c.shift();return function(){var g=c.concat(b.call(arguments,0));a.apply(null,g)}};a.dx=function(a,b){return null!=a?a:b};a.find=function(a,
b){for(var c=a.length>>>0,g,e=0;e<c;e++)if(g=a[e],b(g,e,a))return g};a.WB=function(a,b,c){if(!a||void 0===a.length)throw new TypeError(a+" is not an array!");if("function"!==typeof b)throw new TypeError(b+" is not a function!");for(var g=[],e=a.length,f=0;f<e;f++)b.call(c,a[f],f,a)&&g.push(a[f]);return g};a.Vv=function(a,b,c){c=c||{};var g={},e;for(e in a)if(Object.prototype.hasOwnProperty.call(a,e)&&b(e)){var f=e;c.modify&&(f=c.modify(f));!1!==c.JD&&(f=f.toLowerCase());g[f]=a[e]}return g};a.Wv=function(b){function c(a){return a.split(g)[1]}
var g="rm.";g=g||"";var e=e||{};e.modify=e.modify?c:null;return a.Vv(b,function(a){return 0===a.indexOf(g)},e)};a.rC=function(){return window.s_265&&window.s_265.channel};a.bC=function(){var a=window.rapidConfig&&window.rapidConfig.keys&&window.rapidConfig.keys.st_sec;a||(a=b.a.L.Qe(b.a.R.xc()));return a}})(b.c);d.vdb={c:b.c};d.default=b.c;d.__esModule=!0},function(c,d,a){c.exports={"default":a(332),__esModule:!0}},function(c,d,a){var b=a(3)(b||{},{b:{i:{}}});b.b.i={Jc:"adContainer",aj:"adSystem",
vm:"adTracker",re:"autoplayDetector",zm:"basicTracker",Fz:"bitrateTracker",Gz:"bufferedCalculator",O:"config",te:"debugInfo",ue:"display",Ba:"dom",La:"environment",Wc:"errorTracker",Ma:"eventBus",tb:"flashDetector",mj:"flashRunner",Lm:"flvRunner",Qm:"hostWindowProvider",Xm:"insecureRunner",dh:"intersectionViewability",hA:"inViewManager",rj:"midrollTag",Ib:"moatViewability",xj:"parametersCombine",jh:"pixelTracker",qf:"videoTag",gt:"primalTracker",Da:"rootContainer",Cn:"secureRunner",Vb:"smartViewability",
Oa:"urls",hd:"viewabilitySubject"};d.vdb={b:{i:b.b.i}};d.default=b.b.i;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{o:{Y:{},Xc:{}},f:{},sb:{}});b.f=a(9).vdb.f;b.o=c(a(167).vdb.o,b.o||{});b.o.Xc=a(104).vdb.o.Xc;b.sb=a(58).vdb.sb;(function(a){function c(){this.Mo&&this.N();this.uo&&this.uo.apply(window,arguments)}a.Y=b.f.Class.extend(function(){return{N:function(){this.Yb?this.Yb.N():"undefined"!==typeof this.Jb.nodeType?b.o.removeEventListener(this.Jb,this.Sj,this.Dh):this.Jb.removeEventListener(this.Sj,
this.Dh,this.Uo)},link:function(){var a=arguments||[];if(!arguments.length)return this;this.Yb||(this.Yb=new b.o.Xc(this));for(var c=0;c<a.length;++c){var f=a[c];f.Yb?this.Yb.Xx(f.Yb):this.Yb.zb(f)}this.Yb.vv();return this}}}());a.Y.bind=function(d,e,f,h,g){h=!!h;g=!!g;var m=new a.Y;m.Jb=d;m.Sj=e;m.uo=f;m.Uo=h;m.Mo=g;m.Dh=c.bind(m);"undefined"!==typeof d.nodeType?b.o.addEventListener(d,e,m.Dh):d.addEventListener(e,m.Dh,h);return m};a.Y.ma=function(b,c,f){return a.Y.bind(b,c,f,void 0,!0)};a.Y.empty=
function(){var c=new a.Y;c.Jb=new b.sb;c.Sj="DOESN'T_MATTER";c.Uo=!0;c.Mo=!0;return c};a.Y.group=function(b){for(var c=a.Y.empty(),f=0;f<arguments.length;f++){var h=arguments[f];h.length&&(h=a.Y.group.apply(null,h));c.link(h)}return c}})(b.o);d.vdb={o:{Y:b.o.Y}};d.default=b.o.Y;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{f:{}});b=c(a(29).vdb,b||{});(function(a){a.lv=function(){var a=window,b=a.Array.prototype;a=a.Function.prototype;void 0===a.bind&&(a.bind=function(a){var c=this,e=b.slice.call(arguments,
1);return function(){return c.apply(a||null,e.concat(b.slice.call(arguments)))}})};a.lv();var b=!1,c=/xyz/.test(function(){return"xyz"})?/\b_super\b/:/.*/;a.Class=function(){};a.Class.extend=function g(a,h){function f(){!b&&this.K&&this.K.apply(this,arguments)}var d=this.prototype;b=!0;var k=new this;b=!1;for(var l in a)k[l]="function"===typeof a[l]&&"function"===typeof d[l]&&c.test(a[l])?function(a,b){return function(){var c=this._super;this._super=d[a];try{return b.apply(this,arguments)}finally{this._super=
c}}}(l,a[l]):a[l];f.prototype=k;f.prototype.constructor=f;f.extend=g;h&&0<h.length&&(f.ba=h);this.ba&&0<this.ba.length&&(f.ba=f.ba?f.ba.concat(this.ba):this.ba);return f}})(b.f);d.vdb={f:b.f};d.default=b.f;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(13);a=function(a){function b(c,g,e){(0,k.default)(this,b);c=(0,l.default)(this,a.call(this,c));c.data=e||
{};c.data.adType=g;c.Vu=null;return c}(0,n.default)(b,a);b.prototype.clone=function(){return new b(this.type,this.Vu,this.data)};return b}(b(a).default);d.default=a;a.cc="Ads.Blocker.Complete";a.bm="Ads.Blocker.Request";a.cm="Ads.Blocker.Started";a.gm="Ads.Engines.Load";a.Lc="Ads.Engine.Ready";a.ug="Ads.Engine.Run";a.Kc="Ads.Engine.Complete";a.wz="Ads.Engine.InterationStart";a.vz="Ads.Engine.InterationEnd";a.Mc="Ads.Engine.LinearChange";a.xz="Ads.Engine.None";a.sz="Ads.Loaded";a.fc="Ads.Ad.Loaded";
a.pe="Ads.Ad.Starting";a.ja="Ads.Ad.Started";a.fb="Ads.Ad.Finished";a.Gb="Ads.Ad.Paused";a.oe="Ads.Ad.Resumed";a.Oc="Ads.Ad.VolumeChanged";a.em="Ads.Ad.Click";a.$i="Ads.Ad.Quartile";a.gb="Ads.Ad.TimeUpdate";a.qe="Ads.Ad.Waiting";a.om="adshowcompanions";a.Kr="Ads.Ad.ShowIcon";a.Hr="Ads.Ad.HideIcon";a.hf="Ads.Ad.Skipped";a.Nc="Ads.Ad.SkippableStateChange";a.qm="Ads.Ad.SkipRequested";a.um="Ads.Ad.SubtitlesFound"},function(c,d,a){function b(a){for(var c="",f=0,h;null!=(h=a[f++]);)h.nodeType===l.default.TEXT_NODE||
h.nodeType===l.default.CDATA_SECTION_NODE?c+=h.nodeValue:h.nodeType!==l.default.COMMENT_NODE&&(c+=b(h.childNodes));return c}Object.defineProperty(d,"__esModule",{value:!0});var k=(c=a(0))&&c.__esModule?c:{default:c},l=(a=a(164))&&a.__esModule?a:{default:a};a=function(){function a(){(0,k.default)(this,a)}a.bl=function(a){var b={};a=a.childNodes;for(var c=0;c<a.length;c++){var g=a[c],e=g.nodeName;1===g.nodeType&&(b[e]||(b[e]=g))}return b};a.gx=function(a){a=a.childNodes;for(var b=0;b<a.length;b++){var c=
a[b];if(1===c.nodeType&&"VASTAdTagURI"===c.nodeName)return c}return null};a.la=function(a,b){var c={};a=a.childNodes;for(var g=0;g<a.length;g++){var e=a[g],f=e.nodeName;1!==e.nodeType||b&&0<b.length&&0>b.indexOf(f)||(c[f]||(c[f]=[]),c[f].push(e))}return c};a.fx=function(a){return a?3===a.nodeType||2===a.nodeType?!0:a.hasChildNodes()?!a.firstElementChild:!1:!1};a.ra=function(a){return b([a])};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,
"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);a=a(13);a=b(a);var e=(0,c.default)(),f=(0,c.default)(),h=(0,c.default)();a=function(a){function b(c,g,h,m){(0,k.default)(this,b);c=(0,l.default)(this,a.call(this,c,m));c[e]=g;c[f]=h;c.sc=[];c.zq=!0;return c}(0,n.default)(b,a);b.prototype.Jy=function(a){a.zq=!1;this[h]=a};b.prototype.Yf=function(){return this[e]||null};b.prototype.fe=function(){return this[f]||null};b.prototype.Tp=function(){return this[h]||
null};b.prototype.clone=function(){return new b(this.type,this[e],this[f],this.data)};b.prototype.toString=function(){return"VastEvent{type="+this.type+", recordCount="+this.sc.length+"}"};return b}(a.default);d.default=a;a.jf="VastEventAttempt";a.Rb="VastEventImpression";a.Ka="VastEventClick";a.ta="VastEventError"},function(c,d,a){var b=a(3)(b||{},{o:{Event:{}},f:{}});b.f=a(9).vdb.f;b.o.Event=b.f.Class.extend(function(){return{type:null,data:null,target:null,K:function(a,b){this.type=a;this.data=
b},clone:function(){return new b.o.Event(this.type)},toString:function(){return"Event{type="+this.type+"}"}}}());b.o.Event.Aa="complete";d.vdb={o:{Event:b.o.Event}};d.default=b.o.Event;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{L:{},gd:{},R:{},Z:{}}});b.a.gd=a(63).vdb.a.gd;b.a.R=a(25).vdb.a.R;b.a.Z=a(20).vdb.a.Z;b.a.L=function(){function a(a){var b=document.createElement("a");b.href=a;return{protocol:b.protocol,hostname:b.hostname,port:b.port,host:b.host,origin:b.origin||b.protocol+"//"+
b.hostname,pathname:b.pathname,query:b.search}}function c(a){return void 0!==a?a:b.a.R.xc()}return{ly:a,Pe:function(b){if(!b||"string"!==typeof b)return"";b=a(b).pathname||"";var c=b.lastIndexOf(".");return-1!==c?b.substring(c+1).toLowerCase():""},xd:function(a){return a?b.a.Z.startsWith(c(a),"https"):b.a.R.xd()},Qe:function(a){return(a=/(?:(?:[\w]+:)?\/\/)?([^?#\/:]+)/.exec(c(a)))?a[1]:""},Nb:function(a,e){return b.a.gd.Nb(a,c(e))},vC:function(a,b){for(var c=0;c<b.length;c++){var e=b[c];a+=(-1===
a.indexOf("?")?"?":"&")+e.key+"="+e.value}return a}}}();d.vdb={a:{L:b.a.L}};d.default=b.a.L;d.__esModule=!0},function(c){c=c.exports={version:"2.5.6"};"number"==typeof __e&&(__e=c)},function(c,d,a){var b=a(3)(b||{},{T:{},Promise:{}});b.Promise=a(21).vdb.Promise;(function(a){function b(){var b=this;b.uu=new a.Promise(function(a,c){b.resolve=a;b.reject=c})}b.prototype.xa=function(){return this.uu};a.T=b})(b);d.vdb={T:b.T};d.default=b.T;d.__esModule=!0},function(c,d,a){var b=a(67)("wks"),k=a(49),l=a(24).Symbol,
n="function"==typeof l;(c.exports=function(a){return b[a]||(b[a]=n&&l[a]||(n?l:k)("Symbol."+a))}).store=b},function(c,d,a){var b=a(3)(b||{},{b:{Qc:{}}});b.b.Qc={Na:"Preroll",Hb:"Midroll",Ua:"Overlay",Hd:"All"};d.vdb={b:{Qc:b.b.Qc}};d.default=b.b.Qc;d.__esModule=!0},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={Vz:{code:202,description:"Video player expecting different duration"},lj:{code:401,description:"File not found. Unable to find Linear/MediaFile from URI",Ra:9521},
ys:{code:400,description:"General    Linear    error. Video player is unable to display the Linear Ad",Ra:9524},zs:{code:500,description:"General NonLinearAds error."},As:{code:901,description:"General VPAID error.",Ra:9416},Bs:{code:300,description:"General Wrapper error",Ra:9413},Gs:{code:901,description:"Failed to inject GoogleIMA3 Dependencies.",Ra:9570},Um:{code:901,description:"Failed to initialize GoogleIMA3 adManager.",Ra:9571},eh:{code:405,description:"Problem displaying MediaFile.",Ra:9521},
oA:{code:402,description:"Timeout of MediaFile URI",Ra:9521},Ss:{code:303,description:"No ads VAST response after one or more Wrappers. Also includes number of empty VAST responses from fallback.",Ra:9432},Us:{code:403,description:"Couldn\u2019t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.",Ra:9412},gn:{code:502,description:"Unable to fetch NonLinearAds/NonLinear resource."},Qs:{code:501,description:"Unable to display non-linear ad because creative dimensions do not align with creative display area"},
hn:{code:503,description:"Could not find NonLinear resource with supported type."},uf:{code:900,description:"Undefined error."},Fj:{code:100,description:"VAST parsing error",Ra:9401},Gj:{code:101,description:"VAST schema validation",Ra:9411},Hj:{code:102,description:"VAST version not supported",Ra:9411},Lt:{code:302,description:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response.",Ra:9413},Mt:{code:301,description:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)",
Ra:9402}}},function(c,d,a){var b=a(3)(b||{},{a:{Z:{}}});b.a.Z={ke:function(a){return!a||""===b.a.Z.trim(a)},FB:function(a,b){return a&&a.substring(0,a.lastIndexOf("."))+"."+b},trim:function(a,c){return b.a.Z.Tx(b.a.Z.er(a,c),c)},Tx:function(a,b){null==b&&(b="\\s");return a&&a.replace(new RegExp("^["+b+"]+","g"),"")},er:function(a,b){null==b&&(b="\\s");return a&&a.replace(new RegExp("["+b+"]+$","g"),"")},startsWith:function(a,b){return a&&0===a.indexOf(b)},endsWith:function(a,b){var c=a&&a.lastIndexOf(b);
return-1!==c&&c===a.length-b.length},cr:function(a,b,c){return a&&a.replace(new RegExp(b,"g"),c)},xD:function(a){return a&&a.replace(/.*?:\/\//g,"")},Ep:function(a,b,c){if("string"!==typeof a||"string"!==typeof b)return!1;!0===c&&(a=a.toLowerCase(),b=b.toLowerCase());return a===b},ov:function(a){if(a)return a=a.toLowerCase(),a.charAt(0).toUpperCase()+a.slice(1)},repeat:function(a,b){var c="";if(0>b)throw new RangeError("repeat count must be non-negative");if(Infinity===b)throw new RangeError("repeat count must be less than infinity");
b=Math.floor(b);if(0===a.length||0===b)return"";if(268435456<=a.length*b)throw new RangeError("repeat count must not overflow maximum string size");for(var e=0;e<b;e++)c+=a;return c}};d.vdb={a:{Z:b.a.Z}};d.default=b.a.Z;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{Promise:{},f:{},a:{L:{}}});b=c(a(29).vdb,b||{});b.f=a(9).vdb.f;b.a.L=a(14).vdb.a.L;(function(a){function c(){}function d(a,b){return function(){a.apply(b,arguments)}}function e(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");
if("function"!==typeof a)throw new TypeError("not a function");this.Yd=0;this.$d=void 0;this.Ae=[];q(a,this)}function f(a,b){for(;3===a.Yd;)a=a.$d;0===a.Yd?a.Ae.push(b):t(function(){var c=1===a.Yd?b.gy:b.Lq;if(null===c)(1===a.Yd?h:g)(b.Fl,a.$d);else{try{var e=c(a.$d)}catch(w){g(b.Fl,w);return}h(b.Fl,e)}},1)}function h(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"===typeof b||"function"===typeof b)){var c=b.then;if(b instanceof e){a.Yd=3;a.$d=b;
m(a);return}if("function"===typeof c){q(d(c,b),a);return}}a.Yd=1;a.$d=b;m(a)}catch(v){g(a,v)}}function g(a,c){for(var g,e=0,f=a.Ae.length;!g&&e<f;e++)g=a.Ae[e].Lq;!g&&b.a.L.Nb&&"1"===b.a.L.Nb("logpromisereject")&&window.console&&console.error(c);a.Yd=2;a.$d=c;m(a)}function m(a){for(var b=0,c=a.Ae.length;b<c;b++)f(a,a.Ae[b]);a.Ae=null}function k(a,b,c){this.gy="function"===typeof a?a:null;this.Lq="function"===typeof b?b:null;this.Fl=c}function q(a,b){var c=!1;try{a(function(a){c||(c=!0,h(b,a))},function(a){c||
(c=!0,g(b,a))})}catch(v){c||(c=!0,g(b,v))}}var t=window.Promise?function(a){window.Promise.resolve().then(a)}:setTimeout,r=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.prototype["catch"]=function(a){return this.then(null,a)};e.prototype.then=function(a,b){var g=new e(c);f(this,new k(a,b,g));return g};e.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&r(arguments[0])?arguments[0]:arguments);return new e(function(b,c){function g(f,h){try{if(h&&
("object"===typeof h||"function"===typeof h)){var m=h.then;if("function"===typeof m){m.call(h,function(a){g(f,a)},c);return}}a[f]=h;0===--e&&b(a)}catch(E){c(E)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)g(f,a[f])})};e.resolve=function(a){return a&&"object"===typeof a&&a.constructor===e?a:new e(function(b){b(a)})};e.reject=function(a){return new e(function(b,c){c(a)})};e.race=function(a){return new e(function(b,c){for(var g=0,e=a.length;g<e;g++)a[g].then(b,c)})};e.nz=function(a){var b=
null;return function(){var c=Array.prototype.slice.apply(arguments);b=b||e.resolve();return b.then(a.bind.apply(a,[this].concat(c)))}};e.nz(function(){})();a.Promise=e})(b);d.vdb={Promise:b.Promise};d.default=b.Promise;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{rh:{}}});b.b.rh={Rb:"impression",jj:"creativeView",mh:"start",qj:"midpoint",Id:"firstQuartile",Pd:"thirdQuartile",Aa:"complete",fn:"mute",Mn:"unmute",on:"pause",HA:"rewind",zn:"resume",cA:"fullscreen",Tg:"expand",lf:"collapse",Xi:"acceptInvitation",
Ng:"close",nt:"skip",Ka:"click",wn:"progress"};d.vdb={b:{rh:b.b.rh}};d.default=b.b.rh;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(6);c=b(c);a=a(58);var l=b(a),n=(0,c.default)();a=function(){function a(){(0,k.default)(this,a);this[n]=new l.default}a.prototype.addEventListener=function(a,b){return this[n].addEventListener(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)};a.prototype.removeEventListener=
function(a,b){return this[n].removeEventListener(a,b)};a.prototype.cp=function(a){return this[n].cp(a)};a.prototype.dispatchEvent=function(a,b){return this[n].dispatchEvent(a,b)};a.prototype.Hh=function(a,b,c){return this[n].Hh(a,b,c)};a.prototype.Ki=function(){return this[n].Ki()};return a}();d.default=a},function(c){c=c.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(c,d,a){var b=
a(3)(b||{},{a:{R:{},Wb:{},Z:{}}});b.a.Wb=a(92).vdb.a.Wb;b.a.Z=a(20).vdb.a.Z;b.a.R=function(a){return{zc:function(){return a},xc:function(a){return b.a.Wb.xc(a)},Zf:function(a){return b.a.Wb.Zf(a)},si:function(a){return b.a.Wb.si(a)},fC:function(){var a=this.Zf();try{return a.document.referrer}catch(n){return null}},qC:function(){return a.performance},wC:function(){return a.navigator.userAgent},xd:function(){return b.a.Z.startsWith(a.location.protocol||this.xc()||"","https")},Fw:function(){for(var b=
a.self,c=0;b!==a.top&&b.parent;){try{if(b.parent&&b.parent.location&&!b.parent.location.href)throw Error("HandleSafari");}catch(e){if(2>c)c++;else break}b=b.parent}return c}}}(window);d.vdb={a:{R:b.a.R}};d.default=b.a.R;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(138);a=function(a){function b(c,g){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,
c,g))}(0,n.default)(b,a);b.prototype.df=function(a){return a&&a.nodeName===this.td()&&a.hasChildNodes()&&a.firstElementChild};return b}(b(a).default);d.default=a},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={km:"ad_loaded_timeout",sm:"ad_started_timeout",Am:"break_loaded_timeout",Mg:"clickThru",mf:"companionClick",se:"companionDisplay",LINEAR_CHANGE:"linearChange",LOADED:"loaded",hb:"stopped",xe:"iab_viewable",wf:"iab_detection_failed",xf:"iab_detection_started"}},function(c,
d,a){var b=a(3)(b||{},{va:{}});b.va=function(){var a;return{K:function(c){var d="stage"===c,e=d?".dev":"",f=d?"-stage":"";a={"cdn.url":"http://cdn.vidible.tv/"+c+"/","cdn.url.secure":"https://cdn-ssl.vidible.tv/"+c+"/","s3.url":"http://s3.amazonaws.com/vdb-cdn-files/","s3.url.secure":"https://s3.amazonaws.com/vdb-cdn-files/","tracking.url":"http://trk"+e+".vidible.tv/trk/","tracking.url.secure":"https://trk"+e+".vidible.tv/trk/","delivery.url":"http://delivery"+e+".vidible.tv/","delivery.url.secure":"https://delivery"+
e+".vidible.tv/","adserver.url":"http://video"+f+".adaptv.advertising.com/","adserver.url.secure":"https://video"+f+".adaptv.advertising.com/","adstracker.url":"http://video"+f+".adaptv.advertising.com/","adstracker.url.secure":"https://video"+f+".adaptv.advertising.com/","uplynk.url":"http://content.uplynk.com/","uplynk.url.secure":"https://content.uplynk.com/","aeg.default_vendor":d?"593fb37531e0a533fe6dd8fa":"593fb311c214e33ec50202f0","cdn.domain":"http://cdn.vidible.tv","cdn.domain.secure":"https://cdn-ssl.vidible.tv",
"cdn2.domain.secure":"https://cdn2.vidible.tv","logger.level":d?"0":"3","ima.url":"http://s0.2mdn.net/instream/html5/ima3"+(d?"_debug":"")+".js","ima.url.secure":"https://s0.2mdn.net/instream/html5/ima3"+(d?"_debug":"")+".js","default.pid":d?"5912acc731e0a563e7535e52":"59947c0544a64b1a49e52a48","default.bid":d?"53a2cd08e4b0915a797d6a2e":"56bcd17de4b0a5976ac0da12","default.bcid":d?"50d595ec0364e95588c77bd2":"56bcd17ce4b018167fea5539"};for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(b.va[h]=
a[h])}}}();d.vdb={va:b.va};d.default=b.va;d.__esModule=!0},function(c,d,a){a(3)(b||{},{});var b=window.vdb||{};window.vdb=b;d.vdb={};d.default=b;d.__esModule=!0},function(c){var d={}.hasOwnProperty;c.exports=function(a,b){return d.call(a,b)}},function(c,d,a){var b=a(39);c.exports=function(a){if(!b(a))throw TypeError(a+" is not an object!");return a}},function(c,d,a){var b=a(31),k=a(115),l=a(91),n=Object.defineProperty;d.S=a(33)?Object.defineProperty:function(a,c,h){b(a);c=l(c,!0);b(h);if(k)try{return n(a,
c,h)}catch(g){}if("get"in h||"set"in h)throw TypeError("Accessors not supported!");"value"in h&&(a[c]=h.value);return a}},function(c,d,a){c.exports=!a(46)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).Je})},function(c,d,a){var b=a(32),k=a(45);c.exports=a(33)?function(a,c,e){return b.S(a,c,k(1,e))}:function(a,b,c){a[b]=c;return a}},function(c,d,a){function b(a,c,m){var g=a&b.hc,h=a&b.Om,d=a&b.lc,r=a&b.nn,u=a&b.Rr,y=a&b.bo,x=h?l:l[c]||(l[c]={}),v=x.prototype;d=h?k:d?
k[c]:(k[c]||{}).prototype;var w;h&&(m=c);for(w in m)if(c=!g&&d&&void 0!==d[w],!c||!f(x,w)){var z=c?d[w]:m[w];x[w]=h&&"function"!=typeof d[w]?m[w]:u&&c?n(z,k):y&&d[w]==z?function(a){function b(b,c,g){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,g)}return a.apply(this,arguments)}b.prototype=a.prototype;return b}(z):r&&"function"==typeof z?n(Function.call,z):z;r&&((x.lz||(x.lz={}))[w]=z,a&b.it&&v&&!v[w]&&e(v,w,z))}}
var k=a(24),l=a(15),n=a(68),e=a(34),f=a(30);b.hc=1;b.Om=2;b.lc=4;b.nn=8;b.Rr=16;b.bo=32;b.TA=64;b.it=128;c.exports=b},function(c,d,a){var b=a(188),k=a(62);c.exports=function(a){return b(k(a))}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});d.tj=d.gj=d.Ej=d.Km=d.Vm=d.ym=d.Bj=d.nh=void 0;c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(77);c=b(c);var e=a(76),f=b(e);e=a(11);var h=b(e);a=a(20);var g=b(a);a=d.nh=function(a){function b(c){(0,
k.default)(this,b);return(0,l.default)(this,a.call(this,c))}(0,n.default)(b,a);b.prototype.P=function(a){var b=this.Pf();b.url=g.default.trim(h.default.ra(a));return b};b.prototype.Pf=function(){return new f.default};return b}(c.default);d.Bj=new a("Survey");d.ym=new a("Attempt");d.Vm=new a("Impression");d.Km=new a("Error");d.Ej=new a("VASTAdTagURI");d.gj=new a("CompanionClickThrough");d.tj=new a("NonLinearClickThrough")},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={dc:"VASTAdError",
fb:"VASTAdFinished",vg:"VASTAdFinishedForce",Fb:"VASTAdInteraction",fc:"VASTAdLoaded",lm:"VASTAdLoading",Gb:"VASTAdPaused",Jr:"VASTAdRequested",oe:"VASTAdResumed",ja:"VASTAdStarted",pe:"VASTAdStarting",gb:"VASTAdTimeUpdate",Oc:"VASTAdVolumeChanged",qe:"VASTAdWaiting",Zr:"VASTCompanionAdDied",Fm:"VASTCompanionAdStarted",Aa:"VASTAdEngineComplete",ij:"VASTContentPauseRequested",Rb:"VASTAdImpression"}},function(c){c.exports=function(c){return"object"===typeof c?null!==c:"function"===typeof c}},function(c){c.exports=
{}},function(c,d,a){var b=a(3)(b||{},{b:{bd:{}}});b.b.bd={Vg:"flash",Ds:"html5",LA:"smart",nB:"youtube",mB:"youku",ih:"o2unit",Ws:"VRM_plgn"};d.vdb={b:{bd:b.b.bd}};d.default=b.b.bd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{Vc:{},U:{},f:{},Promise:{},Tb:{}});b.f=a(9).vdb.f;b.Promise=a(21).vdb.Promise;b.Tb=a(164).vdb.Tb;b.Vc=b.f.Class.extend(function(){return{K:function(a){this.lb=this.Mh=a},FD:function(a){this.lb=a},sy:function(a,b){a.removeAttribute(b)},Mf:function(a,b,c){if(void 0===c)return a.getAttribute(b);
null===c?this.sy(a,b):a.setAttribute(b,c)},Ao:function(a,b,c){var e="TABLE"===a.nodeName,f=this.lb.createElement("div");f.innerHTML="<"+a.nodeName+">"+b+"</"+a.nodeName+">";c(e?a.lastChild:a,e?f.lastChild.lastChild:f.lastChild)},cy:function(a){var b=this.lb.createElement("div");b.innerHTML=a;return b.lastChild},wo:function(a){for(var c="",d=0,e;null!=(e=a[d++]);)e.nodeType===b.Tb.TEXT_NODE||e.nodeType===b.Tb.CDATA_SECTION_NODE?c+=e.nodeValue:e.nodeType!==b.Tb.COMMENT_NODE&&(c+=this.wo(e.childNodes));
return c},replace:function(a,b){this.Ao(a,b,function(b,c){a.replaceChild(c,b);return b})},append:function(a,b){this.Ao(a,b,function(a,b){a.appendChild(b.firstChild);return b.firstChild})},Bc:function(a,b){if(null===b||void 0===b)return a.innerHTML;try{a.innerHTML=b}catch(n){this.replace(a,b)}return null},text:function(a,b){if(null===b||void 0===b)return this.wo([a]);this.empty(a);a.appendChild(this.lb.createTextNode(b));return null},empty:function(a){if(a&&a.removeChild)for(;a.firstChild;)a.removeChild(a.firstChild)},
createElement:function(a){return this.lb.createElement(a)},createDocumentFragment:function(){return this.lb.createDocumentFragment()},ri:function(a){a=a||this.lb;return a.head||a.getElementsByTagName("head")[0]},po:function(a,b,c,e){var f=this.createElement("script");this.Mf(f,"type","text/javascript");for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&this.Mf(f,h,e[h]);c&&this.Mf(f,"async","true");a&&this.Mf(f,"src",a);b&&this.Mf(f,"crossorigin","anonymous");return f},fg:function(a,c,d,e){function f(){h.onload=
function(){};h.onerror=function(){};h.onreadystatechange=function(){};g.removeChild(h)}a&&0===a.indexOf("//")&&0!==window.location.protocol.indexOf("http")&&(a="https:"+a);var h=this.po(a,c,d,e),g=this.ri(this.Mh);a=new b.Promise(function(a,b){h.onload=a;h.onerror=b});h.onreadystatechange=function(){if("complete"===h.readyState||"loaded"===h.readyState)h.onload()};a.then(f,f);g.appendChild(h);return a},jx:function(a){var b=this.po();this.text(b,a);this.ri().appendChild(b);return b},mC:function(a,
b,c){var e="VDBCallback"+Math.round(1E4*Math.random()),f=c||this.Mh&&this.Mh.defaultView||window;f[e]=function(){"function"===typeof b&&b.apply({},arguments);try{delete f[e]}catch(h){f[e]=void 0}};this.fg(a.replace("[callback]",e))},cD:function(a){var b=this.lb.createElement("link");this.ri().appendChild(b);b.rel="stylesheet";b.type="text/css";b.href=a},Rf:function(a,b){var c=this.lb.createElement("style");c.type="text/css";c.appendChild(this.lb.createTextNode(a));(b||this.ri()).appendChild(c);return c},
PB:function(a,b){this.Rf(a,b)},LB:function(a){var b=this.lb.createElement("img");b.src=a;return b},KB:function(a){var b=this.lb.createElement("div");null!==a&&void 0!==a&&(b.className=a);return b},log:function(a){this.Rd||(this.Rd=this.lb.createElement("div"),this.Rd.style.position="fixed",this.Rd.style.top="0px",this.Rd.style.left="0px",this.Mh.getElementsByTagName("body")[0].appendChild(this.Rd));this.Rd.innerHTML=a+"<br>"+this.Rd.innerHTML},IC:function(){this.Rf("video::-webkit-media-controls-start-playback-button {    visibility: hidden !important;    opacity: 0 !important;}video::-webkit-media-controls {    visibility: hidden !important;    opacity: 0 !important;}")}}}());
b.U=new b.Vc(document);d.vdb={Vc:b.Vc,U:b.U};d.default=b.Vc;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){v.error("Failed to load ad entries",a);this.dispatchEvent(new r.default(B.ve,{error:a,og:this.Il,type:this.type}))}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var n=b(c);c=a(1);var e=b(c);c=a(6);c=b(c);var f=a(23);f=b(f);var h=a(163),g=b(h);h=a(305);var m=b(h);h=a(160);var p=b(h);h=a(158);var q=b(h);h=a(7);var t=
b(h);h=a(13);var r=b(h);h=a(4);h=b(h);var u=a(21),y=b(u);a=a(5);var x=b(a),v=h.default.B("BaseAdEntriesLoader"),w=(0,c.default)(),z=(0,c.default)(),A=(0,c.default)(),B=function(a){function b(c,g,e){(0,l.default)(this,b);var f=(0,n.default)(this,a.call(this));f[w]=!1;f[z]=g.F(t.default.Wc);f.nd=g.F(t.default.O);f.Bl=g.F(t.default.xj);f.av=e.rd();f.l=e;f.og=c;return f}(0,e.default)(b,a);b.prototype.load=function(a){this.type=a;v.info("Request ad groups",this.og)};b.prototype.ql=function(a){this[A]=
a&&x.default.Dc(a)||this[A];var b=this.nd.Sk().aegOverride;b&&a&&b.type.toLowerCase()===a.at&&(this[w]=!0);if(b&&b.replace)return y.default.resolve(this.ig({data:{aeg:[]}}));this.Il=this.og+"&"+this[A];return p.default.$k(this.Il,{timeout:5E3,withCredentials:!0}).then(this.ig.bind(this),k.bind(this))};b.prototype.ig=function(a){var c=this;v.info("Ad groups loaded",a.data);var e=[];(a.data.slots||(a.data.aeg?[a.data]:[])).forEach(function(b){var f=b.aeg||[];c[w]&&(f=(new m.default(c.nd.Qw(q.default.tg))).Xe(f));
c.nd.Gy({audiences:[],utid:a.data.apid});var h=[];f.forEach(function(e){var f=[];e.forEach(function(e){try{if(!e.type){var h=b.type&&b.type.toLowerCase();e.type=h?h.charAt(0).toUpperCase()+h.slice(1):c.type}e.transactionId=a.data.txid;e.adxResult=a.data.adxResult;e.usid=a.data.usid;e.auid=a.data.auid;c.nd.rq()&&(e.usesShim=!0);var m=g.default.parse(e,c.av);f.push(m)}catch(R){v.warn(R),c[z].Hc("ad",null,R.message)}});h.push(f)});e.push(h)});this.dispatchEvent(new r.default(b.LOADED,{gk:e,og:this.Il,
response:a.data,type:this.type}));return a};return b}(f.default);d.default=B;B.LOADING="BaseAdEntriesLoader.LOADING";B.LOADED="BaseAdEntriesLoader.LOADED";B.ve="BaseAdEntriesLoader.FAILED"},function(c,d,a){var b=a(3)(b||{},{o:{tf:{},Event:{}}});b.o.Event=a(13).vdb.o.Event;b.o.tf=b.o.Event.extend(function(){return{data:null,nv:null,K:function(a,b,c){this._super(a,!0,!0);this.data=b;this.nv=c}}}());(function(a){a.Ij="Reporting.Video.Play";a.ZA="Reporting.Video.Decile";a.$A="Reporting.Video.HWM";a.An=
"Reporting.RevenueShare";a.nm="Reporting.Ad.Request";a.im="Reporting.Ad.Engine.Request";a.Yi="Reporting.Ad.Engine.Response";a.hm="Reporting.Ad.Engine.Flow";a.Fb="Reporting.Ad.Interaction";a.uz="Reporting.Ad.Early.Stop";a.ne="Reporting.Ad.Issue";a.rm="Reporting.Ad.Slot.Opportunity";a.ue="Reporting.Basic.Display";a.Ka="Reporting.Basic.Click";a.ta="Reporting.Basic.Error"})(b.o.tf);d.vdb={o:{tf:b.o.tf}};d.default=b.o.tf;d.__esModule=!0},function(c){c.exports=function(c,a){return{enumerable:!(c&1),configurable:!(c&
2),writable:!(c&4),value:a}}},function(c){c.exports=function(c){try{return!!c()}catch(a){return!0}}},function(c,d,a){var b=a(3)(b||{},{Ga:{Ca:{}}});b.Ga.Ca={qz:"adminibar",rz:"adminibar_opacity",yz:"aggressiveAdMode",Az:"animated_poster_text",Bz:"arr",Cz:"autoplayinview",cj:"beoncw",Tr:"beonvid",Ez:"bigPlayPauseButton",Hz:"centeredFishEye",Iz:"channel",Xr:"chromeMode",Kz:"clickurl",Mz:"csaccid",Nz:"csc4",ms:"disable_3p",Oz:"disable360poster",Pz:"disableads",Qz:"disabledcr",Rz:"disableadspreloading",
ks:"disableFlashAd",ls:"disable_moat",Tz:"discovery_page_preview",Wz:"enable_subscript",Yz:"fishEyeAngle",$z:"forcereactions",aA:"force_nielsen_dar",bA:"force_nielsen_ocr",dA:"fwsitesection",eA:"hideDuration",fA:"hideskin",gA:"initialVolume",iA:"iosapp",jA:"isResponsive",kA:"languageAutoDetection",lA:"loadingplaceholder",mA:"loadTimeLimit",pA:"360mobile",rA:"oathHlsJs",sA:"onLoad",tA:"paid_p",uA:"pauseIfScrolledAway",vA:"pauseIfOutOfTab",wA:"pct",xA:"playback",AA:"posterstyle",$s:"prebid_js",BA:"prebid_bidder",
CA:"prebid_placement_id",Zs:"prebid_ad_server",bt:"prebid_params",DA:"previewposter",EA:"pt",GA:"reward",JA:"showVpaidControls",KA:"sid",Dn:"sound",NA:"subscript_language",PA:"tilt",QA:"timelinepreview",RA:"timeline_preview_border",SA:"timeline_preview_shape",UA:"upnext",URL:"url",VA:"vid",hB:"vls.ad",iB:"vrm_2_0",jB:"vrsplit",Sz:"disablevolumecookies"};d.vdb={Ga:{Ca:b.Ga.Ca}};d.default=b.Ga.Ca;d.__esModule=!0},function(c,d,a){var b=a(113),k=a(66);c.exports=Object.keys||function(a){return b(a,k)}},
function(c){var d=0,a=Math.random();c.exports=function(b){return"Symbol(".concat(void 0===b?"":b,")_",(++d+a).toString(36))}},function(c){c.exports=!0},function(c,d,a){var b=a(3)(b||{},{ads:{Gg:{}}});b.ads.Gg={LOADED:"loaded",eo:"win",qt:"starting",STARTED:"started",Wr:"boost",FINISHED:"finished",dn:"killed",ot:"skipped",pf:"failover",qs:"early-stop",mt:"site-mismatch",Id:"q1",Aj:"q2",Pd:"q3",Ps:"non-linear"};d.vdb={ads:{Gg:b.ads.Gg}};d.default=b.ads.Gg;d.__esModule=!0},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(99);a=function(a){function b(){(0,k.default)(this,b);var c=(0,l.default)(this,a.call(this));c.op=[];c.tl=[];c.vd=[];c.duration=null;c.Dd=!1;c.Pi=null;c.Oi=null;c.parameters=null;c.$a=null;c.Cv=null;return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",
{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(4);c=b(c);a=a(12);a=b(a);var e=c.default.B("CompanionShowEvent");a=function(a){function b(c,f){(0,k.default)(this,b);e.debug("init",c,"childEvent",f);c=(0,l.default)(this,a.call(this,b.Og,c));c.Zh=f instanceof b?f.Zh.slice(0):[];return c}(0,n.default)(b,a);b.prototype.clone=function(){e.debug("clone");return new b(this.Yf(),this)};return b}(a.default);d.default=a;a.Og="VASTEventCompanionShow"},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);var e=a(23);e=b(e);var f=a(12),h=b(f);f=a(38);var g=b(f);f=a(22);var m=b(f);a=a(13);var p=b(a),q=/^((http[s]?|ftp):\/)?\/?([^:\/\s]+)((\/\w+)*\/)o2shim/i,t=(0,c.default)(),r=(0,c.default)(),u=(0,c.default)();a=function(a){function b(c){(0,k.default)(this,b);var g=(0,l.default)(this,a.call(this));g.A=c;g[t]=[];return g}(0,n.default)(b,a);b.prototype.je=function(){this.g.LC=
this.A.getCurrentTime()};b.prototype.load=function(){this.element=this.createElement()};b.prototype.jg=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=this.g.Ia;a.duration=b.duration;a.skippable=b.Dd||!1;a.skipOffsetTime=b.Pi||null;a.skipOffsetPercent=b.Oi||null;(b=this.g.ad?this.g.ad.Cb:null)&&(a.sequence=b);this.A&&this.A.Mv();this.Jp(a);this.g.dispatchEvent(new p.default(g.default.ja,a))};b.prototype.Jp=function(a){this[r]||(this.g.dispatchEvent(new p.default(g.default.pe,
a)),this[r]=!0)};b.prototype.zd=function(){this.Af||(this.Af=!0,this.g.yi(),this.g.Ne(h.default.Rb),this.track(m.default.jj))};b.prototype.sr=function(a){.25<a&&this.Db(m.default.Id);.5<a&&this.Db(m.default.qj);.75<a&&this.Db(m.default.Pd)};b.prototype.stop=function(){this.g.complete(!0)};b.prototype.za=function(){this.g.stop()};b.prototype.track=function(a,b){this.g.bi(a,b)};b.prototype.Db=function(a){a===m.default.Aa&&!this[u]||-1!==this[t].indexOf(a)||(this[t].push(a),this.track(a,void 0))};b.prototype.xq=
function(){return q.test(this.xb)};b.prototype.resize=function(){};b.prototype.invokeAdMethod=function(){};b.prototype.setVolume=function(){};b.prototype.resume=function(){};b.prototype.pause=function(){};b.prototype.getCurrentTime=function(){var a=this.vc(),b=this.getDuration();return 0<b&&0<a?b-a:0};b.prototype.vc=function(){return-1};b.prototype.getDuration=function(){return-1};b.prototype.Ji=function(){this[u]=!0};b.prototype.Ix=function(){return this[u]};return b}(e.default);d.default=a},function(c,
d,a){var b=a(3)(b||{},{mb:{Error:{},yj:{},Dj:{},vj:{}},f:{}});b.f=a(9).vdb.f;(function(a){a.Error=b.f.Class.extend(function(){return{K:function(a,b){this.message=a||"";this.code=b},toString:function(){return"Error{message="+this.message+"}"}}}());a.yj=a.Error.extend({K:function(a,b){this._super(a);this.code=b}});a.Dj=a.Error.extend({Vl:0,K:function(a,b){this._super(a);this.Vl=b}});a.vj=a.Error.extend({})})(b.mb);d.vdb={mb:{Error:b.mb.Error,yj:b.mb.yj,Dj:b.mb.Dj,vj:b.mb.vj}};d.default=b.mb.Error;d.__esModule=
!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){m.call(this,x.default.Mt);n.call(this,new B.default("Loading timeout "+a+" ms is exceeded",a))}function l(a,b){var c=this[Q];this[Q]=null;D.debug("failOver",a,c);c?("VAST ajax error"===a&&m.call(this,x.default.lj),0===c.ads.length&&c.parent&&(b=c.Cl,a=new w.default(w.default.ta,null,null,{error:"VAST ajax error"===a?x.default.lj:x.default.Bs}),b.dispatchEvent(a),this[N].kg(a),c=c.parent,this[Q]=c),this[M]===c.ads[0]&&
c.ads.shift(),this.$e(c,!0)):n.call(this,a+(b?" ("+b+")":""))}function n(a){D.warn("interruptOnError",a);clearTimeout(this[R]);this[R]=null;var b=a instanceof B.default?a.message:a;a=new u.default(b,b===I?u.default.lt:u.default.lh,a instanceof B.default?a.Vl:null);this.dispatchEvent(y.Ym,a)}function e(a,b){function c(b){b=b.pr;this[H].dispatchEvent(new C.default(fa,{ad:this[F],url:e}));!a&&f.call(this,b,m)||l.call(this,"VAST ajax error",b?"request timeout over "+m+"ms":null)}function g(c){this[H].dispatchEvent(new C.default(fa,
{ad:this[F],url:e}));var g=c.data;g||(g=c.text);null===this[R]||this.Nq(g,b,a,e)}var e=a||this[F]&&this[F].getUrl();e=this[H].wc().resolve(e);var m=this[F]&&!a?this[F].Vk(e):this[L];this[U].xd()&&(e=E.default.cr(e,"http://","https://"));e=E.default.cr(e,"#",encodeURIComponent("#"));this[H].dispatchEvent(new C.default(O,{ad:this[F],url:e}));z.default.$k(e,{timeout:m,withCredentials:!0}).then(g.bind(this),function(b){this[F]&&this[F].rx()&&!a?c.call(this,b):(this[P].Hc("ad",null,"Failed VAST request with Credentials"),
z.default.$k(e,{timeout:m}).then(g.bind(this),c.bind(this)))}.bind(this))}function f(a,b){return this[F]&&this[F].Tl()?(this[P].Hc("ad",null,"switching to the next ad in [urls] in the same entry."+(a?" Because of timeout ("+b+")":"")),e.call(this,null),!0):!1}function h(a){a.ads.sort(function(a,b){return a.Cb-b.Cb})}function g(a){clearTimeout(this[R]);this[R]=null;this.dispatchEvent(y.Gm,a)}function m(a){this[M]&&(this.dispatchEvent(y.ne,a),this[M].Gv(this[N],a))}Object.defineProperty(d,"__esModule",
{value:!0});d.Qn=d.On=d.Pn=d.Ts=void 0;c=a(0);var p=b(c);c=a(2);var q=b(c);c=a(1);var t=b(c);c=a(6);c=b(c);var r=a(86),u=b(r),y=a(103);r=a(19);var x=b(r);r=a(23);r=b(r);var v=a(12),w=b(v);v=a(160);var z=b(v);v=a(7);var A=b(v);v=a(55);var B=b(v);v=a(13);var C=b(v);v=a(4);v=b(v);a=a(20);var E=b(a),D=v.default.B("VastLoader"),F=(0,c.default)(),K=(0,c.default)(),L=(0,c.default)(),N=(0,c.default)(),U=(0,c.default)(),H=(0,c.default)(),P=(0,c.default)(),J=(0,c.default)(),Q=(0,c.default)(),M=(0,c.default)(),
R=(0,c.default)(),G=(0,c.default)();a=function(a){function b(c){(0,p.default)(this,b);var g=(0,q.default)(this,a.call(this));g[F]=c.ad;g[K]=c.jz;g[L]=c.Qx;g[N]=c.Qv;g[H]=c.l;c=g[H].ha();g[U]=c.F(A.default.Oa);g[P]=c.F(A.default.Wc);g[J]=0;return g}(0,t.default)(b,a);b.prototype.el=function(){this[J]=0};b.prototype.ff=function(){var a=this[F]?this[F].Xp():this[L];this[R]=window.setTimeout(k.bind(this,a),a)};b.prototype.Nq=function(a,b,c,g){D.debug("parseAndProcess",a);try{var e=this[K].parse(a);e.nr=
g;this[G]=null;b&&b(e);this.$e(e,null,0,g)}catch(Ka){if(c||!f.call(this))this[G]=Ka.code||x.default.Gj.code,l.call(this,Ka.message)}};b.prototype.$e=function(a,b){var c=this,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,d=arguments[3];D.debug("processModel",a);if(0===a.ads.length)a.mb.forEach(function(a){c[P].Nf(a.url.replace(/\[ERRORCODE\]|%5BERRORCODE%5D|\{errNo\}/g,"303"))}),l.call(this,I),this[G]?this[G]===x.default.Hj.code?m.call(this,x.default.Hj):this[G]===x.default.Fj.code?m.call(this,
x.default.Fj):m.call(this,x.default.Gj):0<this[J]&&m.call(this,x.default.Ss);else{b||h(a);var k=a.ads[f];this[H].dispatchEvent(new C.default(V,{ad:k,Ak:this[F],ur:d}));k.Di?(this[Q]=a,this[M]=a.ads.splice(f,1)[0],this[J]+=1,8>=this[J]?(k.Fv(this[N]),e.call(this,k.np.url,function(b){k.gv(b);k.qy(b,c[M]);b.parent=a;b.Cl=k})):(this[Q]=null,m.call(this,x.default.Lt),l.call(this,"Max number of wrapper redirects 8 is exceeded"))):g.call(this,a)}};b.prototype.my=function(a,b){this.$e(a,void 0,b)};b.prototype.load=
function(a){this.el();this.ff();e.call(this,a)};b.prototype.Ev=function(){--this[J]};return b}(r.default);d.default=a;var I=d.Ts="No ads provided",O=d.Pn="VastLoader.Vast.Loading",fa=d.On="VastLoader.Vast.Loaded",V=d.Qn="VastLoader.Vast.ProcessAd"},function(c,d,a){var b=a(3)(b||{},{b:{Eg:{}}});b.b.Eg={ss:"VIDEO",Fs:"IMA",vn:"PREBID",Nn:"VAST"};d.vdb={b:{Eg:b.b.Eg}};d.default=b.b.Eg;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{sb:{},f:{},log:{},o:{Event:{}}});b.f=a(9).vdb.f;b.log=a(4).vdb.log;
b.o.Event=a(13).vdb.o.Event;b.sb=b.f.Class.extend(function(){return{K:function(){this.Sd={};this.Mj=[];this.De=b.log.B("EventBus")},addEventListener:function(a,b,c){var e=this.Sd[a];e||(e=[],this.Sd[a]=e);e.push({vi:b,Vq:c||0})},removeEventListener:function(a,b){a=this.Sd[a]||[];for(var c=0;c<a.length;c++)a[c].vi===b&&(a.splice(c,1),c--)},cp:function(a){this.Mj.push(a)},dispatchEvent:function(a){var b;if("string"===typeof a){var c=a;var e=Array.prototype.slice.call(arguments,1)}else c=a.type,a.target=
this,e=Array.prototype.slice.call(arguments,0);var f=this.Sd[c];if(f){f=f.slice();f.sort(function(a,b){return b.Vq-a.Vq});var h=0;for(b=f.length;h<b;h++)this.Hh(c,e,f[h].vi)}h=0;for(b=this.Mj.length;h<b;h++)this.Mj[h].call({},c,e)},Hh:function(a,b,c){try{c.apply({},b)}catch(e){this.De.error(e,"event",{type:a,args:b})}},Ki:function(){this.De.info("Removing all listeners.");for(var a in this.Sd)Array.isArray(this.Sd[a])&&delete this.Sd[a]}}}());d.vdb={sb:b.sb};d.default=b.sb;d.__esModule=!0},function(c,
d,a){var b=a(180)(!0);a(116)(String,"String",function(a){this.Nh=String(a);this.zf=0},function(){var a=this.Nh,c=this.zf;if(c>=a.length)return{value:void 0,done:!0};a=b(a,c);this.zf+=a.length;return{value:a,done:!1}})},function(c,d,a){var b=a(67)("keys"),k=a(49);c.exports=function(a){return b[a]||(b[a]=k(a))}},function(c){var d=Math.ceil,a=Math.floor;c.exports=function(b){return isNaN(b=+b)?0:(0<b?a:d)(b)}},function(c){c.exports=function(c){if(void 0==c)throw TypeError("Can't call method on  "+c);
return c}},function(c,d,a){var b=a(3)(b||{},{a:{gd:{}}});b.a.gd=function(){return{Nb:function(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(b);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))}}}();d.vdb={a:{gd:b.a.gd}};d.default=b.a.gd;d.__esModule=!0},function(c,d,a){var b=a(62);c.exports=function(a){return Object(b(a))}},function(c,d,a){var b=a(32).S,k=a(30),l=a(17)("toStringTag");c.exports=function(a,c,f){a&&!k(a=f?a:a.prototype,l)&&
b(a,l,{configurable:!0,value:c})}},function(c){c.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(c,d,a){d=a(15);var b=a(24),k=b["__core-js_shared__"]||(b["__core-js_shared__"]={});(c.exports=function(a,b){return k[a]||(k[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,mode:a(50)?"pure":"global",IB:"\u00a9 2018 Denis Pushkarev (zloirock.ru)"})},function(c,d,a){var b=a(187);c.exports=function(a,c,d){b(a);if(void 0===
c)return a;switch(d){case 1:return function(b){return a.call(c,b)};case 2:return function(b,f){return a.call(c,b,f)};case 3:return function(b,f,h){return a.call(c,b,f,h)}}return function(){return a.apply(c,arguments)}}},function(c){var d={}.toString;c.exports=function(a){return d.call(a).slice(8,-1)}},function(c,d,a){c.exports={"default":a(245),__esModule:!0}},function(c,d,a){var b=a(3)(b||{},{b:{kc:{}}});b.b.kc={Ar:["[ADAP_VIEWABLE_OPPORTUNITY]"],Br:["{adNumber}"],Or:["[APID]"],Pr:["[ASSETURI]"],
Qr:["|ap|","[AUTOPLAY]","[AUTO_INITIATION]"],cj:["|beoncw|","[BEON_CW]"],Ur:["|beonvid|","[BEON_VIDEO_ID]"],Vr:["[BID]"],Bm:["[cachebuster]","[CACHEBUSTER]","[CACHE_BUSTER]","[CACHE_BREAKER]","[CACHEBUSTING]"],$r:["[container_height]","[CONTAINER_HEIGHT]"],bs:["[container_width]","[CONTAINER_WIDTH]"],cs:["[CONTENTPLAYHEAD]"],fs:["[DEPTH]"],hs:["[DE_RSS_ID]"],js:["|DE_URL|","[DE_URL]"],ns:["[DOMAIN_ROOT]"],os:["[DOMAIN_NAME]"],rs:["[ECPM]"],vs:["[FLASH_SUPPORT]"],ws:["[P_VW_ACTIVE]","<a.active>"],
Ls:["[LOCATION_LAT]"],Ms:["[LOCATION_LON]"],Ib:["[MOAT_PREBID]"],Ns:["|muted|","[MUTED]"],Vs:["[MCC]","[MNC]","[APPNAME]"],Xs:["[PID]"],yA:["[PLAYER_COMPANY_ID]"],pn:["[P_VW_SIZE]","<a.psize>"],kt:["[RSS_ID]"],rt:["[timestamp]","[TIMESTAMP]"],vt:["[VIDEO_DESCRIPTION]","VIDEO_DESCRIPTION"],wt:["[VIDEO_DETAIL_PAGE]","VIDEO_DETAIL_PAGE"],xt:["[VIDEO_DURATION]","VIDEO_DURATION"],yt:["[VIDEO_FILE_URL]"],zt:["[video_height]","[VIDEO_HEIGHT]"],At:["[VIDEO_ID]","VIDEO_ID"],Bt:["[VIDEO_KEYWORDS]","VIDEO_KEYWORDS"],
Dt:["|%|","[VIDEO_PERCENT]"],Ft:["[VIDEO_TITLE]","VIDEO_TITLE"],Gt:"VIDEO_URL |URL| [CONTENT_URL] EMBEDDING_PAGE_URL [URL] [A_D_PAGEURL]".split(" "),Ht:["[video_width]","[VIDEO_WIDTH]"],It:["[P_VW_VIEWABLE]","<a.viewable>"],Jt:["[P_VW_VIEWABLE_OPPORTUNITY]","<a.viewableOpportunity>"],Kt:["[VVUID]"],Dn:["[SOUND]"],Er:["[AD_DURATION]","{ad_duration}"],Fr:["[ERRORCODE]","{errNo}","%5BERRORCODE%5D"],us:["[EUCONSENT]","EUCONSENT"],xs:["[GDPR]","GDPR"],Ys:["[PLAYLIST_SEQUENCE]"]};c=b.b.kc;a={};for(var k in c)Object.prototype.hasOwnProperty.call(c,
k)&&(a[k]=c[k][0]);c.placeholder=a;d.vdb={b:{kc:b.b.kc}};d.default=b.b.kc;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{C:{pa:{}},ua:{}},f:{},b:{i:{}}});b.a.ua=a(87).vdb.a.ua;b.f=a(9).vdb.f;b.b.i=a(7).vdb.b.i;b.a.C.pa=b.f.Class.extend(function(){return{K:function(a){this.ib=a[b.b.i.hd]},Ec:function(a){this.ib=a},Cc:function(){return b.a.ua.Cc()},sa:function(){},ge:function(){var a=this.sa();return this.ib&&-1!==a?!this.Cc()||50>a?0:1:-1}}}(),[b.b.i.hd]);d.vdb={a:{C:{pa:b.a.C.pa}}};d.default=
b.a.C.pa;d.__esModule=!0},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c},k=(a=a(11))&&a.__esModule?a:{default:a};a=function(){function a(c){(0,b.default)(this,a);c&&(this.type=c.getAttribute("type"),this.value=k.default.ra(c))}a.prototype.da=function(a,b){this.Ja=a;this.l=b;this.pl=b.wc()};a.prototype.ga=function(){this.value=this.pl.resolve(this.value);(new Image).src=this.value};return a}();d.default=a},function(c,d){Object.defineProperty(d,
"__esModule",{value:!0});d.default={dm:"ad_chromes",pz:"adaptv_error",Dm:"vidible_captions",Im:"one_video_custom_tracking_beacons",Sm:"adaptv_iab_viewable_beacons",Zm:"one_video_inventory_attributes",en:"o2Player_leaveBehind",wj:"one_video_feacons",Bn:"adaptv_scripts",In:"vidible_360",Jn:"adaptv_timeout_beacons"}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});d.uj=d.hj=d.kj=d.fj=d.ej=d.an=void 0;c=a(0);var k=b(c);c=a(2);var l=b(c);
c=a(1);var n=b(c);c=a(37);a=a(136);var e=b(a);a=d.an=function(a){function b(c){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c))}(0,n.default)(b,a);b.prototype.P=function(b){var c=a.prototype.P.call(this,b);c.id=b.getAttribute("id");return c};b.prototype.Pf=function(){return new e.default};return b}(c.nh);d.ej=new a("ClickThrough");d.fj=new a("ClickTracking");d.kj=new a("CustomClick");d.hj=new a("CompanionClickTracking");d.uj=new a("NonLinearClickTracking")},function(c,d,a){Object.defineProperty(d,
"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function n(a){(0,b.default)(this,n);this.url=a}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(138);c=b(c);a=a(11);var e=b(a);a=function(a){function b(c){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c))}(0,n.default)(b,a);b.prototype.df=function(a){return a&&a.nodeName===
this.td()&&e.default.fx(a)};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(99);a=function(a){function b(){(0,k.default)(this,b);var c=(0,l.default)(this,a.call(this));c.ai=[];c.Qu="";c.required=null;return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,
"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(23);a=function(a){function b(c,g){(0,k.default)(this,b);var e=(0,l.default)(this,a.call(this));e.fa=c;e.Bh=g;return e}(0,n.default)(b,a);b.prototype.I=function(){var a=[this.Bh].concat(Array.prototype.slice.call(arguments));try{return this.fa.I.apply(this.fa,a)}catch(g){}this.dispatchEvent(b.nf)};b.prototype.addEventListener=function(c,g){c===b.nf?a.prototype.addEventListener.call(this,c,g):this.fa.addEventListener(this.Bh,
c,g)};b.prototype.removeEventListener=function(c,g){c===b.nf?a.prototype.removeEventListener.call(this,c,g):this.fa.removeEventListener(this.Bh,c,g)};return b}(b(a).default);d.default=a;a.nf="FlashObjectWrapper.CRITICAL_ERROR"},function(c,d,a){var b=a(3)(b||{},{b:{Sc:{}}});b.b.Sc={dj:"AS.WithSound",kf:"AS.Muted",Cm:"AS.CNA",gs:"AS.InProgress"};d.vdb={b:{Sc:b.b.Sc}};d.default=b.b.Sc;d.__esModule=!0},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={Vg:"application/x-shockwave-flash",
Mm:"video/x-flv",bn:"application/javascript",cn:"application/x-javascript",tt:"uplynk/m3u8"}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(4);c=b(c);a=a(12);a=b(a);var e=c.default.B("CompanionTrackingEvent");a=function(a){function b(c,f,d){(0,k.default)(this,b);e.debug("init",c,f,d);f=(0,l.default)(this,a.call(this,b.Pg,f,null));f.Gd=c;f.qp=d;return f}(0,n.default)(b,a);
b.prototype.clone=function(){e.debug("clone");return new b(this.Gd,this.Yf(),this.qp)};return b}(a.default);d.default=a;a.Pg="VASTEventCompanionTracking"},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.Zg=d.bh=d.sf=void 0;var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function n(a){(0,b.default)(this,n);this.type=a};d.sf=new c("STATIC");d.bh=new c("IFRAME");d.Zg=new c("HTML")},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={$m:"AdSystem.InvokeAdMethod",
LINEAR_CHANGE:"AdSystem.LinearChange",rf:"AdSystem.Resize"}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(12);a=function(a){function b(c,g,e){(0,k.default)(this,b);g=(0,l.default)(this,a.call(this,b.vf,g,null));g.Gd=c;g.data=e||{};return g}(0,n.default)(b,a);b.prototype.clone=function(){return new b(this.Gd,this.Yf(),this.data)};b.prototype.toString=function(){return"VideoTrackingEvent{trackingType="+
this.Gd+", recordCount="+this.sc.length+"}"};return b}(b(a).default);d.default=a;a.vf="VASTEventVideoTracking"},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(55);a=function(a){function b(c,g,e){(0,k.default)(this,b);c=(0,l.default)(this,a.call(this,c));c.severity="undefined"===typeof g?b.lh:g;c.timeout=e;return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a;a.lt=
0;a.lh=1;a.IA=2},function(c,d,a){var b=a(3)(b||{},{a:{ua:{},R:{}}});b.a.R=a(25).vdb.a.R;b.a.ua=function(){function a(a){try{var b=a.document.hasFocus&&a.document.hasFocus()}catch(q){}return b}function c(){return!(!a(d.zc())&&!a(d.zc().top))}var d=b.a.R,e=["","webkit","moz","ms","o"],f=Array(e.length),h=Array(e.length),g=Array(e.length);(function(){for(var a=0;a<e.length;a++){var b=e[a];f[a]=b?b+"VisibilityState":"visibilityState";h[a]=b?b+"Hidden":"hidden";g[a]=b+"visibilitychange"}})();return{hasFocus:c,
Cc:function(){var a;if(!(a=!!c())){var b;for(a=0;a<h.length;a++)void 0!==d.zc().document[h[a]]&&(b=d.zc().document[h[a]]);a=!1===b}if(!(b=a)){var g;for(b=0;b<f.length;b++)d.zc().document[f[b]]&&(g=d.zc().document[f[b]]);b="visible"===g}return b},zC:function(){for(var a,b=0;b<h.length;b++)void 0!==d.zc().document[h[b]]&&(a=g[b]);return a}}}();d.vdb={a:{ua:b.a.ua}};d.default=b.a.ua;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{Ta:{}},Vc:{},c:{},log:{},va:{}});b.Vc=a(42).vdb.Vc;b.c=a(5).vdb.c;
b.log=a(4).vdb.log;b.va=a(28).vdb.va;b.a.Ta=function(){var a=b.log.B("Html5CommonUtils"),c=b.U&&b.U.createElement("video")||document.createElement("video");return{$w:function(){return c},QC:function(a,b){for(;a&&"html"!==a.tagName.toLowerCase();){if(a===b)return!0;a=a.parentNode}return!1},SC:"undefined"!==typeof document.execCommand,pC:function(a){var b={top:0,left:0};var c=a&&a.ownerDocument;if(c){c=c.documentElement;void 0!==a.getBoundingClientRect&&(b=a.getBoundingClientRect());var d={top:b.top+
(window.pageYOffset||c.scrollTop)-(c.clientTop||0),left:b.left+(window.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}return d},show:function(a){a=b.c.Ed(a);for(var c=0;c<a.length;++c)"none"===a[c].style.display&&(b.c.Ai&&a[c].style.removeProperty("display"),a[c].style.display=null),"hidden"===a[c].style.visibility&&(b.c.Ai&&a[c].style.removeProperty("visibility"),a[c].style.visibility=null),"none"===getComputedStyle(a[c]).display&&(a[c].style.display="block"),"hidden"===getComputedStyle(a[c]).visibility&&
(a[c].style.visibility="visible")},Se:function(a,c){a=b.c.Ed(a);for(var e=0;e<a.length;++e)c?a[e].style.visibility="hidden":a[e].style.display="none"},toggle:function(a,c){c?b.a.Ta.show(a):b.a.Ta.Se(a)},UC:function(a){return!("none"!==a.style.display&&"hidden"!==a.style.visibility)},Yv:function(a,b,c){var e=Math.round(a),g=~~(e/3600),f=e-3600*g;e=~~(f/60);a=c?+(a%1).toFixed(3).substring(2):0;c=~~(f-60*e)-(500<a?1:0);return(0<g||b?(10>g?"0":"")+g+":":"")+(10>e?"0":"")+e+":"+(10>c?"0":"")+c+(a?"."+
a:"")},iy:function(c){b.c.Kx(c)?window.open(c,"_blank"):a.error("Failed to open new tab due to invalid url",c)},bD:"webkitEnterFullScreen"in document.createElement("video"),hC:function(a){return a[Object.keys(a)[0]]},nC:function(a){return Object.keys(a).length},ep:function(a,b,c){return a+(-1<a.indexOf("?")?"&":"?")+b+"="+c},uC:function(a,c,f,d,g){var e=g?b.va["cdn.domain.secure"]:b.va["cdn.domain"],h=b.va["cdn2.domain.secure"];g=g?"${imageservice.url.secure}":"${imageservice.url}";if(c){var l;-1<
c.indexOf(e)?l=c.replace(e,g):-1<c.indexOf(h)?l=c.replace(h,g):-1<c.indexOf(g)&&(l=c);l&&(l=this.ep(l,"w",Math.min(f,4096)),a=l=this.ep(l,"h",Math.min(d,2160)))}if(!a)return c;if(-1===a.indexOf("thumbnails.5min.com"))return a;c="_"+f+"_"+d;f=a.split("/");d=f.pop().split(".");e="."+d.pop();d=d.pop().split("_");return 2>d.length?a:f.join("/")+"/"+d.slice(0,2).join("_")+c+e},GC:function(a){a=a.toString(16);for(var b=[];6>a.length+b.length;)b.push("0");return"#"+b.join("")+a},GD:function(a){for(var b=
a.length-1;0<b;b--){var c=~~(Math.random()*(b+1)),d=a[b];a[b]=a[c];a[c]=d}return a},sD:function(a,b,c){var e=[];if(c)for(var g=0;g<c.length;++g){var f=c[g];e.push(encodeURIComponent(f)+"="+encodeURIComponent(a[f]))}else for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&e.push(encodeURIComponent(g)+"="+encodeURIComponent(a[g]));return(b?"":"?")+e.join("&")},tC:function(a,b){if(!b||0===b.length)return a;var c=b.length,e={},g;for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&0===g.indexOf(b)&&
(e[g.substring(c)]=a[g]);return e},ID:function(a,b,c){var e=new Image;e.crossOrigin="Anonymous";e.onload=function(){var a=document.createElement("CANVAS"),e=a.getContext("2d");a.height=this.height;a.width=this.width;e.drawImage(this,0,0);a=a.toDataURL(c);b(a)};e.src=a},Ux:function(a,c){var e=document.createEvent("Events");e.initEvent(a,!0,!0);b.c.Ha(c,e);return e},DD:function(a,b){a.dispatchEvent(this.Ux("keydown",{keyCode:b,which:b}))},KC:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=
new c;a.prototype.constructor=a},OC:function(a){if("BODY"===a.nodeName)return!1;for(var b=a,c=!1;(b=b.parentNode)&&"BODY"!==b.nodeName;)if("hidden"===window.getComputedStyle(b).overflow){c=!0;break}return c?(a=a.getBoundingClientRect(),b=b.getBoundingClientRect(),a.left<b.right&&a.top<b.bottom):!1},$C:function(a){return"touch"===a.pointerType},isSupported:function(a){return!!this.rw(a)},WC:function(){return this.isSupported("application/vnd.apple.mpegurl")},rw:function(a){var b=this.$w();try{return b&&
"function"===typeof b.canPlayType&&(!a||b.canPlayType(a))}catch(f){return!1}},Dv:function(a,b,c){var e;return function(){var g=this,f=arguments,d=c&&!e;clearTimeout(e);e=setTimeout(function(){e=null;c||a.apply(g,f)},b);d&&a.apply(g,f)}}}}();d.vdb={a:{Ta:b.a.Ta}};d.default=b.a.Ta;d.__esModule=!0},function(c,d){d.S={}.propertyIsEnumerable},function(c,d,a){function b(){var c=a(94)("iframe"),g=e.length;c.style.display="none";a(182).appendChild(c);c.src="javascript:";c=c.contentWindow.document;c.open();
c.write("<script>document.F=Object\x3c/script>");c.close();for(b=c.hc;g--;)delete b.prototype[e[g]];return b()}function k(){}var l=a(31),n=a(185),e=a(66),f=a(60)("IE_PROTO");c.exports=Object.create||function(a,c){if(null!==a){k.prototype=l(a);var g=new k;k.prototype=null;g[f]=a}else g=b();return void 0===c?g:n(g,c)}},function(c,d,a){var b=a(39);c.exports=function(a,c){if(!b(a))return a;var d,e;if(c&&"function"==typeof(d=a.toString)&&!b(e=d.call(a))||"function"==typeof(d=a.valueOf)&&!b(e=d.call(a))||
!c&&"function"==typeof(d=a.toString)&&!b(e=d.call(a)))return e;throw TypeError("Can't convert object to primitive value");}},function(c,d,a){var b=a(3)(b||{},{a:{Wb:{}}});b.a.Wb=function(a){return{xc:function(b){var c=b||a;b=this.Zf(c);c=c&&c.location&&c.location.ancestorOrigins;return b===a.top?b.location.href:c&&1<c.length?c[c.length-1]:b.document&&b.document.referrer||b.location.href},Zf:function(b){for(b=b||a;b;)try{var c=b.parent;if(!c.document)break;b=c;if(c===c.parent)break}catch(e){break}return b},
si:function(b){b=b||a;try{return b.parent}catch(n){}return null}}}(window);d.vdb={a:{Wb:b.a.Wb}};d.default=b.a.Wb;d.__esModule=!0},function(c,d,a){var b=a(61),k=Math.min;c.exports=function(a){return 0<a?k(b(a),9007199254740991):0}},function(c,d,a){d=a(39);var b=a(24).document,k=d(b)&&d(b.createElement);c.exports=function(a){return k?b.createElement(a):{}}},function(c,d,a){d.__esModule=!0;var b=(c=a(341))&&c.__esModule?c:{default:c},k=(a=a(335))&&a.__esModule?a:{default:a};d.default=function(){return function(a,
c){if(Array.isArray(a))return a;if((0,b.default)(Object(a))){var e=[],f=!0,d=!1,g=void 0;try{for(var m=(0,k.default)(a),p;!(f=(p=m.next()).done)&&(e.push(p.value),!c||e.length!==c);f=!0);}catch(q){d=!0,g=q}finally{try{if(!f&&m["return"])m["return"]()}finally{if(d)throw g;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}()},function(c,d,a){var b=a(3)(b||{},{X:{Va:{}},f:{},c:{},U:{},log:{},a:{dd:{}}});b.f=a(9).vdb.f;b.c=a(5).vdb.c;b.U=a(42).vdb.U;b.log=a(4).vdb.log;
b.a.dd=a(126).vdb.a.dd;b.X.Va=b.f.Class.extend(function(){function a(a,c){var g=b.c.ay([this.j.Sp(),this.j.Ek(),this.j.Yw(),{apid:this.j.ee().utid}]);c=b.c.Dc(c);this.dk=this.dk||this.Qa.iq();return this.dk+"/"+a+"?"+g+(c?"&"+c:"")+"&cb="+Math.random()}function c(a){d.debug("PIXEL",a);if(this.so)if("string"!==typeof a||-1===a.indexOf("//"))d.debug("not sending pixel",a);else{0===a.indexOf("//")&&0!==window.location.protocol.indexOf("http")&&(a="https:"+a);a=a.replace("[APID]",this.j.ee().utid);var c=
b.U.createElement("img");c.src=a;e.add(function(){return!1});var g=e.next.bind(e),f=setTimeout(function(){g();c.onload=null;c.onerror=null},1E3),p=function(){clearTimeout(f);g()};c.onload=p;c.onerror=p;this.Zt.Rx(a)}else d.debug("tracking is disabled")}var d=b.log.B("PrimalTracker"),e;return{K:function(a,c,g){this.j=a;this.Zt=c;this.Qa=g;this.so=this.j.bx();e=b.X.Va.ry},ga:function(b,c){c=c||{};this.j.Aq()&&(c.itg="tbv");this.mo(a.call(this,b,c))},Nf:c,mo:function(a){this.so?c.call(this,a):d.debug("PIXEL (log only)",
a)}}}());b.X.Va.ry=new b.a.dd;d.vdb={X:{Va:b.X.Va}};d.default=b.X.Va;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{X:{jc:{},Va:{}},c:{},b:{i:{}},a:{ua:{}},U:{},log:{}});b.X.Va=a(96).vdb.X.Va;b.c=a(5).vdb.c;b.b.i=a(7).vdb.b.i;b.a.ua=a(87).vdb.a.ua;b.U=a(42).vdb.U;b.log=a(4).vdb.log;b.X.jc=b.X.Va.extend(function(){var a=b.b.i;return{K:function(b){this._super(b[a.O],b[a.te],b[a.Oa]);this.aa=b[a.La];this.dk=this.Qa.iq();this.Zb=b[a.Vb];this.Ud=b[a.Ib];this.Rj=b[a.Wc]},nb:function(a,b,c){for(var e in a)a.hasOwnProperty(e)&&
(c[e]=a[e]);for(e in b)b.hasOwnProperty(e)&&null!=b[e]&&(a=isNaN(b[e]),"number"===typeof b[e]&&a||(c[e]=b[e]));return c},Ui:function(a){return this.nb({"p.vw.active":+b.a.ua.Cc(),"p.vw.sound":Math.round(100*this.aa.getVolume()),vwa:this.Zb.sa()},{vwm:this.Ud.sa()},a)}}}(),[b.b.i.O,b.b.i.te,b.b.i.Oa,b.b.i.La,b.b.i.Vb,b.b.i.Ib,b.b.i.Wc]);(function(a){var c=b.log.B("PixelTracker");a.Nf=function(a){c.debug("PIXEL",a);b.U.createElement("img").src=a}})(b.X.jc);d.vdb={X:{jc:b.X.jc}};d.default=b.X.jc;d.__esModule=
!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(37);a=a(259);var e=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"Tracking"))}(0,n.default)(b,a);b.prototype.P=function(b){var c=a.prototype.P.call(this,b);c.type=b.getAttribute("event");c.offset=b.getAttribute("offset");return c};b.prototype.Pf=function(){return new e.default};
return b}(c.nh);d.default=new a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function l(){(0,b.default)(this,l);this.Eb=[];this.id=this.Tu="";this.Cb=null}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){for(this.target.innerHTML="";this[v].firstChild;)this.target.appendChild(this[v].firstChild);delete u[this.target.id]}function l(){r.debug("onClick");this.g.Me()}Object.defineProperty(d,
"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var e=b(c);c=a(1);var f=b(c);c=a(6);c=b(c);var h=a(54);h=b(h);var g=a(4);g=b(g);var m=a(156),p=b(m);m=a(22);var q=b(m);a=a(25);var t=b(a),r=g.default.B("ExternalMediaElement"),u={},y=(0,c.default)(),x=(0,c.default)(),v=(0,c.default)(),w=(0,c.default)(),z=(0,c.default)();a=function(a){function b(c){(0,n.default)(this,b);var g=(0,e.default)(this,a.call(this));g[x]=c;g.Bc="<span>Companion HTML</span>";return g}(0,f.default)(b,a);b.prototype.nq=function(a,
b){r.debug("initPeer","parentSelector",a);try{this[w]=this[x].document}catch(F){return}this.target=this.ce=b===p.default.Yr?this[w].getElementsByClassName(a)[0]:this[w].getElementById(a);if(!this.ce){var c=t.default.si(this[x]);if(c&&this[x]!==c){this[x]=c;this.nq(a,b);return}}(b=u[a])&&b();for(this[v]=this[w].createDocumentFragment();this.target&&this.target.firstChild;)this[v].appendChild(this.target.firstChild);null==this.ce&&r.error("Cannot find element with id",a)};b.prototype.stop=function(){r.debug("stop");
this[y]||(k.call(this),this.element.removeEventListener("click",this[z]));a.prototype.stop.call(this)};b.prototype.je=function(){r.debug("initElement");this.jg();this.zd();u[this.target.id]=k.bind(this);var a=document.createElement("iframe");(a.frameElement||a).style.cssText="width:100%; height: 100%; border: 0;";a.marginWidth="0";a.marginHeight="0";this.element.appendChild(a);a=a.contentWindow?a.contentWindow.document:a.contentDocument;a.open();a.write(this.Bc);a.close();this[z]=l.bind(this);a.body.addEventListener("click",
this[z].bind(this))};b.prototype.load=function(){r.debug("load");a.prototype.load.call(this);this.g.qd()};b.prototype.createElement=function(){r.debug("createDisplayObject");return this.ce};b.prototype.Ly=function(a){this[y]=a};b.prototype.zd=function(){this.track(q.default.jj)};return b}(h.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){if(this.J.xq&&this.J.xq()){var a=this.yf&&this.yf.getUrl()&&w.default.Nb("o2token",this.yf.getUrl())?"enabled":
"disabled";this.Rj.Hc("ad",null,"Player gets o2shim to play ad. Open API: "+a)}this.J.load()}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var n=b(c);c=a(1);var e=b(c);c=a(23);c=b(c);var f=a(286),h=b(f);f=a(27);var g=b(f);f=a(85);var m=b(f);f=a(12);var p=b(f);f=a(38);var q=b(f);f=a(84);var t=b(f);f=a(13);var r=b(f);f=a(4);f=b(f);var u=a(5),y=b(u);u=a(7);var x=b(u);u=a(22);var v=b(u);u=a(14);var w=b(u);a=a(51);var z=b(a),A=f.default.B("AdView");a=function(a){function b(c,
g,e,f,d,m,p){(0,l.default)(this,b);A.debug("create",{ad:e,creative:f,mediaContent:d});var k=(0,n.default)(this,a.call(this));k.Gf=c;k.D=g;k.ad=e;k.Ia=f;k.W=d;k.Jo=!0;k.Ea=m;k.Qt=new h.default(e,f,m);k.wa=k.Ea.rd();k.yf=k.Ea.ca();k.Pt=p;k.Te=y.default.createElement("div",{"class":"ad-icons-layer",style:"position: relative"});k.type="AdView";return k}(0,e.default)(b,a);b.prototype.fl=function(a){var b=this;(this.J=this.af())?(this.Rj=this.Ea.ha().F(x.default.Wc),this.Ea.addEventListener(t.default.rf,
this.J.resize.bind(this.J)),this.Ea.addEventListener(t.default.$m,function(a){b.J.invokeAdMethod(a.name,a.data)}),this.J.g=this,this.dispatchEvent(new r.default(q.default.Jr)),this.setVolume(a),k.call(this)):this.complete(!0)};b.prototype.noResize=function(){this.Jo=!1};b.prototype.qd=function(){this.resize();this.D.appendChild(this.J.element);this.D.appendChild(this.Te);this.J.je();this.Ni()};b.prototype.resize=function(a){if(this.Jo){var b=this.J.element.style;b.position="absolute";a?(b.top="0",
b.left="0",b.width="100%",b.height="100%"):(a=this.qk(this.D.offsetWidth,this.D.offsetHeight,this.mi(),this.ji(),this.li(),this.ki()),b.top=a.y+"px",b.left=a.x+"px",b.width=a.width+"px",b.height=a.height+"px")}};b.prototype.stop=function(){A.debug("stop",this.J);this.J?this.J.stop():this.complete(!0)};b.prototype.za=function(){A.debug("skip",this.J);this.J?this.J.za():this.complete(!0)};b.prototype.complete=function(a,b){A.debug("complete");this.Qt.N();this.J&&this.J.element.parentNode===this.D&&
this.D.removeChild(this.J.element);this.Te.parentNode===this.D&&this.D.removeChild(this.Te);var c=new r.default(q.default.Aa);b&&(c.data=b.data,c.currentTime=b.currentTime);c.force=a;this.dispatchEvent(c);this.J&&this.J.error?this.dispatchEvent(new r.default(q.default.dc)):a?this.dispatchEvent(new r.default(q.default.vg)):this.dispatchEvent(new r.default(q.default.fb))};b.prototype.Ni=function(){};b.prototype.Ne=function(a,b){A.debug("dispatchVastEvent",a,b);this.ad.dispatchEvent(new p.default(a,
this.Ia,null,b));a!==p.default.ta||this.bu||(this.bu=!0,this.Pt.Fd(z.default.LOADED,b.error,b.pd))};b.prototype.bi=function(a,b){A.debug("dispatchVastTrackerEvent",a,b);this.ad.dispatchEvent(new m.default(a,this.Ia,b))};b.prototype.Me=function(a,b,c){A.debug("dispatchClickThrough",a);var g=void 0;c||(g=this.fe())&&!b||!a||(g=a);this.ad.dispatchEvent(new p.default(p.default.Ka,this.Ia,g))};b.prototype.setVolume=function(a){this.J&&this.J.setVolume(a)};b.prototype.pause=function(){this.J&&this.J.pause()};
b.prototype.yi=function(){this.dispatchEvent(new r.default(q.default.Rb))};b.prototype.xl=function(){this.Pq();this.dispatchEvent(new r.default(q.default.Gb,void 0))};b.prototype.lg=function(a){this.dispatchEvent(new r.default(q.default.Oc,a))};b.prototype.zl=function(a){a.rp=this.ad.rp;this.dispatchEvent(new r.default(q.default.gb,a));this.bi(v.default.wn,a)};b.prototype.Mq=function(){this.dispatchEvent(new r.default(q.default.qe))};b.prototype.Pq=function(){this.Gf&&this.Gf.pause()};b.prototype.resume=
function(){this.J&&this.J.resume()};b.prototype.yl=function(){this.dr();this.dispatchEvent(new r.default(q.default.oe))};b.prototype.dr=function(){this.Gf&&this.Gf.resume()};b.prototype.aw=function(){return this.J?this.J.error:null};b.prototype.qk=function(a,b,c,g,e,f){void 0===e&&(e=!0);void 0===f&&(f=!0);var d=a,m=b;e?f&&(d/m<c/g?m=g*d/c:d=c*m/g):(d=c,m=g);return{height:m,width:d,x:(a-d)/2,y:(b-m)/2}};b.prototype.mi=function(){return-1};b.prototype.ji=function(){return-1};b.prototype.li=function(){return!0};
b.prototype.ki=function(){return!0};b.prototype.eg=function(){this.ad.dispatchEvent(new p.default(g.default.LINEAR_CHANGE,this.Ia))};b.prototype.af=function(){};b.prototype.ca=function(){};b.prototype.fe=function(){};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);var e=a(57),f=b(e);e=a(4);e=b(e);var h=a(153);h=b(h);var g=a(291),
m=b(g);g=a(290);var p=b(g);g=a(289);var q=b(g);g=a(56);var t=b(g);g=a(192);var r=b(g);a=a(223);var u=b(a),y=e.default.B("VastEngineProducer"),x=(0,c.default)(),v=(0,c.default)();a=function(a){function b(c,g,e){(0,k.default)(this,b);g=(0,l.default)(this,a.call(this,c,g,e));g[x]=new u.default(c);g[v]=new r.default(c);return g}(0,n.default)(b,a);b.prototype.xk=function(a){y.debug("createAdEngine",a);var b=this.Dk(),c=this.Pp(),g=this.Wf(),e=c.$h,f=a.Wk();f=new (this.aq(a))({ad:f?f:a.ek||a,l:b,Qv:this[x],
Qx:c.Ac,jz:this[v]});return new q.default(b,c,a,f,this[x],g,e)};b.prototype.aq=function(a){return a.Wk()?p.default:a.ek?m.default:t.default};b.prototype.getType=function(){return f.default.Nn};return b}(h.default);d.default=a},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gm="AD_LOAD_COMPLETE";d.Ym="AD_LOAD_INTERRUPTED";d.ne="AD_ISSUE"},function(c,d,a){var b=a(3)(b||{},{o:{Xc:{}},f:{}});b.f=a(9).vdb.f;b.o.Xc=b.f.Class.extend(function(){function a(a){a.Yb=this}function b(a){a.Yb=
null;a.N()}function c(a){for(var b=0,c=this.uh.length;b<c;b++)a.call(this,this.uh[b])}return{K:function(){this.uh=Array.prototype.slice.call(arguments,0)},Xx:function(a){var b=this;c.call(a,function(a){b.zb(a)})},N:function(){c.call(this,b)},vv:function(){c.call(this,a)},zb:function(a){-1===this.uh.indexOf(a)&&this.uh.push(a)},vB:function(){var a,b=Array.prototype.slice.call(arguments,0);for(a=0;a<b.length;a++)this.zb(b[a])}}}());d.vdb={o:{Xc:b.o.Xc}};d.default=b.o.Xc;d.__esModule=!0},function(c,
d,a){d.__esModule=!0;c=(c=a(323))&&c.__esModule?c:{default:c};var b=(a=a(6))&&a.__esModule?a:{default:a},k="function"===typeof b.default&&"symbol"===typeof c.default?function(a){return typeof a}:function(a){return a&&"function"===typeof b.default&&a.constructor===b.default&&a!==b.default.prototype?"symbol":typeof a};d.default="function"===typeof b.default&&"symbol"===k(c.default)?function(a){return"undefined"===typeof a?"undefined":k(a)}:function(a){return a&&"function"===typeof b.default&&a.constructor===
b.default&&a!==b.default.prototype?"symbol":"undefined"===typeof a?"undefined":k(a)}},function(c,d,a){var b=a(24),k=a(15),l=a(50),n=a(107),e=a(32).S;c.exports=function(a){var c=k.Symbol||(k.Symbol=l?{}:b.Symbol||{});"_"==a.charAt(0)||a in c||e(c,a,{value:n.S(a)})}},function(c,d,a){d.S=a(17)},function(c,d,a){a(339);c=a(24);d=a(34);var b=a(40);a=a(17)("toStringTag");for(var k="CSSRuleList CSSStyleDeclaration CSSValueList ClientRectList DOMRectList DOMStringList DOMTokenList DataTransferItemList FileList HTMLAllCollection HTMLCollection HTMLFormElement HTMLSelectElement MediaList MimeTypeArray NamedNodeMap NodeList PaintRequestList Plugin PluginArray SVGLengthList SVGNumberList SVGPathSegList SVGPointList SVGStringList SVGTransformList SourceBufferList StyleSheetList TextTrackCueList TextTrackList TouchList".split(" "),
l=0;l<k.length;l++){var n=k[l],e=c[n];(e=e&&e.prototype)&&!e[a]&&d(e,a,n);b[n]=b.Array}},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={xm:"RM.APIFunctionIsMissing",Pm:"RM.getVpaidAdIsMissing",ln:"RM.noCreative",ao:"RM.VPAIDUrlUnavailable"}},function(c,d,a){var b=a(3)(b||{},{b:{Hg:{}}});b.b.Hg={Cr:"ADSET_BASED",Hm:"CONTENT_BASED",ds:"CONTENT_BASED_WITH_PODS",$s:"PREBID_JS"};d.vdb={b:{Hg:b.b.Hg}};d.default=b.b.Hg;d.__esModule=!0},function(c,d,a){var b=a(112),k=a(17)("iterator"),
l=a(40);c.exports=a(15).lC=function(a){if(void 0!=a)return a[k]||a["@@iterator"]||l[b(a)]}},function(c,d,a){var b=a(69),k=a(17)("toStringTag"),l="Arguments"==b(function(){return arguments}());c.exports=function(a){var c;if(void 0===a)var f="Undefined";else{if(null===a)var d="Null";else{a:{var g=a=Object(a);try{d=g[k];break a}catch(m){}d=void 0}d="string"==typeof(f=d)?f:l?b(a):"Object"==(c=b(a))&&"function"==typeof a.callee?"Arguments":c}f=d}return f}},function(c,d,a){var b=a(30),k=a(36),l=a(184)(!1),
n=a(60)("IE_PROTO");c.exports=function(a,c){a=k(a);var e=0,g=[],f;for(f in a)f!=n&&b(a,f)&&g.push(f);for(;c.length>e;)b(a,f=c[e++])&&(~l(g,f)||g.push(f));return g}},function(c,d,a){c.exports=a(34)},function(c,d,a){c.exports=!a(33)&&!a(46)(function(){return 7!=Object.defineProperty(a(94)("div"),"a",{get:function(){return 7}}).Je})},function(c,d,a){function b(){return this}var k=a(50),l=a(35),n=a(114),e=a(34),f=a(40),h=a(186),g=a(65),m=a(181),p=a(17)("iterator"),q=!([].keys&&"next"in[].keys());c.exports=
function(a,c,d,y,x,v,w){function t(a){return!q&&a in C?C[a]:function(){return new d(this,a)}}h(d,c,y);y=c+" Iterator";var r="values"==x,u=!1,C=a.prototype,E=C[p]||C["@@iterator"]||x&&C[x],D=E||t(x),F=x?r?t("entries"):D:void 0,K="Array"==c?C.entries||E:E,L;K&&(a=m(K.call(new a)),a!==Object.prototype&&a.next&&(g(a,y,!0),k||"function"==typeof a[p]||e(a,p,b)));r&&E&&"values"!==E.name&&(u=!0,D=function(){return E.call(this)});k&&!w||!q&&!u&&C[p]||e(C,p,D);f[c]=D;f[y]=b;if(x){var N={values:r?D:t("values"),
keys:v?D:t("keys"),entries:F};if(w)for(L in N)L in C||n(C,L,N[L]);else l(l.nn+l.hc*(q||u),c,N)}return N}},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.Op=function(a,b,c){return c?b+"dev/ad-client/js/"+c+"/":a+"ad-client/js/2.13.0/"}},function(c,d,a){var b=a(3)(b||{},{a:{Yg:{}}});b.a.Yg=function(){function a(){this.gu="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=window.crypto||window.msCrypto;b=window.Uint16Array&&b&&b.getRandomValues?b.getRandomValues(new Uint16Array(1))[0]%
16:16*(Math.random()||0)%16;return("x"===a?b:b&3|8).toString(16)})}a.prototype.toString=function(){return this.gu};return a}();d.vdb={a:{Yg:b.a.Yg}};d.default=b.a.Yg;d.__esModule=!0},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c},k=(a=a(5))&&a.__esModule?a:{default:a};a=function(){function a(c,e){(0,b.default)(this,a);this.type=c;this.data=e}a.prototype.clone=function(){return new a(this.type,this.data)};a.prototype.toString=function(){return"Event {type='"+
this.type+"', data="+k.default.Ve(this.data)};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{a:{Uc:{}},log:{},f:{}});b.log=a(4).vdb.log;b.f=a(9).vdb.f;b.a.Uc=function(){var a,c=b.f.Class.extend(function(){return{K:function(){var a=0===b.log.Sb.$p();this.Hx=this.Gx=a;this.Rq=[];this.xy=[]},Rx:function(a){this.Gx&&this.Rq.push({url:a,ts:+new Date})},Sx:function(a){this.Hx&&this.xy.push({url:a,ts:+new Date})}}}());return{Pk:function(){a||(a=new c);return a}}}();d.vdb={a:{Uc:b.a.Uc}};d.default=
b.a.Uc;d.__esModule=!0},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={Dr:"AdClickThru",fm:"AdDurationChange",dc:"AdError",jm:"AdExpandedChange",wg:"AdImpression",Fb:"AdInteraction",Mc:"AdLinearChange",fc:"AdLoaded",Ir:"AdLog",Gb:"AdPaused",Zi:"AdPlaying",mm:"AdRemainingTimeChange",pm:"AdSizeChange",Nc:"AdSkippableStateChange",hf:"AdSkipped",ja:"AdStarted",tm:"AdStopped",Lr:"AdUserAcceptInvitation",Mr:"AdUserClose",Nr:"AdUserMinimize",xg:"AdVideoComplete",yg:"AdVideoFirstQuartile",
zg:"AdVideoMidpoint",Ag:"AdVideoStart",Bg:"AdVideoThirdQuartile",Cg:"AdVolumeChange"}},function(c,d,a){var b=a(3)(b||{},{localStorage:{}});b.localStorage={setItem:function(a,b){try{window.localStorage&&window.localStorage.setItem(a,b)}catch(n){}},getItem:function(a){var b;try{window.localStorage&&(b=window.localStorage.getItem(a))}catch(n){}return b},removeItem:function(a){try{window.localStorage&&window.localStorage.removeItem(a)}catch(l){}}};d.vdb={localStorage:b.localStorage};d.default=b.localStorage;
d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{a:{C:{yb:{}}}});b=c(a(29).vdb,b||{});(function(){var a={xr:"aboveVisibleArea",Sr:"belowVisibleArea",Ks:"leftToVisibleArea",jt:"rightToVisibleArea",Kd:"inVisibleArea",Jd:"hidden",vb:"NA"},c={zr:1,oj:0},d={vb:-1,mn:0,Hs:1},e={fd:1,jn:2,Nm:3},f={pj:1,hh:0,vb:-1},h={zA:a,Uz:c,Zz:d,Es:e,xe:f,En:{nj:1,Cs:function(){return this.nj++},URL:"//redir.adap.tv/redir/client/VPixel.swf"},Sq:[],sg:{},HC:{},Aw:function(a){for(var b=a,c=0,g=0,e=0;b&&!isNaN(b.offsetLeft)&&
!isNaN(b.offsetTop);)window.getComputedStyle&&(e=window.getComputedStyle(b,null)),c+=b.offsetLeft-b.scrollLeft+(e?parseInt(e.getPropertyValue("border-left-width"),10):0),g+=b.offsetTop-b.scrollTop+(e?parseInt(e.getPropertyValue("border-top-width"),10):0),b=b.offsetParent;a.kB=c;a.lB=g;return{x:c,y:g}},Oe:function(a,b){var c=document.defaultView||document.parentWindow;try{c=a.ownerDocument.defaultView||a.ownerDocument.parentWindow}catch(q){}return a.currentStyle?a.currentStyle[b]:c&&c.getComputedStyle&&
c.getComputedStyle(a,"")?c.getComputedStyle(a,"")[b]:a.style?a.style[b]:""},sd:function(a){var b={H:0,G:0,width:0,height:0};a&&(b.width=a.offsetWidth,b.height=a.offsetHeight,a.getBoundingClientRect?(a=a.getBoundingClientRect(),b.H=Math.round(a.left),b.G=Math.round(a.top)):(a=this.Aw(a),b.H=a.x,b.G=a.y));return b},Cd:function(a,b){var c=0,g=a.length+a.offset,e=b.length+b.offset;if(g<b.offset||a.offset>e)return{length:0,offset:-Infinity};a.offset>=b.offset&&g<=e?c=a.length:a.offset<=b.offset&&g>=e?
c=b.length:a.offset<=b.offset?c=Math.abs(g-b.offset):a.offset>b.offset&&(c=Math.abs(e-a.offset));return{length:c,offset:Math.max(a.offset,b.offset)}},hl:function(a,b){var c=this.sk(a);b=b||this.Ue(a);if(b===e.fd)return!0;if(b===e.jn)return this.sk(a);try{var g=a.ownerDocument.defaultView||a.ownerDocument.parentWindow}catch(r){}try{var f=this.Vp(g)}catch(r){return!0}for(a=0;a<f.length&&!c;a++)c=f[a],c=this.sk(c);return c},sk:function(a){function b(a){return a&&"string"===typeof a.id&&-1<a.id.indexOf("player_googima")}
function c(a){var c,g;if(b(a))return!0;a=this.Tk(a);for(g=0;g<a.length;++g)if((c=a[g])&&b(c.node))return!0;return!1}var g=!1,e=a;for(a=!this.Oe(a,"visibility")&&!c.call(this,a);e&&!g&&(g="hidden"===this.Oe(e,"visibility")||"none"===this.Oe(e,"display")||this.wx(e),c.call(this,e)&&(g=!1),g=a||g,e!==e.ownerDocument.body);)e=e.parentNode;return g},Tk:function(a){var b=a.parentNode,c=[];try{for(;b&&b!==b.ownerDocument.body;)1===b.nodeType&&(c.push(this.Mi(b)),b=b.parentNode)}catch(q){}0===c.length?b=
a:(b=c[0],a=c[0]);for(;b;)b=b.nextSibling,null!=b&&1===b.nodeType&&c.push(this.Mi(b));for(;a;)a=a.previousSibling,null!=a&&1===a.nodeType&&c.push(this.Mi(a));return c},az:function(a,b,c){var g=null,e,f=this.Cd({offset:a.H,length:a.width},{offset:b.H,length:b.width}),d=this.Cd({offset:a.G,length:a.height},{offset:b.G,length:b.height});if(0<f&&0<d){var m=[{x:f.offset,y:d.offset},{x:f.offset+f.length,y:d.offset},{x:f.offset,y:d.offset+d.length},{x:f.offset+f.length,y:d.offset+d.length},{x:f.offset+Math.floor(f.length/
2),y:d.offset+Math.floor(d.length/2)}];for(e=0;5>e;e++){var h={x:Math.random()*f.length+f.offset,y:Math.random()*d.length+d.offset};m.push(h)}for(e=0;e<m.length;e++)if(h=this.Cp(m[e].x,m[e].y,c),h===a.node||h===b.node){g=h;break}}return g},Cp:function(a,b,c){c=c||window;return c.document.elementFromPoint(a,b)},ox:function(a,b,c,e){var g=!0,f=this.sd(b),d=this.Cd({offset:a.H,length:a.width},{offset:f.H+c.H,length:f.width}),m=this.Cd({offset:a.G,length:a.height},{offset:f.G+c.G,length:f.height}),h=
d.length*m.length/(f.width*f.height);if(0===h)return{wk:!1};var p=this.Cp(Math.floor(d.length/2)+d.offset,Math.floor(m.length/2)+m.offset,e);null===p?g=!0:p===b||"ADAPTV_HTML5_IFRAME"===p.id||"IFRAME"===p.nodeName?g=!1:p!==a.node&&(a.H+a.width)*(a.G+a.height)===(f.H+c.H+f.width)*(f.G+c.G+f.height)&&(g=!1);this.az({node:a.node,H:a.H,G:a.G,width:a.width,height:a.height},{node:b,H:f.H+c.H,G:f.G+c.G,width:f.width,height:f.height},e)===b&&(g=!1);return{wk:g,Qq:h,width:d.length,height:m.length,H:d.offset,
G:m.offset}},lp:function(a,b,c,e){var g;for(g=0;g<a.length;g++)if(1===a[g].node.nodeType&&this.mp(a[g],b,c,[],a,e))return!0;return!1},mp:function(a,b,c,e,f,d){var g=!1,m=a.node;a=this.ox(a,b,c,d);if(a.wk&&.5<=a.Qq)return!0;if(a.wk&&.5>a.Qq)a.node=m,e.push(a);else if(m&&m.children&&1<=m.children.length)for(a=m.children,m=0;m<a.length;m++)if(1===a[m].nodeType){var h=this.Mi(a[m]);g=g||this.mp(h,b,c,e,f,d)}return g||this.$x(e,b,c)},Mi:function(a){var b=this.sd(a);b.node=a;return b},$x:function(a,b,c){var g=
0,e=0;this.sd(b);this.Xl(a);var f;if(2>a.length)return!1;b=this.sd(b);var d=this.Xl(a);for(f=0;f<a.length;f++)g+=a[f].width*a[f].height;for(f=0;f<d.length;f++){var h=this.Cd({offset:d[f].di.H,length:d[f].di.width},{offset:d[f].ei.H,length:d[f].ei.width});a=this.Cd({offset:d[f].di.G,length:d[f].di.height},{offset:d[f].ei.G,length:d[f].ei.height});h=this.Cd({offset:h.offset,length:h.length},{offset:b.H+c.H,length:b.width});a=this.Cd({offset:a.offset,length:a.length},{offset:b.G+c.G,length:b.height});
e+=h.length*a.length}return.5<=(g-e)/(b.width*b.height)},Xl:function(a,b){var c;b=b||[];for(c=1;2<=a.length&&c<a.length;c++)a[0].node!==a[c].node&&b.push({di:a[0],ei:a[c]});return 2>=a.length?b:this.Xl(a.slice(1),b)},VC:function(a){var b,c={H:0,G:0};try{var g=this.Vp()}catch(x){g=[]}var e=this.Tk(a),f=window,d=this.lp(e,a,c,f);for(b=0;b<g.length&&!d;b++){f=f.parent;var h=this.sd(g[b]);c.H+=h.H;c.G+=h.G;for(h=0;h<e.length;h++)e[h].H+=c.H,e[h].G+=c.G;h=this.Tk(g[b]);e=e.concat(h);d=d||this.lp(e,a,c,
f)}return d},wx:function(a){var b=a.parentNode;return!b||"BODY"===a.tagName||"visible"===this.Oe(b,"overflow")&&"visible"===this.Oe(b,"overflow-x")&&"visible"===this.Oe(b,"overflow-y")||!(0>a.offsetLeft||0>a.offsetTop)&&1<b.offsetWidth&&1<b.offsetHeight?!1:!0},Vp:function(a){var b=[];for(a=a||window;a!==window.top;)b.push(a.frameElement),a=a.parent;return b},Ue:function(a){a=a||document.body;try{return window.top.location.href?a.ownerDocument.defaultView.frameElement?e.Nm:e.jn:e.fd}catch(m){return e.fd}},
lq:function(a){var b=a.document,c=b.compatMode&&"BackCompat"!==b.compatMode?b.documentElement:b.body,g={width:0,height:0,H:0,G:0};"undefined"!==typeof a.innerWidth?(g.width=a.innerWidth,g.height=a.innerHeight):a.document.documentElement&&(a.document.documentElement.clientWidth||a.document.documentElement.clientHeight)?(g.width=a.document.documentElement.clientWidth,g.height=a.document.documentElement.clientHeight):document.body.offsetWidth&&document.body.offsetHeight&&(g.width=a.document.body.offsetWidth,
g.height=a.document.body.offsetHeight);g.H=b.all?c.scrollLeft:a.pageXOffset;g.G=b.all?c.scrollTop:a.pageYOffset;return g},oi:function(b,c){return 0<c.width&&0<c.height&&0<b.width&&0<b.height?b.G+b.height<=c.G?a.xr:b.G>=c.height+c.G?a.Sr:b.H+b.width<=c.H?a.Ks:b.H>=c.width+c.H?a.jt:a.Kd:a.Jd},Xk:function(a,b){var c={H:0,G:0,width:0,height:0},g=b.H-a.H;c.H=Math.max(g,0);c.width=Math.max(0,Math.min(Math.min(b.width,a.width),Math.min(b.width+g,a.width-g)));g=b.G-a.G;c.G=Math.max(g,0);c.height=Math.max(0,
Math.min(Math.min(b.height,a.height),Math.min(b.height+g,a.height-g)));return c},Dw:function(a,b){a=Math.min(b.width-a.H,a.width+a.H)/a.width*100;a=Math.round(100*Math.min(Math.max(0,a),100))/100;return a=Math.round(a)},cx:function(a,b){a=Math.min(b.height-a.G,a.height+a.G)/a.height*100;a=Math.round(100*Math.min(Math.max(0,a),100))/100;return a=Math.round(a)},cq:function(b,c,f){var g=h.Ue(b),d=0,m=0,p=a.vb;g!==e.fd&&(this.hl(b,g)?p=a.Jd:(b={H:0,G:0,width:f.width,height:f.height},p=this.oi(c,b),p===
a.Kd&&(d=this.Dw(c,b),m=this.cx(c,b)),d&&m||(d=0)));return{position:p,Bb:d,rb:d}},Sw:function(b,c,f,d){var g={position:a.vb,Bb:0,rb:0},m=h.Ue(b);if(m===e.fd)return g;this.hl(b,m)&&(g.position=a.Jd);if(g.position!==a.Jd&&(b=f[f.length-1],m={H:0,G:0,width:d.width,height:d.height},d=this.oi(b,m),g.position=d,d===a.Kd)){b=this.Xk(b,m);for(m=f.length-1;0<m;){d=this.oi(f[m-1],b);if(d===a.Kd)b=this.Xk(f[m-1],b);else break;m--}d===a.Kd?this.oi(c,b)===a.Kd?(b=this.Xk(c,b),f=b.width/c.width*100,f=Math.round(100*
f)/100,f=Math.round(f),g.Bb=f,f=b.height/c.height*100,f=Math.round(100*f)/100,f=Math.round(f),g.rb=f):g.position=a.Jd:g.position=a.Jd}return g},Qp:function(b){var c=window,g={hostname:window.location.hostname,ag:!1,eb:{ky:"",$y:"",H:0,G:0,width:0,height:0,wp:!1,We:0},Ic:{width:0,height:0,H:0,G:0},M:{H:0,G:0,width:0,height:0,position:a.vb,Bb:0,rb:0},Za:"NA"},f=this.sd(b);g.M.H=f.H;g.M.G=f.G;g.M.width=f.width;g.M.height=f.height;f=h.Ue(b);if(f===e.fd)return g.ag=!0,g.eb.wp=!0,g.eb.We=-1,g.M.Bb=100,
g.M.rb=100,g;f===e.Nm&&(g.ag=!0,g.eb.$y=window.top.location.href);this.hl(b,f)&&(g.M.position=a.Jd);try{c=b.ownerDocument.defaultView||c}catch(u){}g.Ic=this.lq(c);f=this.cq(b,g.M,g.Ic);if(f.position!==a.Kd)return g.M.position=f.position,g.M.Bb=f.Bb,g.M.rb=f.rb,g.M.width=g.M.width<g.Ic.width?g.M.width:g.Ic.width,g.M.height=g.M.height<g.Ic.height?g.M.height:g.Ic.height,g;try{if(g.ag){window.parent&&window.parent.location&&(g.eb.ky=window.parent.location.href);g.Ic=this.lq(window.top);for(var d=[];c!==
window.top;){var k=this.sd(c.frameElement);0===g.eb.We&&(g.eb.width=k.width,g.eb.height=k.height);g.eb.H=k.H;g.eb.G=k.G;d[g.eb.We]=k;g.eb.We+=1;c=c.parent}f=this.Sw(b,g.M,d,g.Ic);g.M.position=f.position;g.M.Bb=f.Bb;g.M.rb=f.rb}}catch(u){g.eb.We=-1}g.ag||(f=this.cq(b,g.M,g.Ic),g.M.position=f.position,g.M.Bb=f.Bb,g.M.rb=f.rb);return g},Tw:function(a,b){var c=null;if(this.sg[a]&&this.sg[a][a]&&this.sg[a].parentNode)return this.sg[a];if(b&&document[b]&&document[b][a])c=document[b];else if(b&&window[b]&&
window[b][a])c=window[b];else{var g=document.getElementsByTagName("object"),e=document.getElementsByTagName("embed"),f=[],d;b=0;for(d=g.length;b<d;f.push(g[b++]));g=[];b=0;for(d=e.length;b<d;g.push(e[b++]));e=f.concat(g);for(b=0;b<e.length;b++)try{if(e[b][a]()){c=e[b];break}}catch(y){}}c&&(this.sg[a]=c);return c},Pw:function(a){if(!a)return{width:0,height:0};for(var b=a.offsetWidth,c=a.offsetHeight;a&&"BODY"!==a.tagName;)b=Math.min(a.offsetWidth,b),c=Math.min(a.offsetHeight,c),a=a.parentNode;return{width:b,
height:c}},px:function(a){return null!==a&&"object"===typeof a&&1===a.nodeType},Xv:function(){if("undefined"!==typeof navigator.plugins&&"object"===typeof navigator.plugins["Shockwave Flash"]&&"undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0;if("undefined"!==typeof window.ActiveXObject)try{return new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(g){}return!1},
Zp:function(a,b,c,e){var g,f=h.Sq,d=!this.Xv(),m="7221 7658 7257 7386 7480 7716 7597 7865".split(" "),k=["mindjoltinc","cinesport"],l=!1;a=this.px(a)?a:this.Tw(b,a);for(g=0;g<m.length;g++)if(m[g]===e){l=!0;break}for(g=0;g<k.length;g++)if(k[g]===e){l=!0;break}if(l||d){e=h.jq(a);e.Qb=e.hi;e.kz=e.hi;if(c)a[c](e);if(d)return e}for(g=0;g<f.length;++g)if(f[g].id===b){var p=f[g];break}p||(p=new h.zj(b,a),f.push(p));return p.Zp(c)},wD:function(a){var b=h.Sq,c;for(c=0;c<b.length;c++)if(b[c].id===a){b[c].dispose();
b.splice(c,1);break}},jq:function(b){var g={active:c.oj,Iv:"",hi:f.vb,hasFocus:d.vb};if(b){var e=h.Qp(b);g.lD=e.M.width;g.kD=e.M.height;g.Iv=b.id;if(e.M.position!==a.vb){b=e.M.width*e.M.Bb/100;var k=e.M.height*e.M.rb/100;g.hi=0===b||0===k?f.hh:.5<=b*k/(e.M.width*e.M.height)?f.pj:f.hh}else e.ag&&(g.Nv="inIframe"),e.eb.wp&&(g.Nv="iframeCrossDomain");e=!1;if(!document.hasFocus||!document.hasFocus())if(b=["webkit","moz","ms","o"],document.visibilityState)e="visible"!==document.visibilityState;else for(k=
0;k<b.length;k++)if(document[b[k]+"VisibilityState"]){e="visible"!==document[b[k]+"VisibilityState"];break}g.active=e?c.oj:c.zr;g.hasFocus=h.zx()}return g},zx:function(){return!0===document.hidden?d.mn:h.Ue()===e.fd?d.vb:window.top.document.hasFocus?window.top.document.hasFocus()?d.Hs:d.mn:d.vb},bj:function(a){var b=h.sd(this.ud),c=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,g=void 0!==window.pageYOffset?window.pageYOffset:
(document.documentElement||document.body.parentNode||document.body).scrollTop,e=h.Pw(a);this.Ze=1;this.Zx=3;this.ud=a;this.top=b.G+g;this.left=b.H+c;this.width=b.width;this.height=b.height;this.minWidth=e.width;this.minHeight=e.height;this.vr=this.minWidth/(this.Ze+1);this.wr=this.minHeight/(this.Ze+1)}};h.bj.prototype={constructor:h.bj,ww:function(){return window.kk&&window.kk.ux?[]:[{x:-1E4,y:-1E4}]},ax:function(){var a=[],b=this.left,c;for(c=0;c<this.Ze;c++)b+=this.vr,a.push({x:b,y:this.top});
return a},Zw:function(){var a=[],b=this.top,c;for(c=0;c<this.Ze;c++)b+=this.wr,a.push({x:this.left+this.minWidth-1,y:b});return a},pw:function(){var a=[],b=this.left,c;for(c=0;c<this.Ze;c++)b+=this.vr,a.push({x:b,y:this.top+this.minHeight-1});return a},Kw:function(){var a=[],b=this.top,c;for(c=0;c<this.Ze;c++)b+=this.wr,a.push({x:this.left,y:b});return a},mw:function(){return[this.ww(),this.ax(),this.Zw(),this.pw(),this.Kw()]},Rp:function(){var a=this.mw();return[].concat.apply([],a)}};h.zj=function(a,
b){this.id=a;this.Sa=new h.bj(b);this.Ql=!1;this.Qb=-1;this.Pb=[];this.timeout=void 0;this.rr=1800;this.ae=""};h.zj.prototype={constructor:h.zj,Zp:function(a){var b=this;if(!this.Ql){this.ae=a;for(a=0;a<this.Sa.Rp().length;a++){var c=new h.Cj;c.gl(this,this.Uy);this.Pb.push(c)}setTimeout(function(){b.wy()},1);this.timeout=setTimeout(function(){clearTimeout(b.timeout);if(!b.nk()&&b.jp()&&b.Sa)b.Sa.ud[b.ae](b.Rk())},this.rr);this.Ql=!0;return null}if(a)this.Sa.ud[a](this.Rk())},wy:function(){var a;
if(this.Sa){var b=this.Sa.Rp();for(a=0;a<b.length;a++){var c=b[a];var e=this.Pb[a];e.vy(c.x,c.y)}}},Uy:function(){if(this.nk()&&(clearTimeout(this.timeout),this.jp())){var a=this.Rk();this.Sa.ud[this.ae](a)}},Rk:function(){var a=h.jq(this.Sa.ud),b=0,e;if(this.nk()){for(e=0;e<this.Pb.length;e++){var d=this.Pb[e];b+=d.Qb}this.Vf=b>=this.Sa.Zx?f.pj:f.hh}else this.Vf=f.vb;a.Vf=this.Vf;a.Qb=this.Vf===f.vb?a.hi:this.Vf;a.active===c.oj&&a.Qb===f.pj&&(a.Qb=f.hh);a.kz=a.Qb;return a},nk:function(){var a=0,
b;if(this.Sa&&window.kk&&!window.kk.ux&&0!==this.Pb[0].Qb)return!1;for(b=0;b<this.Pb.length;b++)-1<this.Pb[b].Qb&&a++;return a===this.Pb.length},jp:function(){return this.ae&&this.Sa&&this.Sa.ud&&this.Sa.ud[this.ae]&&"function"===typeof this.Sa.ud[this.ae]},dispose:function(){var a=this.Pb.length,b;for(b=0;b<a;b++)this.Pb[b].Le();this.Sa=null;this.Ql=!1;this.Qb=-1;this.Pb=[];this.timeout=0;this.rr=1800;this.id=this.ae=""}};h.Cj=function(){var a=this;this.Qb=-1;this.id=h.En.Cs();this.nl="__adaptv__spotnotify__"+
this.id.toString();this.interval=0;this.El=this.Of=this.Qi=null;window[this.nl]=function(b,c,e){a.Qb=e;a.Of&&(a.Of.apply(a.El),a.Of=null)}};h.Cj.prototype={constructor:h.Cj,gl:function(a,b){var c="adaptvSpotDiv_"+this.id,e="adaptvVWSpot_"+this.id;if(!document.getElementById(c)){var g=['<object width="1px" height="1px" id="{spotId}" name="{spotId}" align="center" style="height: 1px !important; width: 1px !important;"><param name="movie" value="','" /><param name="bgcolor" value="#000000"/><param name="allowScriptAccess" value="always" /><param name="FlashVars" value="autoStart=true&callback={callback}"/><embed src="',
'" width="1px" height="1px" id="{spotId}" name="{spotId}" align="center" bgcolor="#000000" allowScriptAccess="always" FlashVars="autoStart=true&callback={callback}" type="application/x-shockwave-flash"/></object>'].join(h.En.URL);g=g.split("{spotId}").join(e);g=g.split("{callback}").join(this.nl);e=document.body||document.getElementsByTagName("body")[0]||document.documentElement;var f=document.createElement("div");f.id=c;f.style.height="1px";f.style.width="1px";f.style.position="absolute";f.innerHTML=
g;e.appendChild(f);this.Qi=f;this.El=a;this.Of=b}},vy:function(a,b){this.Qi.style.left=a+"px";this.Qi.style.top=b+"px"},Le:function(){var a=document.body||document.getElementsByTagName("body")[0]||document.documentElement,b=document.getElementById("adaptvSpotDiv_"+this.id);b&&a.removeChild(b);this.El=this.Of=this.Qi=null;delete window[this.nl]}};b.a.C.yb=h})();d.vdb={a:{C:{yb:b.a.C.yb}}};d.default=b.a.C.yb;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{C:{Md:{},pa:{},yb:{}},qb:{}},b:{i:{}},
T:{}});b.a.C.pa=a(72).vdb.a.C.pa;b.a.C.yb=a(123).vdb.a.C.yb;b.b.i=a(7).vdb.b.i;b.a.qb=a(159).vdb.a.qb;b.T=a(16).vdb.T;b.a.C.Md=b.a.C.pa.extend(function(){function a(){this.Be.resolve();this.Ch&&(b.a.qb.clearTimeout(this.Ch),delete this.Ch)}function c(b){b=b[0].intersectionRatio;isNaN(b)||(this.Ch&&a.call(this),this.Ph=Math.round(100*b),this.iu||(this.iu=!0))}var d=b.b.i;return{K:function(e){this.Ph=-1;var f=b.a.C.yb,h=f.Ue(e[d.hd]);this.Be=new b.T;if("undefined"===typeof window.IntersectionObserver||
h!==f.Es.fd)this.Be.resolve();else{this._super(e);this.Ch=b.a.qb.setTimeout(a.bind(this),100);e=window.IntersectionObserver;f=c.bind(this);h=[];for(var g=0;100>g;g+=5)h.push(g/100);h.push(1);this.Ih=new e(f,{root:null,threshold:h});this.Ih.observe(this.ib)}},Ec:function(a){this.Ph=-1;this.Ih&&(this.Ih.unobserve(this.ib),this.ib=a,this.Ih.observe(this.ib))},Cc:function(){return 0<this.Ph},sa:function(){return this.Ph},Nk:function(){var a=this;return this.Be.xa().then(function(){return a})}}}(),[b.b.i.hd]);
d.vdb={a:{C:{Md:b.a.C.Md}}};d.default=b.a.C.Md;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(95);var k=b(c);c=a(0);var l=b(c);c=a(6);c=b(c);a=a(58);var n=b(a),e=(0,c.default)(),f=(0,c.default)();a=function(){function a(b){(0,l.default)(this,a);this[f]=b||new n.default;this[e]=[]}a.prototype.addEventListener=function(a,b,c){c=c?b.bind(c):b;this[e].push([a,b,c]);this[f].addEventListener(a,c)};a.prototype.removeEventListener=
function(a,b){for(var c=this[e],g=0;g<c.length;++g){var d=(0,k.default)(c[g],3),h=d[1],m=d[2];d[0]===a&&(h!==b&&b||this[f].removeEventListener(a,m))}};a.prototype.Ki=function(){for(var a=this[e],b=0;b<a.length;++b){var c=(0,k.default)(a[b],3);this[f].removeEventListener(c[0],c[2])}};a.prototype.dispatchEvent=function(a,b){this[f].dispatchEvent(a,b)};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{a:{dd:{}},f:{},Promise:{}});b.f=a(9).vdb.f;b.Promise=a(21).vdb.Promise;b.a.dd=b.f.Class.extend(function(){function a(){this.kb=
!1;if(this.Lo=this.Fe.shift())this.kb=!0,this.Lo();else{for(var a=0;a<this.yh.length;a++)this.yh[a]();this.yh=[]}}return{K:function(){this.Fe=[];this.yh=[];this.kb=!1},add:function(c){return new b.Promise(function(b){this.Fe.push(function(){var e=c();b(this.Fe[this.Fe.length-1]);e&&e.then?e.then(a.bind(this)):("undefined"===typeof e||e)&&a.call(this)}.bind(this));this.kb||a.call(this)}.bind(this))},OB:function(){return new b.Promise(function(a){this.Fe.length?this.yh.push(a):a()}.bind(this))},next:a,
empty:function(){this.Fe=[];a.call(this)}}}());d.vdb={a:{dd:b.a.dd}};d.default=b.a.dd;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this,b=!0;v.concat(this.qo).forEach(function(c){var e=a.md[c];e?a.fa[c]=e.bind(a.md):a.fa[c]||(b=!1)});return b}function l(a){this.Ge.reject("BaseRunner failed with message: "+a)}function n(a){a&&(this.md=a);if(a&&a.events&&k.call(this)){a=a.events;this.no&&this.no.yy();try{a.readyCallback(),this.Ge.resolve()}catch(z){this.Ge.reject(z.toString())}}else this.Kj+=
1,40<this.Kj?l.call(this,"Flash peer waiting timeout"+this.ld.wv()):setTimeout(n.bind(this,a),100)}function e(a,b){for(var c=0;c<a.length;++c){var e=a[c];e!==b&&m.default.ng(e)}}function f(){e.call(this,this.Lb.parentNode.children,this.md.parentNode);e.call(this,this.Lb.children,this.md)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var h=b(c);c=a(16);var g=b(c);c=a(5);var m=b(c);c=a(7);var p=b(c);c=a(4);c=b(c);var q=a(128),t=b(q);q=a(211);var r=b(q);q=a(210);var u=b(q);a=a(10);var y=b(a),
x=c.default.B("BaseRunner"),v=["showObject","hideAll","callMethod","removeWrappedObject"];a=function(){function a(b){(0,h.default)(this,a);this.Qa=b[p.default.Oa];this.j=b[p.default.O];this.eu=this.j.Cw()||"latest";this.Kb=b[p.default.Ma];this.Ff=b[p.default.Da];this.ld=b[p.default.tb];var c=b[p.default.Jc];b[p.default.Ba].Rf(".flash-runner {    width: 100%;    height: 100%;    position: absolute;    z-index: -100;}");this.fa={};this.Ie=m.default.createElement("div",{"class":"flash-runner"},c);this.Ie.style.width=
"100%";this.Ie.style.height="100%";this.Lb=(new t.default(this.Ie)).oq("").contentDocument.body;this.Xt=this.j.Ow();this.j.Yl(!1);this.Kb.addEventListener(y.default.cc,f.bind(this));this.Sf()}a.prototype.Sf=function(a){this.Ge=new g.default;this.vo="flash_runner_"+Math.random().toString().slice(2)+"_"+(new Date).getTime();var b={flashObjectId:this.vo};this.Xt&&(this.no=new u.default(this.j,this.Lb,this.Ff));a="player/swf/%FLASH_VERSION%/"+a;b=r.default.Lv(this.Lb,{id:this.vo,onFail:l.bind(this,"Flash embedding failed"),
src:this.Qa.sw(a.replace("%FLASH_VERSION%",this.eu)),version:[11,1],wmode:"transparent"},b);this.Kj=0;n.call(this,b)};a.prototype.Nk=function(){var a=this;return this.Ge.xa().then(function(){return a})};a.prototype.I=function(){if(this.fa)return this.fa.callMethod.apply(this.fa,arguments);x.error("Calling runner before it's ready, arguments: "+arguments.join(" "))};a.prototype.ty=function(a){this.fa.removeWrappedObject(a)};a.prototype.addEventListener=function(a,b,c){this.fa["events"+a].addEventListener(b,
c)};a.prototype.removeEventListener=function(a,b,c){this.fa["events"+a].removeEventListener(b,c)};a.prototype.Se=function(){this.Ie.style.visibility="hidden"};a.prototype.show=function(){this.Ie.style.zIndex=2;this.Ie.style.visibility="visible"};return a}();d.default=a;a.ba=[p.default.Ba,p.default.Oa,p.default.tb,p.default.Jc,p.default.O,p.default.Ma,p.default.Da]},function(c,d,a){var b=a(3)(b||{},{a:{ah:{}},f:{},c:{},log:{},U:{}});b.f=a(9).vdb.f;b.c=a(5).vdb.c;b.log=a(4).vdb.log;b.U=a(42).vdb.U;
b.a.ah=b.f.Class.extend(function(){function a(c,f,d){var e=d.Gi,h=d.pD,k=c.contentDocument,l=c.contentWindow;k?(k.open(),h&&h(c),e&&(l.onLoaded=function(){e(c)}),l.onerror=function(a,c,e,g){"Script error."!==a&&c&&e&&g&&b.log.B("IframeError").error([a,"Url: ",c,"Line: ",e,"Column: ",g].join(", "))},k.write(f),k.close()):setTimeout(a.bind(this,c,f,d),0)}function c(){var a=[],b=document.scripts;void 0===b&&(b=document.getElementsByTagName("script")||[]);for(var c=0;c<b.length;c++)a.push(b[c]);return a}
function d(a,b,c){return function(){var e=b.indexOf(a);if(-1!==e&&(b.splice(e,1),0===b.length&&-1===navigator.userAgent.indexOf("Firefox/3.")))for(e=0;e<c.length;++e)eval(c[e].text)}}return{K:function(a){this.Qd=a},MC:function(a){var e=[],h=[],g;var m=c();this.Qd.innerHTML=a;a=c();for(g=0;g<a.length;g++){var k=a[g];-1===m.indexOf(k)&&(null!=k.text&&0<k.text.length?e.push(k):(h.push(k),b.U.fg(k.src).then(d.bind(this,k,h,e)),this.Qd.removeChild(k)))}},oq:function(c,f){f=f||{};var e=f.width,g=f.height;
e=b.c.createElement("iframe",{src:"javascript:void(0)",width:e?e+"px":"100%",height:g?g+"px":"100%",scrolling:"no",frameBorder:0,marginHeight:0,marginWidth:0},this.Qd);a.call(this,e,c,f);return e}}}());d.vdb={a:{ah:b.a.ah}};d.default=b.a.ah;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(16);var l=b(c);a=a(5);var n=b(a);a=function(){function a(b,c){(0,k.default)(this,a);this.Td=b;this.xb=c;this.Jh=
new l.default;this.lo="handshakeVersion initAd startAd stopAd skipAd resizeAd pauseAd resumeAd expandAd collapseAd subscribe unsubscribe".split(" ")}a.prototype.gq=function(){return this.Jh.xa()};a.prototype.be=function(){n.default.ng(this.Td)};a.prototype.Jq=function(a){this.be();this.Jh.reject(a)};a.prototype.I=function(a,b){"setAdVolume"===a&&this.mute(0===b[0])};a.prototype.mute=function(){};return a}();d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&
a.__esModule?a:{default:a}}(a(0));c=function(){function a(c){(0,b.default)(this,a);this.ro=c}a.prototype.Uh=function(){};a.prototype.show=function(){};a.prototype.Se=function(){};return a}();d.default=c},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a,b){b.forEach(function(b){b.url&&a.sc.push(b.url)})}function l(a){return this.ab.filter(function(b){return b.__proto__===a.__proto__})[0]}function n(a,b,c,g){var f=this;a&&a.Eb&&a.Eb.forEach(function(a){var d;if(d=a.type===
c&&a.url){var h=z.default.trim(a.offset||"");g&&g.Gd===B.default.wn&&h?(d=g.data||{},d.duration?(-1===h.indexOf("%")?h=A.default.gf(h):(h=Number(h.substr(0,h.length-1)),h=d.duration*h/100),(d=d.currentTime>=h&&-1===f.So.indexOf(a))&&f.So.push(a)):d=!1):d=!0}d&&(d=a.url,e(a.url)||(d+=(-1<a.url.indexOf("?")?"&":"?")+"cb="+Math.random().toString(10).substr(2)),b.push(d))})}function e(a){return 0<w.default.Bm.filter(function(b){return-1<a.indexOf(b)}).length}Object.defineProperty(d,"__esModule",{value:!0});
c=a(0);var f=b(c);c=a(2);var h=b(c);c=a(1);var g=b(c);c=a(23);c=b(c);var m=a(78),p=b(m);m=a(27);var q=b(m);m=a(52);var t=b(m);m=a(85);var r=b(m);m=a(12);var u=b(m);m=a(53);var y=b(m);m=a(82);var x=b(m);m=a(4);m=b(m);var v=a(71),w=b(v);v=a(20);var z=b(v);v=a(5);var A=b(v);a=a(22);var B=b(a),C=m.default.B("AbstractAd");a=function(a){function b(){(0,f.default)(this,b);var c=(0,h.default)(this,a.call(this));c.So=[];c.gp=[];c.cl=[];c.mb=[];c.ab=[];c.de=[];c.Di=!1;c.id="";c.state={loaded:!1};return c}(0,
g.default)(b,a);b.prototype.dispatchEvent=function(b){C.debug("dispatchEvent",b);var c=b.Yf();c=b.zq?c:!A.default.ke(c)&&l.call(this,c);switch(b.type){case u.default.jf:this.Ut||(k(b,this.gp),this.Ut=!0);break;case u.default.Rb:k(b,this.cl);break;case u.default.ta:k(b,this.mb);break;case u.default.Ka:c instanceof t.default?(k(b,c.op),c.Eb&&c.Eb.forEach(function(a){a.type===q.default.Mg&&a.url&&b.sc.push(a.url)})):c&&c.ai&&n.call(this,c,b.sc,q.default.mf);break;case r.default.vf:n.call(this,c,b.sc,
b.Gd,b);break;case y.default.Og:this.ab.forEach(function(a){a instanceof p.default&&b.Zh.push(a)});break;case x.default.Pg:if(!c)return;b.qp.Eb.forEach(function(a){a.type===b.Gd&&a.url&&b.sc.push(a.url)});break;case q.default.LOADED:this.state.loaded=!0;case q.default.xf:case q.default.xe:case q.default.wf:case q.default.se:case q.default.hb:case q.default.LINEAR_CHANGE:n.call(this,c,b.sc,b.type)}return a.prototype.dispatchEvent.call(this,b)};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}function k(){var a=this;this.pl=this.l.wc();this.Uf.forEach(function(b){return(new Image).src=a.pl.resolve(b)})}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(11);var n=b(c);c=a(10);var e=b(c);a=a(8);var f=b(a);a=function(){function a(b){var c=this;(0,l.default)(this,a);this.Uf=[];b.forEach(function(a){(n.default.la(a).Feacon||[]).forEach(function(a){return c.Uf.push(n.default.ra(a))})})}a.prototype.da=function(a,b){this.l=a;b?f.default.group(f.default.ma(this.l,
e.default.bm,k.bind(this)),f.default.ma(this.l,e.default.cc,k.bind(this))):k.call(this)};return a}();d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function l(){(0,b.default)(this,l);this.height=this.width=null;this.id="";this.parameters=this.sv=this.$a=this.Gp=this.Hp=null;this.rc="";this.ac=[]}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",
{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(26);c=b(c);var e=a(253),f=a(135),h=b(f);f=a(98);var g=b(f);a=a(11);var m=b(a);a=function(a){function b(c){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,k.default)(this,b);var d=[e.Fn,e.Tm,e.Rm,h.default,g.default];return(0,l.default)(this,a.call(this,c,f.concat(d)))}(0,n.default)(b,a);b.prototype.P=function(a){var b=this,c=this.up();c.height=a.getAttribute("height");c.width=a.getAttribute("width");c.id=a.getAttribute("id");
var e=a.getAttribute("expandedWidth");c.Hp=isNaN(e)?0:e;e=a.getAttribute("expandedHeight");c.Gp=isNaN(e)?0:e;c.rc=a.getAttribute("apiFramework");a=m.default.la(a);[a.StaticResource||[],a.IFrameResource||[],a.HTMLResource||[]].forEach(function(a){a.forEach(function(a){c.ac.push(b.tc(a.nodeName).parse(a))})});if(e=a.AdParameters)c.parameters=h.default.parse(e[0]);if(e=a[this.Hk()])c.$a=this.tw().parse(e[0]);if(a=a[this.Ik()])c.sv=this.vw().parse(a[0]);return c};b.prototype.tw=function(){return this.tc(this.Hk())};
b.prototype.vw=function(){return this.tc(this.Ik())};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(77);c=b(c);var e=a(256),f=b(e);a=a(11);var h=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"AdParameters"))}(0,n.default)(b,a);b.prototype.P=function(a){var b=new f.default;b.value=h.default.ra(a);
b.oz=a.getAttribute("xmlEncoded");return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(76);a=function(a){function b(c,e){(0,k.default)(this,b);c=(0,l.default)(this,a.call(this,c));c.id=e;return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=
[],b=this.tc(arguments[1]);(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(c){(c=b.parse(c))&&a.push(c)});return a}function l(a,b){return a?k.call(this,x.default.la(a[0])[b],b):[]}function n(a){var b=a.filter(function(a){return a instanceof u.default})[0];a=a.filter(function(a){return a instanceof y.default})[0];if(b&&a){var c=[r.default.Mg,r.default.mf,r.default.se],e=a.Eb;b.Eb.forEach(function(a){var b=a.type;-1!==c.indexOf(b)&&0===e.filter(function(a){return a.type===
b}).length&&e.push(a)})}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var e=b(c);c=a(2);var f=b(c);c=a(1);var h=b(c);c=a(26);c=b(c);var g=a(266),m=b(g),p=a(37);g=a(264);var q=b(g);g=a(246);var t=b(g);g=a(27);var r=b(g);g=a(52);var u=b(g);g=a(78);var y=b(g);a=a(11);var x=b(a);a=function(a){function b(c){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,e.default)(this,b);var d=[m.default,p.ym,p.Km,p.Vm,q.default,t.default];return(0,f.default)(this,a.call(this,c,g.concat(d)))}
(0,h.default)(b,a);b.prototype.P=function(a){var b=this.tp();a=x.default.la(a);b.l=m.default.parse(a.AdSystem[0]);b.gp=k.call(this,a.Attempt,"Attempt");b.cl=k.call(this,a.Impression,"Impression");b.mb=k.call(this,a.Error,"Error");b.ab=l.call(this,a.Creatives,"Creative");b.ab.sort(function(a,b){return a.Cb-b.Cb});b.de=l.call(this,a.Extensions,"Extension");n(b.ab);return b};return b}(c.default);d.default=a},function(c,d,a){function b(a){var b=this;a.forEach(function(a){return b[l][a.td()]=a})}Object.defineProperty(d,
"__esModule",{value:!0});var k=(c=a(0))&&c.__esModule?c:{default:c};a=(a=a(6))&&a.__esModule?a:{default:a};var l=(0,a.default)(),n=(0,a.default)();a=function(){function a(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,k.default)(this,a);this[n]=c;this[l]={};b.call(this,e)}a.prototype.tc=function(a){return this[l][a]};a.prototype.df=function(){};a.prototype.P=function(){};a.prototype.parse=function(a){return this.df&&this.df(a)?this.P(a):null};a.prototype.td=function(){return this[n]};
return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(99);a=function(a){function b(){(0,k.default)(this,b);var c=(0,l.default)(this,a.call(this));c.Gq=[];return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c};a=a(19);var k=(a&&a.__esModule?
a:{default:a}).default.uf;a=function(){function a(c,e){(0,b.default)(this,a);this.message=e||k.description;this.code=c||k.code}a.prototype.toString=function(){return"VastError{code="+this.code+",message="+this.message+"}"};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(79);a=function(a){function b(c,e){(0,k.default)(this,b);c=(0,l.default)(this,a.call(this,
c,e));c.Yj=[];return c}(0,n.default)(b,a);b.prototype.initAd=function(a,b,c,e,d){d=d.AdParameters||"";this.I("initAd",a,b,c,e,d,"")};b.prototype.startAd=function(){this.I("startAd")};b.prototype.stopAd=function(){this.I("stopAd")};b.prototype.setAdVolume=function(a){this.I("setAdVolume",a)};b.prototype.getAdVolume=function(){return this.I("getAdVolume")};b.prototype.resizeAd=function(a,b,c){this.I("resizeAd",a,b,c)};b.prototype.pauseAd=function(){this.I("pauseAd")};b.prototype.resumeAd=function(){this.I("resumeAd")};
b.prototype.collapseAd=function(){this.I("collapseAd")};b.prototype.expandAd=function(){this.I("expandAd")};b.prototype.getAdExpanded=function(){return this.I("getAdExpanded")};b.prototype.getAdSkippableState=function(){return this.I("getAdSkippableState")};b.prototype.skipAd=function(){this.I("skipAd")};b.prototype.getAdWidth=function(){return this.I("getAdWidth")};b.prototype.getAdHeight=function(){return this.I("getAdHeight")};b.prototype.getAdDuration=function(){return this.I("getAdDuration")};
b.prototype.getAdLinear=function(){return this.I("getAdLinear")};b.prototype.getAdRemainingTime=function(){return this.I("getAdRemainingTime")};b.prototype.getAdIcons=function(){return this.I("getAdIcons")};b.prototype.getAdCompanions=function(){return this.I("getAdCompanions")};b.prototype.handshakeVersion=function(a){return this.I("handshakeVersion",a)};b.prototype.subscribe=function(a,b,c){var e=a;c&&(e=a.bind(c),this.Yj.push({mv:e,listener:a}));this.addEventListener(b,e)};b.prototype.unsubscribe=
function(a,b){for(var c=0;c<this.Yj.length;++c){var e=this.Yj[c];if(a===e.listener){this.removeEventListener(b,e.mv);return}}this.removeEventListener(b,a)};return b}(b(a).default);d.default=a;a.MA="VPAIDWrapper.SOUND_VIOLATION"},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(13);a=function(a){function b(c,e){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c,e))}
(0,n.default)(b,a);return b}(b(a).default);d.default=a;a.Ln="UNIQUE_ERROR"},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={Xi:"acceptInvitation",yr:"acceptInvitationLinear",Ng:"close",Em:"closeLinear",lf:"collapse",Tg:"expand"}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this,b=[[T.default.Dr,B],[T.default.fm,w],[T.default.dc,p],[T.default.jm,x],[T.default.wg,A],[T.default.Fb,C],[T.default.Mc,N],[T.default.fc,H],[T.default.Ir,q],
[T.default.Gb,R],[T.default.Zi,h],[T.default.mm,z],[T.default.pm,v],[T.default.Nc,y],[T.default.hf,Q],[T.default.ja,P],[T.default.tm,J],[T.default.Lr,t],[T.default.Mr,u],[T.default.Nr,r],[T.default.xg,L],[T.default.yg,D],[T.default.zg,F],[T.default.Ag,E],[T.default.Bg,K],[T.default.Cg,M]],c=this;this[Za]={addEventListener:function(a,b){f.call(c,"subscribe",b,a,c)},removeEventListener:function(a,b){try{f.call(c,"unsubscribe",b,a)}catch(jb){}}};b.forEach(function(b){return l.call(a,b[0],b[1])});this[da]=
0}function l(a,b){var c=this;this[ba].link($a.default.bind(this[Za],a,function(){for(var e=arguments.length,g=Array(e),d=0;d<e;d++)g[d]=arguments[d];try{if(-1!==kb.indexOf(a)){if(-1!==c[Sa].indexOf(a)){c.g.dispatchEvent(new va.default(ab.default.Ln,a));return}c[Sa].push(a)}b.apply(c,g)}catch(Bb){S.error("Failed to handle "+a+" event:",Bb)}}))}function n(a){var b=document.createEvent("MouseEvent");b.initEvent(a.type,!a.cancelBubble,a.cancelable);this[Cb].dispatchEvent(b)}function e(a){this.element.style.visibility=
a?"visible":"hidden"}function f(a){if(this.Xa)try{for(var b=this.Xa[a],c=arguments.length,e=Array(1<c?c-1:0),g=1;g<c;g++)e[g-1]=arguments[g];if(b)return b.apply(this.Xa,e);if(this.Xa.I)return this.Xa.I(a,e)}catch(jb){S.error(a,jb)}}function h(){S.debug("onAdPlaying");this.g.yl()}function g(a){this.Xa=a.am;if(this.Xa instanceof xa.default){var b=this.qg.bind(this,"Internal wrapper critical error");this[ba].link($a.default.bind(this.Xa,lb.default.nf,b))}try{this.ix(a.data)}catch(qa){m.call(this,qa.message)}}
function m(a){this.error=new pa.default(Ma.code,a);S.error(this.error.toString());this.Lp()}function p(a){a=Na.default.Bi(a)?Na.default.Bi(a.data)?a.data.message||a.data.errorMessage:"Internal Vpaid Error":a;S.warn("VPAID_UNIT:",a);-1!==ra.indexOf(a)?this.stop():this.qg(a)}function q(a){S.debug("VPAID_UNIT:",a)}function t(){S.debug("onAdUserAcceptInvitation");var a=f.call(this,"getAdLinear");this.track(oa.default.Xi);this.g.dispatchEvent(new va.default(ya.default.Fb,a?Ca.default.yr:Ca.default.Xi))}
function r(){S.debug("onAdUserMinimize");this.track(oa.default.lf)}function u(){S.debug("onAdUserClose");var a=f.call(this,"getAdLinear");this.track(oa.default.Ng);this.g.dispatchEvent(new va.default(ya.default.Fb,a?Ca.default.Em:Ca.default.Ng))}function y(){-1===this.xb.indexOf("//imasdk.googleapis.com")&&(S.debug("Ad Skippable State changed to",f.call(this,"getAdSkippableState")),this.dispatchEvent(mb.default.Nc))}function x(){var a=f.call(this,"getAdExpanded");S.debug("Ad Expanded changed to",
a);a?(this.track(oa.default.Tg),this.g.Pq(),this.g.dispatchEvent(new va.default(ya.default.Fb,Ca.default.Tg))):(this.track(oa.default.lf),this.g.dr(),this.g.dispatchEvent(new va.default(ya.default.Fb,Ca.default.lf)))}function v(){S.debug("Ad size changed to: w="+f.call(this,"getAdWidth")+" h="+f.call(this,"getAdHeight"))}function w(){S.debug("Ad Duration changed to",f.call(this,"getAdDuration"))}function z(){S.debug("Ad Remaining Time changed to",this.vc());this.g.ef()}function A(){this.Af||(S.debug("Ad Impression"),
this.zd(),this.jg(),(this.jl()||this[za]===ta.default.Ua)&&e.call(this,!0))}function B(a,b,c){S.debug("Clickthrough portion of the ad was clicked",a,b,c);(c=!!c||void 0===c)?b=!!a:(a=null,b=!1);this.g.Me(a,b,!c)}function C(){S.debug("A non-clickthrough event has occured");this.g.dispatchEvent(new va.default(ya.default.Fb))}function E(){S.debug("Video 0% completed");this.Ji();this.Db(oa.default.mh)}function D(){S.debug("Video 25% completed");this.Db(oa.default.Id)}function F(){S.debug("Video 50% completed");
this.Db(oa.default.qj)}function K(){S.debug("Video 75% completed");this.Db(oa.default.Pd)}function L(){S.debug("Video 100% completed");this.Db(oa.default.Aa)}function N(){var a=f.call(this,"getAdLinear");a!==this[bb]&&(this[bb]=a,S.debug("Ad linear changed to",a),this.g.eg(a))}function U(){this.qc||(S.debug("startAd"),this.g.dispatchEvent(new va.default(ya.default.ij)),f.call(this,"startAd"),this.g.resize(Ta.default.enabled()&&Ta.default.uq()))}function H(){var a=this;S.debug("ad has been loaded",
this);this[rb].getCanAutoplay().then(function(b){a.setVolume(b===nb.default.kf?0:a[Da]);Na.default.rk(U.bind(a))})}function P(){S.debug("Ad has started");this.Ji();this.setVolume(this[Da]);this.Jp();this.g.ef();this.g.Ni()}function J(){S.debug("Ad has stopped");this[Aa]&&clearTimeout(this[Aa]);this.Ix()&&this.Af||(this.error=Ma);this.dispose();this.g.complete(!1,{currentTime:this.getCurrentTime()})}function Q(){S.debug("Ad was skipped");this.Lp()}function M(){var a=this.getVolume(),b=!a;S.debug("Ad Volume changed to",
a);b?this.track(oa.default.fn):this.track(oa.default.Mn);this[Da]=a;this.g.lg({muted:b,volume:this[Da]})}function R(){S.debug("onAdPaused");this.g.xl()}function G(a){switch(a.type){case Ea.default.Pm:m.call(this,"function getVPAIDAd does not exist");break;case Ea.default.ln:m.call(this,"getVPAIDAd() does not return a creative");break;case Ea.default.xm:m.call(this,"API function "+a.name+" is missing");break;case Ea.default.ao:m.call(this,"Vpaid url "+a.url+" is unavailable");break;default:this.qg("Error with vpaid: "+
a)}}function I(){if(this[Oa].mimeType===Fa.default.Vg)return Na.default.Za.chrome&&this[za]===ta.default.Na&&this[ma].Yl(!0),S.debug("Use flash vpaid runner"),this[sa].resolve(ua.default.mj);if(this[ma].rq())return S.debug("Use secure vpaid runner"),this[sa].resolve(ua.default.Cn);S.debug("Use insecure vpaid runner");return this[sa].resolve(ua.default.Xm)}Object.defineProperty(d,"__esModule",{value:!0});var O=a(0),fa=b(O),V=a(2),ha=b(V),ia=a(1),Z=b(ia),ca=a(6),aa=b(ca),Ja=a(18),ta=b(Ja),Ka=a(7),ua=
b(Ka),sb=a(13),va=b(sb),tb=a(8),$a=b(tb),ob=a(276),Ta=b(ob),Pa=a(4),ub=b(Pa),pb=a(5),Na=b(pb),qb=a(22),oa=b(qb),vb=a(80),nb=b(vb),wb=a(143),Ca=b(wb),cb=a(54),xb=b(cb),yb=a(10),mb=b(yb),Ba=a(142),ab=b(Ba),Ua=a(19),Ga=b(Ua),db=a(79),lb=b(db),ka=a(141),xa=b(ka),la=a(81),Fa=b(la),Y=a(109),Ea=b(Y),eb=a(121),T=b(eb),Va=a(38),ya=b(Va),W=a(140),pa=b(W),X=a(12),fb=b(X),S=ub.default.B("VPAIDMediaElement"),Ma=Ga.default.As,ra=["There was an error in the google ad. AdError 1009: The VAST response document is empty."],
kb=[T.default.ja,T.default.tm,T.default.hf,T.default.fc,T.default.wg,T.default.Ag,T.default.yg,T.default.zg,T.default.Bg,T.default.xg],za=(0,aa.default)(),ea=(0,aa.default)(),ma=(0,aa.default)(),Za=(0,aa.default)(),gb=(0,aa.default)(),Sa=(0,aa.default)(),da=(0,aa.default)(),sa=(0,aa.default)(),Oa=(0,aa.default)(),Cb=(0,aa.default)(),Aa=(0,aa.default)(),Wa=(0,aa.default)(),Da=(0,aa.default)(),Xa=(0,aa.default)(),ba=(0,aa.default)(),bb=(0,aa.default)(),rb=(0,aa.default)(),hb=function(a){function b(c,
e,g,d){(0,fa.default)(this,b);S.debug("init");var f=(0,ha.default)(this,a.call(this,d.F(ua.default.ue)));f[bb]=!0;f[Oa]=c;f[za]=e;f[ea]=g;f[sa]=d;f[Sa]=[];f[ba]=$a.default.empty();f[Cb]=f[sa].F(ua.default.Da);f[ma]=f[sa].F(ua.default.O);f[gb]=f[sa].F(ua.default.Ba);f[rb]=f[sa].F(ua.default.re);f.xb=f[Oa].url||f[Oa].value;f[rb].getCanAutoplay().then(function(a){f[Da]=a===nb.default.kf?0:f[Da]});return f}(0,Z.default)(b,a);b.prototype.load=function(){a.prototype.load.call(this);this.g.noResize();this.g.qd();
e.call(this,!(this.jl()||this[za]===ta.default.Ua))};b.prototype.createElement=function(){return Na.default.createElement("div",{style:"position: absolute; width: 100%; height: 100%; z-index: 1; text-align: left; top:0px;"})};b.prototype.je=function(){var b=this;S.debug("initElement");a.prototype.je.call(this);e.call(this,!(this.jl()||this[za]===ta.default.Ua));I.call(this).then(function(a){b[Xa]=a;b[Xa].Uh(b.element,b.xb,b[za],b.A,b[ma],b[ea].$h).then(g.bind(b),G.bind(b))})};b.prototype.ix=function(a){f.call(this,
"handshakeVersion","2.0");k.call(this);var b=a.width;a=a.height;this[Wa]="normal";var c=this.g.Np(),e=this.g.Ck();e={AdParameters:e&&e.value};S.debug("initAd",b,a,this[Wa],c,e);f.call(this,"initAd",b,a,this[Wa],c,e);f.call(this,"subscribe",n.bind(this),"mousemove");f.call(this,"subscribe",n.bind(this),"mouseover")};b.prototype.jl=function(){return"Midroll"===this[za]};b.prototype.resize=function(){a.prototype.resize.call(this);this[Wa]=Ta.default.enabled()&&Ta.default.uq()?"fullscreen":"normal";var b=
this.A.Zk(),c=this.A.Mk();S.debug("resize ad",{height:c,viewMode:this[Wa],width:b});f.call(this,"resizeAd",b,c,this[Wa])};b.prototype.qg=function(a){S.debug("stopByError",a);this.error=Ma;this.g.dispatchEvent(new va.default(ya.default.dc),a);this.g.Ne(fb.default.ta,{pd:a,error:this.error});this.stop()};b.prototype.na=function(){return-1!==this.xb.indexOf("//imasdk.googleapis.com")?!1:f.call(this,"getAdSkippableState")};b.prototype.getDuration=function(){if(!this.Xa)return 0;var a=f.call(this,"getAdDuration");
0>=a&&0<this[da]&&(a=this[da]);return a};b.prototype.stop=function(){S.debug("stopAd");this.qc||(this.qc=!0,this.Xa?(f.call(this,"stopAd"),this[Aa]=setTimeout(J.bind(this),400)):J.call(this))};b.prototype.Lp=function(){S.debug("forceStop");this.dispose();this[Aa]&&clearTimeout(this[Aa]);this.g.complete(!0)};b.prototype.dispose=function(){S.debug("dispose");this[ba]&&(this[ba].N(),this[ba]=null);this.Xa&&(this.Xa.be&&this.Xa.be(),this.Xa=null);this[Xa]&&this[Xa].Se()};b.prototype.za=function(){f.call(this,
"skipAd")};b.prototype.setVolume=function(a){this[Da]=a;f.call(this,"setAdVolume",this[Da])};b.prototype.getVolume=function(){return f.call(this,"getAdVolume")};b.prototype.pause=function(){f.call(this,"pauseAd")};b.prototype.resume=function(){f.call(this,"resumeAd")};b.prototype.invokeAdMethod=function(a,b){f.call(this,"invokeAdMethod",a,b)};b.prototype.dw=function(){return f.call(this,"getAdRemainingTime")};b.prototype.vc=function(){if(!this.Xa)return 0;var a=this.dw();a>this[da]&&(this[da]=a);
return a};b.prototype.zd=function(){a.prototype.zd.call(this);this[bb]=f.call(this,"getAdLinear");this[Xa]&&this[Xa].show()};return b}(xb.default);d.default=hb},function(c,d,a){var b=a(3)(b||{},{o:{sh:{}}});b.o.sh={qA:"RollOverVideo",OA:"ThirdPartyPosterAvailable",XA:"VideoBufferingEnd",YA:"VideoBufferingStart",Rn:"VideoClickEvent",Sn:"VideoEndEvent",Tn:"VideoErrorEvent",Ct:"VideoLoadEvent",aB:"VideoMetaDataEvent",Vn:"VideoPauseEvent",Ij:"VideoPlayEvent",Et:"VideoProgressEvent",Wn:"VideoResumeEvent",
bB:"VideoSeekEvent",cB:"VideoSeekEnd",dB:"VideoSeekStart",Xn:"VideoStartEvent",Yn:"VideoTimeUpdateEvent",eB:"VideoTouchStartEvent",Zn:"VideoVolumeChangedEvent",$n:"VideoWaiting",fB:"VideoWebkitBeginFullscreen",gB:"VideoWebkitEndFullscreen",Un:"VideoFallbackEvent"};d.vdb={o:{sh:b.o.sh}};d.default=b.o.sh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{Ig:{}}});b.b.Ig={Jj:"vpaid"};d.vdb={b:{Ig:b.b.Ig}};d.default=b.b.Ig;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}
function k(){t.debug("onImageClick");this.g.Me(null)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var n=b(c);c=a(1);var e=b(c);c=a(54);c=b(c);var f=a(12),h=b(f);f=a(19);var g=b(f);f=a(4);f=b(f);var m=a(8),p=b(m);a=a(5);var q=b(a),t=f.default.B("LoadableImageElement");a=function(a){function b(c,e){(0,l.default)(this,b);e=(0,n.default)(this,a.call(this,e));t.debug("init",c);e.xb=c;return e}(0,e.default)(b,a);b.prototype.createElement=function(){t.debug("createDisplayObject");
var a=q.default.createElement("img",{style:{position:"absolute",zIndex:1}});this.Tj=p.default.group(p.default.bind(a,"load",this.wl.bind(this)),p.default.bind(a,"error",this.Kq.bind(this)));a.src=this.xb.replace(/\s+/g,"");return a};b.prototype.wl=function(){t.info("onImageLoaded",this.xb);this.element.addEventListener("click",k.bind(this));t.debug("draw");this.jg();this.zd();this.g.qd()};b.prototype.Kq=function(a){t.debug("onImageError",a);this.element.offsetWidth?this.wl():(this.g.Ne(h.default.ta,
{error:g.default.gn}),this.g.complete(!0))};b.prototype.stop=function(){t.debug("stop");this.Tj&&this.Tj.N();a.prototype.stop.call(this)};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);a=a(285);a=b(a);var e=(0,c.default)(),f=(0,c.default)(),h=(0,c.default)(),g=(0,c.default)(),m=(0,c.default)(),p=(0,c.default)();a=function(a){function b(c,
e){(0,k.default)(this,b);c=(0,l.default)(this,a.call(this,c,e));c[g]=0;return c}(0,n.default)(b,a);b.prototype.fr=function(a,b,c){this[e]=a;this[f]=b;this[h]=c};b.prototype.vl=function(){a.prototype.vl.call(this);this[m]=!0;this[e]()};b.prototype.Iq=function(){if(!this[p]){var a=+new Date;50<=this.sa()?this.Si&&(this[g]+=(a-this.Si)/1E3,2<=this[g]&&(this[f](),this[p]=!0)):this.Li();this.Si=a}};b.prototype.Hq=function(){if(this[m]&&!this[p])this[h]()};b.prototype.Kl=function(){a.prototype.Kl.call(this);
this[m]=!1;this[p]=!1;this[g]=0};return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){this.Ce||this.Fi(new u.default("ad engine did not finish loading"));this.dispatchEvent(new m.default(m.default.Kc,this.u.getType(),{fi:this.Qj,error:this.Iw()}))}function l(){var a=this.wa.autoplay;if(!a)return!1;var b=this.j.Ye();return"undefined"===typeof b?a:a&&b}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var e=b(c);c=
a(1);var f=b(c);c=a(6);c=b(c);var h=a(86),g=b(h);h=a(10);var m=b(h);h=a(23);h=b(h);var p=a(103),q=a(51),t=b(q);q=a(7);var r=b(q);q=a(55);var u=b(q);q=a(4);q=b(q);var y=a(47),x=b(y);y=a(151);var v=b(y);y=a(44);var w=b(y);y=a(5);var z=b(y);y=a(25);var A=b(y);a=a(14);var B=b(a),C=q.default.B("AdEngineBase"),E=(0,c.default)(),D=(0,c.default)(),F=(0,c.default)(),K=(0,c.default)(),L=(0,c.default)(),N=(0,c.default)(),U=(0,c.default)(),H=(0,c.default)(),P=(0,c.default)(),J=(0,c.default)(),Q=!1;a=function(a){function b(c,
g,d,f){(0,n.default)(this,b);var h=(0,e.default)(this,a.call(this));C.debug("init","adsConfig",g);h.l=c;h.wa=g;h.u=d;h.Wa=f;h.Ce=!1;h[J]=!1;h[E]=!1;h[F]=[];c=h.l.ha();h[K]=c.F(r.default.jh);h.A=c.F(r.default.ue);h.j=c.F(r.default.O);h.Wa&&(h.Wa.addEventListener(p.Gm,h.Gi.bind(h)),h.Wa.addEventListener(p.Ym,h.Fi.bind(h)));return h}(0,f.default)(b,a);b.prototype.ca=function(){return this.u};b.prototype.Zv=function(){return this.D||null};b.prototype.Iw=function(){return this.wb||null};b.prototype.bf=
function(a){(this.wb=a)&&a.message&&(this.Qj=this.Qj?this.Qj+(", "+a.message):a.message)};b.prototype.pg=function(){C.debug("showOverlay");this[N]=(new Date).getTime();this.ia(t.default.LOADED)};b.prototype.Ri=function(a){var b=this;this[P]=a||this[P]||0;C.debug("startAdTimers","maxTime",a);a=Math.min(this.u.Bu,this.wa.Vy);a=Math.floor(a);this[L]&&clearTimeout(this[L]);0<a&&this.j.Ye()&&(this[L]=setTimeout(this.gi.bind(this,"Start timeout error: "+a+"ms"),a));this[N]=(new Date).getTime();0<this[P]&&
(this.Pa=new v.default,this.Pa.Ml(function(){b.zh=!0;b.stop()},1E3*this[P],!1))};b.prototype.load=function(){C.debug("load");a:{if(this.u.Jx()){var a=B.default.Qe(this.j.Ab(x.default.URL));var b=B.default.Qe(A.default.xc(window));if(a&&b&&a!==b&&"undefined"!==a){Q||(this.ia(t.default.mt),this.bf(new g.default("Site check is not passed, required "+a+", but found "+b)),Q=!0);a=!1;break a}}a=!0}this[E]=a;this[D]=(new Date).getTime();this[E]?(this.track(w.default.im,{Qf:this.D.offsetHeight,ci:this.D.offsetWidth}),
this.wb=null,this.Wa&&this.Wa.load&&this.Wa.load()):(this.Ce=!1,this.dispatchEvent(new m.default(m.default.Lc,this.u.getType(),{ad:this.u})))};b.prototype.Gi=function(a){C.debug("onLoaded",a);this.ready(!0)};b.prototype.Fi=function(a){C.debug("onInterrupted",a);this.bf(a)};b.prototype.uy=function(){this.bb(m.default.om)};b.prototype.stop=function(){C.debug("stop");this.qc||(this.He=!1,this.qc=!0,this.Pa&&this.Pa.stop(),k.call(this))};b.prototype.za=function(){C.debug("skip");this.stop()};b.prototype.complete=
function(){C.debug("complete");this[L]&&clearTimeout(this[L]);this.He=!1;this.qc||!this[E]||this.Ce||this.tr(!1,this.wb&&this.wb.timeout);this.qc||(this.qc=!0,k.call(this))};b.prototype.ready=function(a){C.debug("ready");this.Ce=!0;this.tr(a);this.dispatchEvent(new m.default(m.default.Lc,this.u.getType(),{ad:this.u}))};b.prototype.hk=function(){C.debug("adLoaded");this.bb(m.default.fc,void 0);this.bz()};b.prototype.bz=function(){this.ia(t.default.LOADED);this.u.Vj||this.ia(t.default.eo)};b.prototype.yi=
function(){var a=this.u.Hw();a&&(a=this.l.wc().resolve(a),this[K].Nf(a))};b.prototype.bp=function(a){C.debug("adStarting");this.bb(m.default.pe,a)};b.prototype.jk=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1];C.debug("adStarted",a);this[L]&&clearTimeout(this[L]);this[J]=!1;this.ye=b;this.u.Vj&&this.ia(t.default.eo);this.Pa&&this.Pa.start();this.l.Ip&&(this.l.Ip=!1,this.ia(t.default.Wr));var c=a.data||{};b&&(c.apiType=b.St,c.adId=b.ad.id,c.adIconsContainer=
b.Te);c.parameters||(c.parameters={});c.parameters.minibar=!!this.u.cu.minibar;this.bb(m.default.ja,c);this.track(w.default.An);this.ia(t.default.STARTED,a.data);this.He=!0};b.prototype.Yo=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};C.debug("adPaused");this[J]=!0;this.Pa&&this.Pa.pause();this.bb(m.default.Gb,a.data)};b.prototype.Lf=function(){this.bb(m.default.Oc,(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data)};b.prototype.Uu=function(a){a=a.data;var b=
a.data||a,c=b.currentTime;b=Math.min(b.duration,this[P]);0<b?(a.timeRemaining=b-c,a.progressPercent=c/b*100):(a.progressPercent=0,a.timeRemaining=0);this.bb(m.default.gb,a)};b.prototype.Wu=function(){this.bb(m.default.qe)};b.prototype.Zo=function(){C.debug("adResumed");this[J]=!1;this.Pa&&this.Pa.resume();this.bb(m.default.oe)};b.prototype.Ob=function(){return this[J]};b.prototype.Xo=function(a){this.bb(m.default.em,{clickThroughUrl:a});this.track(w.default.Ka,{$a:a,pp:"ad"})};b.prototype.Kf=function(a,
b){C.debug("adFinished",{currentTime:a,data:b});this[L]&&clearTimeout(this[L]);this.zh||this.Xj?this.ia(t.default.dn,b):this.He&&(this.No?this.ia(t.default.ot,b):this.ia(t.default.FINISHED,b));this.bb(m.default.fb,{currentTime:a})};b.prototype.gi=function(a){C.debug("failOver",a);this.l.Ip=!0;this.ia(t.default.pf)};b.prototype.track=function(a,b){C.debug("track","eventType",a,"params",b);b=z.default.Ha(b);b=z.default.extend(b,{acid:this.u.getAcid(),asid:this.u.getAsid(),auid:this.u.nw(),bookingId:this.u.ow(),
costPerImpression:this.u.od,fullsizeThumbnail:this.u.getFullsizeThumbnail(),isHouseAd:this.u.xx(),isPayable:this.u.Fx(),lineItemId:this.u.Lw(),name:this.u.getName(),overlayURL:this.u.getOverlayURL(),profitCenter:this.u.Xw(),ruleCompanyId:this.u.yu,ruleId:this.u.getRuleId(),thirdPartyImpressionTrackers:this.u.Eu,thumbnail:this.u.getThumbnail(),transactionId:this.u.getTransactionId(),type:this.u.getType(),url:b.url||this.u.getUrl(),usid:this.u.getUsid(),vastXml:this.u.Wk(),vendor:this.u.getVendor(),
videoDuration:this.u.getVideoDuration(),videoTitle:this.u.getVideoTitle()});this.l.dispatchEvent(new w.default(a,b))};b.prototype.Wl=function(a){(a="string"===typeof a?a:a.data)&&this.track(w.default.Fb,{action:a});this.Pa&&this.Pa.stop()};b.prototype.ia=function(a,b){function c(a){return g?a+g:a}C.debug("trackFlow","adStage",a,"params",b);var e=null,g=this.l.jw();b&&(g=b.Cb||g,e=b.zB||null);var d=this.ye&&this.ye.ad?this.ye.ad:this.ad;d&&(e=e||d.id||null);d=c(a);if(a===t.default.dn){var f=c(t.default.LOADED);
!this.yd(c(t.default.STARTED))&&this.yd(f)&&(a=t.default.pf)}if(!this.yd(d)){f={mk:this.u.Rt,hv:l.call(this),od:this.u.od,Qf:this.D.offsetHeight,ci:this.D.offsetWidth,muted:this.l.isMuted(),gz:this.u.getUsid()};g&&(f.sequence=g);switch(a){case t.default.LOADED:f.latency=this[U];break;case t.default.qt:case t.default.STARTED:f.latency=(new Date).getTime()-this[N];break;case t.default.pf:this[H]&&(f.latency=(new Date).getTime()-this[H])}z.default.Ha(b,f);b=this.Xh(a,f,e);this.track(w.default.hm,b);
this[F][d]=!0;-1!==[t.default.Id,t.default.Aj,t.default.Pd,t.default.FINISHED].indexOf(a)&&this.bb(m.default.$i,b)}};b.prototype.Fd=function(a,b,c,e){C.debug("trackAdIssue","adStage",a,"details",c);this.track(w.default.ne,this.Xh(a,{pd:""+b.description+(c?" "+c:""),Ov:b.Ra,Pv:b.code,Sv:e}))};b.prototype.tr=function(a,b){C.debug("trackResponse","success",a,"timeout",b);this[D]?this[U]=(new Date).getTime()-this[D]:(this[U]=0,C.error("load is not called before track response"));this[H]=(new Date).getTime();
this.track(w.default.Yi,{Qf:this.D.offsetHeight,ci:this.D.offsetWidth,Lx:a,latency:this[U],timeout:"undefined"===typeof b?null:b,hz:this.Ce?this.Iu:0})};b.prototype.Xh=function(a,b,c){C.debug("basicAdParams","adStage",a,"additional",b,"adId",c);var e={};null!=c&&(e.adImpressionId=c,e.Qh=c);null!=a&&(e.adStage=a,e.Rh=a);z.default.Ha(b,e);return e};b.prototype.yd=function(a){return this[F][a]||!1};b.prototype.bb=function(a,b){b||(b={});b.ad=this.u;this.dispatchEvent(new m.default(a,this.u.getType(),
b));this.l.dispatchEvent(new m.default(a,this.u.getType(),b))};return b}(h.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(13);a=function(a){function b(c){(0,k.default)(this,b);var e=(0,l.default)(this,a.call(this,b.Kn));e.br=c;return e}(0,n.default)(b,a);b.prototype.clone=function(){return new b(this.br)};return b}(b(a).default);d.default=a;a.Kn="AdRemainingTimeUpdateEvent"},
function(c,d,a){var b=a(3)(b||{},{a:{qh:{}},f:{}});b.f=a(9).vdb.f;b.a.qh=b.f.Class.extend(function(){return{K:function(){this.kb=!1},Ml:function(a,b,c,e){this.ck=0;this.Du=b;this.Oj=e?function(){a();this.kb=!1;this.resume()}.bind(this):a;this.kb=!1;(c||"undefined"===typeof c)&&this.start()},start:function(){this.resume()},stop:function(){this.pause()},pause:function(){this.kb&&(this.kb=!1,this.ck+=(new Date).getTime()-this.Po,clearTimeout(this.Ro))},resume:function(){!this.kb&&this.Oj&&(this.kb=!0,
this.Po=(new Date).getTime(),this.Ro=setTimeout(this.Oj,this.$q()))},wd:function(){return this.kb||!1},$q:function(){return Math.max(this.Du-this.Kv(),0)},Kv:function(){return this.ck+(this.kb?(new Date).getTime()-this.Po:0)},rv:function(){this.kb=!1;clearTimeout(this.Ro);this.Oj=null}}}());d.vdb={a:{qh:b.a.qh}};d.default=b.a.qh;d.__esModule=!0},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function(){function a(){(0,
b.default)(this,a);this.ads=[];this.mb=[]}a.prototype.Up=function(a){return(this.Wy||a)&&0<this.ads.length?this:this.parent?this.parent.Up(a):null};a.prototype.Rw=function(a){for(var b=[],c=this;;){c.Cl&&b.push(c.Cl);if(c.parent===a)return b;if(!c.parent)return[];c=c.parent}};return a}();d.default=c},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c};a=(a=a(6))&&a.__esModule?a:{default:a};var k=(0,a.default)(),l=(0,a.default)(),n=(0,a.default)();
a=function(){function a(c,e,g){(0,b.default)(this,a);this[k]=c;this[l]=e;this[n]=g}a.prototype.xk=function(){};a.prototype.getType=function(){return null};a.prototype.Dk=function(){return this[k]};a.prototype.Pp=function(){return this[l]};a.prototype.Wf=function(){return this[n]};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);a=a(23);a=b(a);
var e=(0,c.default)();a=function(a){function b(){(0,k.default)(this,b);var c=(0,l.default)(this,a.call(this));c[e]="Engine.LOADING";return c}(0,n.default)(b,a);b.prototype.fp=function(){};b.prototype.load=function(){};b.prototype.bc=function(){this[e]="Engine.RUNNING";"undefined"!==typeof this.If&&this.setVolume(this.If)};b.prototype.ready=function(){this[e]="Engine.READY"};b.prototype.stop=function(){this[e]="Engine.STOPPED"};b.prototype.complete=function(a){this[e]=a?"Engine.FAILED":"Engine.COMPLETE"};
b.prototype.za=function(){};b.prototype.pause=function(){};b.prototype.resume=function(){};b.prototype.setVolume=function(a){this.If=a};b.prototype.getDuration=function(){return 0};b.prototype.cb=function(){return 0};b.prototype.na=function(){return!1};b.prototype.Dx=function(){return"Engine.LOADING"===this[e]};b.prototype.Ci=function(){return"Engine.READY"===this[e]};b.prototype.wd=function(){return"Engine.RUNNING"===this[e]};b.prototype.tq=function(){return"Engine.COMPLETE"===this[e]};b.prototype.bg=
function(){return"Engine.FAILED"===this[e]};b.prototype.dg=function(){return"Engine.STOPPED"===this[e]};b.prototype.Ob=function(){return!1};b.prototype.ca=function(){return null};b.prototype.qa=function(){return null};b.prototype.yc=function(){return null};return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);var e=a(4);e=b(e);var f=a(8),
h=b(f);f=a(18);var g=b(f);f=a(154);f=b(f);a=a(10);var m=b(a),p=e.default.B("AdEngineAdapter"),q=(0,c.default)(),t=(0,c.default)(),r=(0,c.default)(),u=(0,c.default)();a=function(a){function b(c,e,g){(0,k.default)(this,b);var d=(0,l.default)(this,a.call(this));d[q]=c;d[r]=e;d[u]=g;d[t]=h.default.group(h.default.bind(d[q],m.default.Lc,d.ready.bind(d)),h.default.bind(d[q],m.default.Kc,d.complete.bind(d)),h.default.bind(d[q],m.default.ja,d.dispatchEvent.bind(d)));return d}(0,n.default)(b,a);b.prototype.fp=
function(){this[t].link(h.default.group(arguments))};b.prototype.load=function(){p.debug("load");this[q].load()};b.prototype.ready=function(b){a.prototype.ready.call(this);p.debug("onEngineReady",b);this.dispatchEvent(b)};b.prototype.bc=function(){if(!this.dg()){a.prototype.bc.call(this);var b=this.ca().getType();p.debug("run","adType",b);b===g.default.Ua?this[q].pg():this[q].jr(this[r].sl)}};b.prototype.stop=function(){var b=!this.tq()&&!this.bg()&&!this.dg();p.debug("stop",b);b&&(this[q].stop(),
a.prototype.stop.call(this))};b.prototype.complete=function(b){p.debug("onEngineComplete",b);b.vk=this.ca();b.Xu=this;(this.wd()||b.data.error)&&this[u].release(this.ca());a.prototype.complete.call(this,b.data.error);this.dispatchEvent(b);this[t].N()};b.prototype.za=function(){this[q].za()};b.prototype.pause=function(){this[q].pause()};b.prototype.resume=function(){this[q].resume()};b.prototype.setVolume=function(b){a.prototype.setVolume.call(this,b);this.wd()&&this[q].setVolume(b)};b.prototype.getDuration=
function(){if(this[q].getDuration)return this[q].getDuration()};b.prototype.cb=function(){if(this[q].cb)return this[q].cb()};b.prototype.na=function(){if(this[q].na)return this[q].na()};b.prototype.yc=function(){if(this[q].yc)return this[q].yc()};b.prototype.Ob=function(){if(this[q].Ob)return this[q].Ob()};b.prototype.ca=function(){return this[q].ca()};b.prototype.qa=function(){if(this[q].qa)return this[q].qa()};return b}(f.default);d.default=a},function(c,d,a){var b=a(3)(b||{},{b:{Sg:{}}});b.b.Sg=
{nj:"id",Yr:"class"};d.vdb={b:{Sg:b.b.Sg}};d.default=b.b.Sg;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{Ub:{},Zc:{},ed:{}},f:{}});b.f=a(9).vdb.f;b.a.Zc=a(299).vdb.a.Zc;b.a.ed=a(298).vdb.a.ed;b.a.Ub=b.f.Class.extend(function(){return{K:function(a){this.Xd=a||[]},join:function(a){if(!a)return this;var c=new b.a.Ub,d=this;c.resolve=function(b){return a.resolve(d.resolve(b))};return c},resolve:function(a){if(!a)return a;for(var b=0;b<this.Xd.length;b++)a=this.Xd[b].apply(a);return a}}}());(function(a){a.create=
function(c){for(var d=[],e=0;e<arguments.length;e++){var f=arguments[e],h=f.pop();d.push(new b.a.Zc(h,f))}return new a(d)};a.Ke=function(c,d){return new a([new b.a.ed(c,d)])};a.ZB=function(b,c,e){c=c||"";e=e||"";var d=[],h;for(h in b)b.hasOwnProperty(h)&&d.push([c+h+e,b[h]]);return a.create.apply(null,d)}})(b.a.Ub);d.vdb={a:{Ub:b.a.Ub}};d.default=b.a.Ub;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{Rg:{}}});b.b.Rg={pn:"playerSizeOverride",Xz:"extrasOverride",tg:"aegOverride",WA:"videoOverride",
Lz:"companionsSettingsOverride"};d.vdb={b:{Rg:b.b.Rg}};d.default=b.b.Rg;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{a:{qb:{}}});b=c(a(29).vdb,b||{});b.a.qb=function(){var a=!1,b=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;try{a=eval("(_ => true)()")}catch(g){}if(window.Worker&&window.Promise&&a&&(window.Blob||b)){window.URL=window.URL||window.webkitURL;var c=function(a){var b=+(1E6*Math.random()).toFixed(0);return a[b]?c(a):b},e=new window.Worker(function(a){a=a.toString();
a=a.substring(a.indexOf("{")+1,a.lastIndexOf("}"));try{var c=new window.Blob([a],{type:"application/javascript"})}catch(p){window.BlobBuilder=b,c=new window.BlobBuilder,c.append(a),c=c.getBlob()}return window.URL.createObjectURL(c)}(function(){var a=this,b={},c={};a.onmessage=function(e){switch(e.data.type){case "setTimeout":b[e.data.id]=setTimeout(function(){a.postMessage({id:e.data.id,type:"setTimeout"})},e.data.timeout);break;case "clearTimeout":clearTimeout(b[e.data.id]);delete b[e.data.id];break;
case "setInterval":c[e.data.id]=setInterval(function(){a.postMessage({id:e.data.id,type:"setInterval"})},e.data.timeout);break;case "clearInterval":clearInterval(c[e.data.id]),delete c[e.data.id]}}})),d={},h={};e.onmessage=function(a){a=a.data;"setTimeout"===a.type&&d[a.id]&&(d[a.id](),delete d[a.id]);if("setInterval"===a.type&&h[a.id])h[a.id]()};return{setTimeout:function(a,b){var g=c(d);d[g]=a;e.postMessage({id:g,type:"setTimeout",timeout:b});return g},setInterval:function(a,b){var d=c(h);h[d]=
a;e.postMessage({id:d,type:"setInterval",timeout:b});return d},clearTimeout:function(a){delete d[a];e.postMessage({id:a,type:"clearTimeout"})},clearInterval:function(a){delete h[a];e.postMessage({id:a,type:"clearInterval"})}}}return{setTimeout:setTimeout.bind(window),setInterval:setInterval.bind(window),clearTimeout:clearTimeout.bind(window),clearInterval:clearInterval.bind(window)}}();d.vdb={a:{qb:b.a.qb}};d.default=b.a.qb;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{Wh:{},c:{},Promise:{},
a:{Uc:{},Tc:{},Z:{},L:{},qb:{}}});b=c(a(29).vdb,b||{});b.c=a(5).vdb.c;b.Promise=a(21).vdb.Promise;b.a.Uc=a(120).vdb.a.Uc;b.a.Tc=a(304).vdb.a.Tc;b.a.Z=a(20).vdb.a.Z;b.a.L=a(14).vdb.a.L;b.a.qb=a(159).vdb.a.qb;(function(a){function c(){var a=b.c.Za;if(window.XDomainRequest&&a.ie&&10>a.version)return new function(){var a=this,b=new XDomainRequest;a.status=0;a.readyState=0;a.setRequestHeader=function(){};a.getResponseHeader=function(a){var b="";"content-type"===a&&(b=this.mimeType);return b};a.open=function(c,
e){b.open(c,e);b.onerror=function(){a.status=499;a.responseText="";a.mimeType="";a.readyState=4;a.onreadystatechange()};b.onprogress=function(){a.readyState=2;a.onreadystatechange()};b.onload=function(){a.responseText=b.responseText;a.mimeType=b.contentType;a.readyState=4;a.onreadystatechange()};b.ontimeout=function(){a.status=408;a.responseText="";a.mimeType="";a.readyState=4;a.onreadystatechange()};b.timeout=0;a.readyState=1;a.onreadystatechange()};a.send=function(a){b.send(a)}};if("undefined"!==
typeof XMLHttpRequest)return new XMLHttpRequest;try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(p){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(p){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(p){}return!1}function d(a){if("string"!==typeof a||!a)return null;a=b.a.Z.trim(a);try{return eval("("+a+")")}catch(p){return JSON.parse(a)}}function e(a){if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");var b=new window.ActiveXObject("Microsoft.XMLDOM");
b.async="false";b.loadXML(a);return b}function f(a){a&&b.a.Uc.Pk().Sx(a)}function h(a,f){function h(){try{var a={Accept:"text/javascript, application/json, text/html, application/xml, text/xml, */*","Content-Type":"application/x-www-form-urlencoded"},b;for(b in a)Object.prototype.hasOwnProperty.call(f.headers,b)||(f.headers[b]=a[b]);f.contentType&&(f.headers["Content-Type"]=f.contentType);for(b in f.headers)Object.prototype.hasOwnProperty.call(f.headers,b)&&m.setRequestHeader(b,f.headers[b]);m.send(f.Ii)}catch(w){f.error&&
f.error()}}var m=c(),k={},l,n=!1;"undefined"===typeof f&&(f={});f.method=f.method?f.method.toLowerCase():"get";f.async=!1!==f.async;f.Ii=f.Ii||"";m.onreadystatechange=function(){if(4===m.readyState){var c=m.getResponseHeader("content-type")||"";k.status=m.status;k.text=m.responseText;/json/.test(c)?k.data=d(m.responseText):/xml/.test(c)&&(k.data=e(m.responseText));k.rg=200<=m.status&&300>m.status||304===m.status||0===m.status&&m.responseText;g.ny(m,a);k.rg?f.rg&&f.rg(k,m):f.error&&b.a.qb.setTimeout(function(){f.error(k,
m,n)},1);f.complete&&f.complete(k,m)}};try{m.open(f.method,a,f.async),"undefined"!==typeof m.withCredentials&&(m.withCredentials=!!f.withCredentials)}catch(x){}f.headers=f.headers||{};f.timeout&&(m.timeout=f.timeout,n=!1,m.ontimeout=function(){n=!0});return l={FC:function(a,b){f.headers[a]=b;return l},send:function(a,c){f.Ii=b.c.Dc(a);f.complete=c;h();return l},end:function(a){f.complete=a;h();return l},data:function(a){f.Ii=b.c.Dc(a);return l}}}var g=new b.a.Tc;a.get=function(a,c,e,d,k,l){"undefined"===
typeof l&&(l={});l.rg=e;l.error=d;l.method="get";f(a);return g.xw(a).then(function(e){-1!==b.a.L.Qe(a||"").indexOf("konduit.me")?(l.headers||(l.headers={}),l.method="post",l.headers["Content-Type"]="application/x-www-form-urlencoded",h(a,l).send({"x-cookie":e},k)):h(a,l).send(c,k)})};a.$k=function(c,e){return new b.Promise(function(b,d){a.get(c,null,b,function(a,b,c){d({response:a,request:b,pr:c})},null,e)})};a.oD=function(a,b,c,e,d,f){"undefined"===typeof f&&(f={});f.rg=c;f.error=e;f.method="post";
return h(a,f).send(b,d)}})(b.Wh);d.vdb={Wh:b.Wh};d.default=b.Wh;d.__esModule=!0},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function l(){(0,b.default)(this,l);this.Eq=this.yp=this.height=this.width=0;this.position=""};d.default=c;c.un="TOP";c.tn="RIGHT";c.qn="BOTTOM";c.sn="LEFT";c.rn="FULL"},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);
var k=b(c);c=a(57);var l=b(c);c=a(5);var n=b(c);c=a(18);var e=b(c);a=a(14);var f=b(a),h=void 0;a=function(){function a(){(0,k.default)(this,a)}a.prototype.parse=function(a,b){this.wa=b||{};this.Gu=a.transactionId;this.Rt=a.adxResult;this.Hu=a.usid;this.yu=a.rcid;this.ou=a.overlayURL;this.Fu=a.thumbnail;this.fu=a.fullsizeThumbnail;this.Mu=a.videoTitle;this.Lu=a.videoId;this.Ku=a.videoDuration;this.Ot=a.acid;this.Tt=a.asid;this.Vt=a.auid;this.Vj=a.usesShim||!1;this.xu=a.rid;this.od=Number(a.cpm);isNaN(this.od)&&
(this.od=Number(n.default.jv(a.cpm||""))||0);if(this.Bf=a.impTracker)this.Bf=this.Bf.replace(/\[ECPM\]/g,this.od||"");this.Qa=a.urls||[];a.url&&-1===this.Qa.indexOf(a.url)&&this.Qa.unshift(a.url);this.To=this.Qa.length;this.Tl();this.Vo=a.vastXml;this.ek=a.vastAds;if(a.prebidConfig)try{this.su=JSON.parse(a.prebidConfig)}catch(q){}this.j=a.config;this.io=a.adEngineType||l.default.Nn;if(!this.wh&&!this.Vo&&!this.ek&&this.io!==l.default.vn)throw Error("URL, VAST XML or Ads should be specified for each ad config entry");
this.Ju=a.vendor;this.Do=a.name;this.Bu=1E3*a.startTimeout||2147483647;this.Zd=a.type||e.default.Hd;this.hu=a.houseAd||!1;this.Cu=a.strictSiteCheck||!1;this.ru=void 0===a.pbl?!0:a.pbl;this.tu=a.profitCenter;b=a.saleforce||{};this.Wt=b.bookingId;this.ju=b.lineItemId;this.Eu=(a.trackers||{}).Impression||[];this.cu=a.extraProperties||{};return this};a.prototype.$u=function(a){this.Qa.push(a)};a.prototype.getUrl=function(){return h?h.resolve(this.wh):this.wh};a.prototype.rx=function(){return 1<this.To&&
this.To===this.Qa.length+1};a.prototype.Tl=function(){return 0<this.Qa.length?(this.wh=this.Qa.shift(),!0):!1};a.prototype.Xp=function(){var a=this,b=0;this.Qa.forEach(function(c){return b+=a.Vk(c)});return b+=this.Vk(this.wh)};a.prototype.Vk=function(a){return-1===f.default.Qe(a||"").indexOf("konduit.me")?this.wa.Ac:1E4};a.prototype.getVendor=function(){return this.Ju||""};a.prototype.ow=function(){return this.Wt||""};a.prototype.Lw=function(){return this.ju||""};a.prototype.Xw=function(){return this.tu||
""};a.prototype.getAdEngineType=function(){return this.io||""};a.prototype.getType=function(){return this.Zd||""};a.prototype.getAcid=function(){return this.Ot||""};a.prototype.getOverlayURL=function(){return this.ou||""};a.prototype.getThumbnail=function(){return this.Fu||""};a.prototype.getFullsizeThumbnail=function(){return this.fu||""};a.prototype.getVideoTitle=function(){return this.Mu||""};a.prototype.getVideoId=function(){return this.Lu||""};a.prototype.getVideoDuration=function(){return this.Ku};
a.prototype.getAsid=function(){return this.Tt||""};a.prototype.nw=function(){return this.Vt||""};a.prototype.Wk=function(){return this.Vo||""};a.prototype.getName=function(){return this.Do||""};a.prototype.Jx=function(){return this.Cu||!1};a.prototype.xx=function(){return this.hu||!1};a.prototype.Hw=function(){return h?h.resolve(this.Bf):this.Bf};a.prototype.getRuleId=function(){return this.xu};a.prototype.getTransactionId=function(){return this.Gu};a.prototype.getUsid=function(){return this.Hu};
a.prototype.Bx=function(){return this.Zd===e.default.Hd||this.Zd===e.default.Na||this.Zd===e.default.Hb};a.prototype.Fx=function(){return this.ru};a.prototype.sp=function(a){return this.Zd===a||this.Zd===e.default.Hd&&(a===e.default.Na||a===e.default.Hb)};a.prototype.da=function(a,b){if(-1===[e.default.Na,e.default.Hb,e.default.Ua].indexOf(b))throw Error("Bad type value: "+b);var c=this.clone();c.Zd=b;h=a;return c};a.prototype.clone=function(){var b=new a;n.default.Ha(this,b);return b};return a}();
d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(4);c=b(c);var l=a(18),n=b(l);l=a(306);var e=b(l);a=a(162);var f=b(a),h=c.default.B("AdConfigEntryParser");a=function(){function a(){(0,k.default)(this,a)}a.parse=function(a,b){h.debug("parse",a);switch(a.type){case n.default.Ua:return(new e.default).parse(a,b);case n.default.Na:case n.default.Hb:case n.default.Hd:case null:return(new f.default).parse(a,
b);default:throw Error("Bad ad config entry type: "+a.type);}};return a}();d.default=a},function(c,d,a){c=a(3);var b=c(b||{},{Tb:{}});b=c(a(29).vdb,b||{});b.Tb={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};d.vdb={Tb:b.Tb};d.default=b.Tb;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{V:{ub:{}},f:{},Promise:{},T:{}});
b.f=a(9).vdb.f;b.Promise=a(21).vdb.Promise;b.T=a(16).vdb.T;b.V.ub=b.f.Class.extend(function(){var a=b.T;return{K:function(a){this.jb=a.pq;this.xh=a.Bp;this.Io=a.Wq;this.Do=a.name},yk:function(){this.Yt||(this.Yt=!0,0<this.xh.length?this.jb.gl(this.xh.concat(this.Uj.bind(this))):this.Uj());return this.xa()},xa:function(){return this.Ah().xa()},Uj:function(){var a=Array.prototype.slice.call(arguments);this.Ah().resolve(this.Io.apply(null,a))},Ah:function(){this.Be||(this.Be=new a);return this.Be}}}());
d.vdb={V:{ub:b.V.ub}};d.default=b.V.ub;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{V:{Ld:{},ub:{},gc:{}},f:{},Promise:{},c:{}});b.f=a(9).vdb.f;b.V.ub=a(165).vdb.V.ub;b.V.gc=a(311).vdb.V.gc;b.Promise=a(21).vdb.Promise;b.c=a(5).vdb.c;b.V.Ld=b.f.Class.extend(function(){function a(a){var b=/\(((?:\s*\w*\s*,?)+)\)/g;(b=b.exec(a.toString()))&&(b=b[1].replace(/\s+/g,""));return b&&b.split(",")||[]}function c(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(this.resolve(a[c]));return e.all(b)}function d(c,
e,d){var f=e.ba||a(e);if(this.Cf[c]){if(this.Pj)throw Error(c+" can't be provided twice");}else e={pq:this,Bp:f,Wq:e,name:c},this.Cf[c]=d?new b.V.gc(e):new b.V.ub(e);return this}var e=b.Promise;return{K:function(){this.Cf={};this.Df={};this.Pj=!0;this.pb(b.V.Ld.sj,this)},rD:d,pb:function(a,b){this.Df[a]&&this.Pj||(this.Df[a]=b);return d.call(this,a,function(){return b})},oa:function(a,b){return d.call(this,a,b,!0)},xv:function(c){c={pq:this,Bp:c.ba||a(c),Wq:c};return(new b.V.gc(c)).yk()},gl:function(e){if(Array.isArray(e)){var d=
b.c.tv(e);var f=d.pop()}else d=e.ba||a(e),f=e;return c.call(this,d).then(function(a){return f.apply(null,a)})},JB:function(){return new b.V.es(this)},yq:function(a){return void 0!==this.Cf[a]},resolve:function(a){var c=this.Cf[a];var d=this.Cf[a+"Factory"];c?(c=c.yk(),this.Df[a]||c.then(function(b){this.Df[a]=b}.bind(this))):c=d?d.yk().then(function(a){return a()}):e.reject("no such dependency "+a);return e.race([c,b.c.py(8E3).catch(function(){throw Error(a+" isn't resolved in 8000ms");})])},zy:c,
F:function(a){a=this.Df[a];if(!a)throw Error("no instance created");return a},Ny:function(a){a=a||{};this.Pj="undefined"!==typeof a.Dp?a.Dp:!0}}}());b.V.es=b.V.Ld.extend(function(){return{K:function(a){this._super();this.$j=a},yq:function(a){return this._super(a)||this.$j.yq(a)},resolve:function(a){return this._super(a).catch(function(b){if(/no such dependency/.exec(b))b=this.$j.resolve(a);else throw b;return b}.bind(this))},F:function(a){try{return this._super(a)}catch(l){return this.$j.F(a)}}}}());
b.V.Ld.sj="injector";d.vdb={V:{Ld:b.V.Ld}};d.default=b.V.Ld;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{o:{}});b=c(a(29).vdb,b||{});(function(a){function b(a,b){a||(a=window.event);a.stop=function(){var b=a;b.preventDefault(b);b.stopPropagation(b)};"undefined"===typeof a.target&&(a.target=a.srcElement||b);a.preventDefault||(a.preventDefault=function(){a.returnValue=!1});a.stopPropagation||(a.stopPropagation=function(){a.cancelBubble=!0});a.target&&3===a.target.nodeType&&(a.target=a.target.parentNode);
var c=b.ownerDocument;c&&null==a.pageX&&null!=a.clientX&&(b=c.documentElement,c=c.body,a.pageX=a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&c.clientLeft||0),a.pageY=a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&c.clientTop||0));return a}function c(a,c){return function(e){b(e,a);return c(e)}}function e(){if(!p){document.body||setTimeout(e,13);p=!0;for(var b=0;b<a.Gl.length;b++)a.Gl[b]();a.Gl=null}}function d(){if(!p){try{document.documentElement.doScroll("left")}catch(t){setTimeout(d,
1);return}e()}}function h(a){return a.match(/:/)?a:"on"+a}var g=[],k=!1,p=!1,q;a.Gl=[];"undefined"!==typeof document&&(document.addEventListener?q=function(){document.removeEventListener("DOMContentLoaded",q,!1);e()}:document.attachEvent&&(q=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",q),e())}));(function(){if(!k)if(k=!0,"complete"===document.readyState)e();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",q,!1),window.addEventListener("load",
e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",q);window.attachEvent("onload",e);var a=!1;try{a=null==window.frameElement}catch(r){}document.documentElement.doScroll&&a&&d()}})();a.addEventListener=function(a,b,e){if(3!==a.nodeType&&8!==a.nodeType){var d=c(a,e);g.push({element:a,type:b,vi:e,Cy:d});b.match(/:/)&&a.attachEvent?a.attachEvent("ondataavailable",d):a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent&&a.attachEvent(h(b),d)}};a.dispatchEvent=function(a,
c,e){var d=a.ownerDocument||a.document;if(d.createEvent)return d=d.createEvent("HTMLEvents"),d.data=e,b(d,a),d.Fp=c,d.initEvent(c,!0,!0),!a.dispatchEvent(d);d=d.createEventObject();b(d,a);d.data=e;return c.match(/:/)?(d.Fp=c,d.Rv="ondataavailable",a.fireEvent(d.Rv,d)):a.fireEvent(h(c),d)};a.removeEventListener=function(a,b,c){if(3!==a.nodeType&&8!==a.nodeType){for(var e=0,d,f=0;f<g.length;f++)g[f].element!==a||g[f].type!==b||g[f].vi!==c?g[e++]=g[f]:d=g[f].Cy;g.length=e;c=d;document.removeEventListener?
a.removeEventListener(b,c,!1):a.detachEvent(h(b),c)}};a.WD=function(b){var c={};c.element=b;c.iD=function(a,b){a=a.split(" ");for(var c=0;c<a.length;c++)this.addEventListener(a[c],b)};c.hD=function(a,b){a=a.split(" ");for(var c=0;c<a.length;c++)this.removeEventListener(a[c],b)};c.addEventListener=function(c,e){a.addEventListener(b,c,e)};c.removeEventListener=function(c,e){a.removeEventListener(b,c,e)};return c}})(b.o);d.vdb={o:b.o};d.default=b.o;d.__esModule=!0},function(c,d,a){var b=a(89),k=a(45),
l=a(36),n=a(91),e=a(30),f=a(115),h=Object.getOwnPropertyDescriptor;d.S=a(33)?h:function(a,c){a=l(a);c=n(c,!0);if(f)try{return h(a,c)}catch(p){}if(e(a,c))return k(!b.S.call(a,c),a[c])}},function(c,d,a){var b=a(113),k=a(66).concat("length","prototype");d.S=Object.getOwnPropertyNames||function(a){return b(a,k)}},function(c,d){d.S=Object.getOwnPropertySymbols},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.default=function(a,c,e){var d=new k.default,h=document.createElement("script");
h.src=c;a.appendChild(h);h.onload=h.onreadystatechange=function(){var c=h.readyState;if(!c||"complete"===c||"loaded"===c){if(c=a.ownerDocument.defaultView.getVPAIDAd){var f=c();f?(c=e.filter(function(a){return!f[a]}),c.length?d.reject({name:c[0],type:b.default.xm}):d.resolve({creative:f,height:document.body.offsetHeight,width:document.body.offsetWidth})):d.reject({type:b.default.ln})}else d.reject({type:b.default.Pm});h.onload=null;h.onreadystatechange=null}};h.onerror=function(){return d.reject({type:b.default.ao,
url:c})};return d.xa()};var b=(c=a(109))&&c.__esModule?c:{default:c},k=(a=a(16))&&a.__esModule?a:{default:a}},function(c,d,a){var b=a(17)("iterator"),k=!1;try{var l=[7][b]();l["return"]=function(){k=!0};Array.from(l,function(){throw 2;})}catch(n){}c.exports=function(a,c){if(!c&&!k)return!1;var e=!1;try{c=[7];var d=c[b]();d.next=function(){return{done:e=!0}};c[b]=function(){return d};a(c)}catch(g){}return e}},function(c,d,a){var b=a(32),k=a(45);c.exports=function(a,c,e){c in a?b.S(a,c,k(0,e)):a[c]=
e}},function(c,d,a){var b=a(40),k=a(17)("iterator"),l=Array.prototype;c.exports=function(a){return void 0!==a&&(b.Array===a||l[k]===a)}},function(c,d,a){var b=a(31);c.exports=function(a,c,d,e){try{return e?c(b(d)[0],d[1]):c(d)}catch(f){throw c=a["return"],void 0!==c&&b(c.call(a)),f;}}},function(c,d,a){var b=a(68);c=a(35);var k=a(64),l=a(175),n=a(174),e=a(93),f=a(173),h=a(111);c(c.lc+c.hc*!a(172)(function(a){Array.from(a)}),"Array",{from:function(a){var c=k(a),d="function"==typeof this?this:Array,
g=arguments.length,t=1<g?arguments[1]:void 0,r=void 0!==t,u=0,y=h(c);r&&(t=b(t,2<g?arguments[2]:void 0,2));if(void 0==y||d==Array&&n(y))for(g=e(c.length),d=new d(g);g>u;u++)f(d,u,r?t(c[u],u):c[u]);else for(c=y.call(c),d=new d;!(g=c.next()).done;u++)f(d,u,r?l(c,t,[g.value,u],!0):g.value);d.length=u;return d}})},function(c,d,a){a(59);a(176);c.exports=a(15).Array.from},function(c,d,a){c.exports={"default":a(177),__esModule:!0}},function(c,d,a){d.__esModule=!0;var b=function(a){return a&&a.__esModule?
a:{default:a}}(a(178));d.default=function(a){if(Array.isArray(a)){for(var c=0,d=Array(a.length);c<a.length;c++)d[c]=a[c];return d}return(0,b.default)(a)}},function(c,d,a){var b=a(61),k=a(62);c.exports=function(a){return function(c,d){c=String(k(c));d=b(d);var e=c.length,h;if(0>d||d>=e)return a?"":void 0;var g=c.charCodeAt(d);return 55296>g||56319<g||d+1===e||56320>(h=c.charCodeAt(d+1))||57343<h?a?c.charAt(d):g:a?c.slice(d,d+2):(g-55296<<10)+(h-56320)+65536}}},function(c,d,a){var b=a(30),k=a(64),l=
a(60)("IE_PROTO"),n=Object.prototype;c.exports=Object.getPrototypeOf||function(a){a=k(a);return b(a,l)?a[l]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?n:null}},function(c,d,a){d=a(24).document;c.exports=d&&d.documentElement},function(c,d,a){var b=a(61),k=Math.max,l=Math.min;c.exports=function(a,c){a=b(a);return 0>a?k(a+c,0):l(a,c)}},function(c,d,a){var b=a(36),k=a(93),l=a(183);c.exports=function(a){return function(c,d,h){c=b(c);var e=k(c.length);
h=l(h,e);if(a&&d!=d)for(;e>h;){if(d=c[h++],d!=d)return!0}else for(;e>h;h++)if((a||h in c)&&c[h]===d)return a||h||0;return!a&&-1}}},function(c,d,a){var b=a(32),k=a(31),l=a(48);c.exports=a(33)?Object.defineProperties:function(a,c){k(a);for(var d=l(c),e=d.length,g=0,m;e>g;)b.S(a,m=d[g++],c[m]);return a}},function(c,d,a){var b=a(90),k=a(45),l=a(65),n={};a(34)(n,a(17)("iterator"),function(){return this});c.exports=function(a,c,d){a.prototype=b(n,{next:k(1,d)});l(a,c+" Iterator")}},function(c){c.exports=
function(c){if("function"!=typeof c)throw TypeError(c+" is not a function!");return c}},function(c,d,a){var b=a(69);c.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==b(a)?a.split(""):Object(a)}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(119);a=function(a){function b(c,d){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c,d))}(0,
n.default)(b,a);return b}(b(a).default);a.PAUSE_REQUESTED="AdManager.ContentEvent.PAUSE_REQUESTED";a.RESUME_REQUESTED="AdManager.ContentEvent.RESUME_REQUESTED";d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(119);a=function(a){function b(c,d){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c,d))}(0,n.default)(b,a);return b}(b(a).default);a.STARTED="AdManager.AdEvent.STARTED";
a.LOADED="AdManager.AdEvent.LOADED";a.VOLUME_CHANGED="AdManager.AdEvent.VOLUME_CHANGED";a.PAUSED="AdManager.AdEvent.PAUSED";a.RESUMED="AdManager.AdEvent.RESUMED";a.WAITING="AdManager.AdEvent.WAITING";a.QUARTILE="AdManager.AdEvent.QUARTILE";a.FINISHED="AdManager.AdEvent.FINISHED";a.TIME_UPDATE="AdManager.AdEvent.TIME_UPDATE";a.LINEAR_CHANGE="AdManager.AdEvent.LINEAR_CHANGE";a.SHOW_COMPANIONS="AdManager.AdEvent.SHOW_COMPANIONS";a.SUBTITLES_FOUND="AdManager.AdEvent.SUBTITLES_FOUND";a.META="AdManager.AdEvent.META";
d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(119);a=function(a){function b(c,d){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c,d))}(0,n.default)(b,a);return b}(b(a).default);a.STARTED="AdManager.AdBreakEvent.STARTED";a.FINISHED="AdManager.AdBreakEvent.FINISHED";d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a,
b){throw new g.default(a,b||m.default.Fj.code);}function l(a){a:{var b="undefined"===typeof a?"undefined":(0,e.default)(a);if("string"===b)try{if("undefined"!==typeof window.DOMParser){var c=(new window.DOMParser).parseFromString(a,"text/xml");(0<c.getElementsByTagName("parsererror").length||!c.documentElement)&&k("Invalid XML");var d=c}else"undefined"!==typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?(c=new window.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a),
0===c.parseError.errorCode&&c.documentElement||k("Invalid XML"),d=c):(k("No XML parser found"),d=void 0);break a}catch(w){q.error(w,"Invalid VAST xml",a),k("Invalid VAST: "+(w.message||w))}else{if("object"===b){d=a;break a}k("Cannot parse VAST: non-supported type",b)}d=void 0}a=d.documentElement;"VAST"!==a.nodeName&&k("Invalid VAST XML",m.default.Gj.code);d=a.getAttribute("version");-1===t.indexOf(d)&&k("Unsupported VAST version",m.default.Hj.code);return a}Object.defineProperty(d,"__esModule",{value:!0});
c=a(0);var n=b(c);c=a(105);var e=b(c);c=a(6);c=b(c);var f=a(4);f=b(f);var h=a(55),g=b(h);h=a(19);var m=b(h);a=a(269);var p=b(a),q=f.default.B("VastParser"),t=["2.0","2.0.1","3.0","4.0"],r=(0,c.default)();a=function(){function a(b){(0,n.default)(this,a);this[r]=b}a.prototype.parse=function(a){return(new p.default(this[r])).parse(l(a))};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{a:{Jg:{}},log:{},T:{},Promise:{},c:{},f:{},b:{Sc:{},i:{}},localStorage:{}});b.log=a(4).vdb.log;b.T=a(16).vdb.T;
b.Promise=a(21).vdb.Promise;b.c=a(5).vdb.c;b.f=a(9).vdb.f;b.b.Sc=a(80).vdb.b.Sc;b.b.i=a(7).vdb.b.i;b.localStorage=a(122).vdb.localStorage;b.a.Jg=b.f.Class.extend(function(){function a(a,c){f.debug("resolve with ",a,c);c&&!m&&b.localStorage.setItem("o2.autoplaydetector",a);(c=this.th)&&c.parentNode===this.Fa&&this.Fa.removeChild(c);(c=this.Kh)&&c.parentNode===this.Fa&&this.Fa.removeChild(c);this.Nj.resolve(a)}function c(){f.debug("withUrlFallback, base64");this.Fa.src="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=";
d.call(this,function(){f.debug("withUrlFallback, s3");this.Fa.src="https://cdn.vidible.tv/prod/player/apvid.mp4";d.call(this)}.bind(this))}function d(b){f.debug("tryPlay");this.Fa.volume=1;this.Fa.muted=!1;b=b||a.bind(this,g.Cm,!0);var c=a.bind(this,g.dj,!0),d=this.Fa.play();d?d.then(c,function(c){f.debug("Failed with sound",c);this.Fa.muted=!0;this.Fa.play().then(a.bind(this,g.kf,!0),b)}.bind(this)):(f.debug("No play promise"),this.Fa.paused?b():c())}function e(h){h=h||0;var l=b.localStorage.getItem("o2.autoplaydetector");
l?l===g.gs&&10>=h?b.c.rk(e.bind(this,++h)):(f.debug("received from storage",l),a.call(this,l,!1)):(f.debug("detect"),this.Fa.setAttribute("playsinline",""),this.Fa.setAttribute("webkit-playsinline",""),p?11>q?a.call(this,t?g.Cm:g.dj,!0):c.call(this):(f.debug("withSourceFallback"),this.th=document.createElement("source"),this.Kh=document.createElement("source"),this.th.setAttribute("src","data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE="),
this.th.setAttribute("type","video/mp4"),this.Kh.setAttribute("src","https://cdn.vidible.tv/prod/player/apvid.mp4"),this.Kh.setAttribute("type","video/mp4"),this.Fa.appendChild(this.th),this.Fa.appendChild(this.Kh),d.call(this)))}var f=b.log.B("AutoplayDetector"),h=b.b.i,g=b.b.Sc,m="chrome"===b.c.Za.name&&66<=b.c.Za.version,p=b.c.Za.safari,q=b.c.Za.version,t=b.c.ul();return{K:function(a){f.debug("init");this.Fa=a[h.qf];this.xo=!1;this.Nj=new b.T;e.call(this)},getCanAutoplay:function(){return this.Nj.xa()},
onUserInteraction:function(){this.xo=!0;this.Nj=new b.T;a.call(this,g.dj,!1)},EC:function(){return this.xo}}}(),[b.b.i.qf]);d.vdb={a:{Jg:b.a.Jg}};d.default=b.a.Jg;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{kh:{},ua:{},R:{}},c:{},f:{},b:{Qc:{},i:{},bd:{}}});b.c=a(5).vdb.c;b.f=a(9).vdb.f;b.b.Qc=a(18).vdb.b.Qc;b.b.i=a(7).vdb.b.i;b.b.bd=a(41).vdb.b.bd;b.a.ua=a(87).vdb.a.ua;b.a.R=a(25).vdb.a.R;b.a.kh=b.f.Class.extend(function(){function a(){var a=this.j.Ek();a=a?b.c.Ha(a):{};var c=this.j.ee(),
d=this.aa.ui(),h=this.j.Wp();c&&(a.APID=c.TD);a.width=d.width;a.height=d.height;a["p.vw.active"]=this.Zb.Cc()?1:0;a["p.vw.viewable"]=this.Zb.ge();a["p.vw.viewableOpportunity"]=this.Ud.ge();a.moatViewableOpportunity=this.Ud.sa();a.adapViewableOpportunity=this.Zb.sa();a.r=b.a.R.xc(window);a.ps="html5-vpaid"+(this.ld.cg()?",swf":"");a.sid=this.j.Yp();a.vvuid=this.j.bq().vvuid;a.lookahead=!0;h&&(a.euconsent=h.euconsent,a.gdpr=h.gdpr);return a}var c=b.b.i;return{K:function(a){this.Zb=a[c.Vb];this.Ud=a[c.Ib];
this.ld=a[c.tb];this.j=a[c.O];this.aa=a[c.La]},dC:function(){var a=this.Yk(b.b.Qc.Na),c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(a["ad."+c]=a[c],delete a[c]);a["ad.m.ssai"]=1;a["ad.ps"]="vast_only";a.ad="vrm";a.v=2;a.bcid=this.j.Gk();a.pid=this.j.ti();a.bid=this.j.Fk();return a},Yk:function(c){var d=this.aa.uc(),f={};if(d&&d.id){f.vid=d.id;f.pt=b.b.bd.Ds.toLowerCase();f.at=c?c.toLowerCase():"";c=this.j.Ek();for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&0===h.indexOf("m.vrm")&&
(f[h]=c[h])}f["p.vw.sound"]=Math.round(100*this.aa.getVolume());f.autoplayInit=this.j.lx()?1:0;return b.c.Ha(a.call(this),f)},kw:function(c){var d=this.aa.uc(),f={};d&&(f.vid=d.id,d=d.metadata||{},d.duration&&(f.t=d.duration/1E3));f.at=c?c.toLowerCase():"";return b.c.Ha(a.call(this),f)}}}(),[b.b.i.Vb,b.b.i.Ib,b.b.i.tb,b.b.i.O,b.b.i.La]);d.vdb={a:{kh:b.a.kh}};d.default=b.a.kh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{$g:{}},f:{}});b.f=a(9).vdb.f;b.a.$g=b.f.Class.extend(function(){return{K:function(a){this.window=
a},zc:function(){return this.window},eC:function(){return this.window.document}}}());d.vdb={a:{$g:b.a.$g}};d.default=b.a.$g;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{ya:{Lg:{}},X:{jc:{}},c:{},log:{},f:{}});b.X.jc=a(97).vdb.X.jc;b.c=a(5).vdb.c;b.log=a(4).vdb.log;b.f=a(9).vdb.f;b.ya.Lg=b.X.jc.extend(function(){function a(a){var b=this.aa.uc();a={action:a,vid:this.aa.Kk(),seq:b?b.Cb:""};var c=b&&"youtube"===b.UD?this.aa.ca():!1;a.asid=c?c.getAsid():b?b.metadata.asid:"";a.acid=c?c.getAcid():
b?b.metadata.acid:"";a.rid=c?c.getRuleId():"";a.vid=c?c.getVideoId():a.vid;return a}function c(b){var c=a.call(this,"ResourceLoaded"),d=this.j.Uk()||{};c.c1="ResourceLoaded";c.c2=b;c.pv=d.jsVersion;c.pt=this.j.Xf();this.ga("action.gif",c)}var d=b.log.B("BasicTracker");return{K:function(a){d.debug("init");this._super(a);b.c.Zu(c.bind(this))},click:function(a,b){d.debug("click");var c={};void 0!==a&&(c.category=a);void 0!==b&&(c.clickName=b);this.ga("click.gif",c)},display:function(a){d.debug("display");
var b=(new Date).getTime()-this.j.Gw(),c=this.j.Uk(),e=this.aa.Qk();6E4<b&&(this.Rj.Hc("player load time failure","outliers",{edt:b}),b=null);this.ga("display.gif",{dt:b,w:a.width,h:a.height,itg:e,csid:c&&c.playerTemplate&&c.playerTemplate.csid||null,sact:this.j.Re()})},action:function(b,c,h,g,l,k,n){d.debug("action",b);b=a.call(this,b);b.ct=h;c&&(b.at=c);g&&(b.adId=g.uB,b.rid=g.yD,b.txid=g.PD);l&&(b.externalId=l);k&&(b.c1=k.c1||k.sB,b.c2=k.c2||k.rB,b.c3=k.c3||k.qB);n&&(b.PollId=n.nD,b.AnswerId=n.BB);
this.ga("action.gif",b)},TB:function(a,b){d.debug("ad-fallback ("+a+", "+b+")");this.ga("ad-fallback.gif",{tB:a,DB:b.toLowerCase()})}}}());d.vdb={ya:{Lg:b.ya.Lg}};d.default=b.ya.Lg;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{X:{Ug:{},Va:{}},c:{},a:{Ta:{}},b:{i:{}},log:{}});b.X.Va=a(96).vdb.X.Va;b.c=a(5).vdb.c;b.a.Ta=a(88).vdb.a.Ta;b.b.i=a(7).vdb.b.i;b.log=a(4).vdb.log;b.X.Ug=b.X.Va.extend(function(){var a=b.b.i,c,d;return{K:function(b){this._super(b[a.O],b[a.te],b[a.Oa]);this.aa=b[a.La]},Hc:function(a,
f,h,g,l,k){var e=b.c.Ve(h)||"",m={et:a,st:f,dt:e.substring(0,3E3),ec:g||"",itg:this.aa.Qk(),sact:this.j.Re(),edt:h&&h.edt?h.edt:null};a={type:a,HD:f,pd:Array.isArray(h)&&h[0].match(/([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]/g)?b.c.Ve(h.slice(1)):e,code:g};b.c.Ve(a)!==b.c.Ve(d)?(this.ga("error.gif",m),c=void 0):(b.c.vq(c)||(c=b.a.Ta.Dv(function(){this.ga("error.gif",m)}.bind(this),l||2E3,k||!1)),c());d=b.c.Ha(a,d)},MD:function(a,c,d){a={params:a};b.c.Ha(c,a);this.Hc("no_params",void 0,a,void 0,void 0,
d)},QD:function(){this.ga("not-available.gif")}}}(),[b.b.i.La,b.b.i.O,b.b.i.te,b.b.i.Oa]);d.vdb={X:{Ug:b.X.Ug}};d.default=b.X.Ug;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{Wg:{},L:{}},f:{},c:{},localStorage:{},Ga:{Ca:{}},b:{i:{}}});b.f=a(9).vdb.f;b.c=a(5).vdb.c;b.localStorage=a(122).vdb.localStorage;b.a.L=a(14).vdb.a.L;b.Ga.Ca=a(47).vdb.Ga.Ca;b.b.i=a(7).vdb.b.i;b.a.Wg=b.f.Class.extend(function(){function a(){var a,b=d;b=[b.hg,b.Ei,b.release];for(var c=Math.min(b.length,arguments.length),
g=0;g<c;g++)b[g]>=arguments[g]?g+1<c&&b[g]===arguments[g]||(a=!0):a=!1;return a}function c(){function a(a){var b=-1;try{b=a.GetVariable("$version")}catch(m){}return b}d={hg:-1,Ei:-1,release:-1};var b=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(b){return a(b)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(b){var c="6,0,21";try{b.Dz="always",c=a(b)}catch(m){}return c}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(b){return a(b)}}];(function(){try{var a=navigator.plugins;
var c=navigator.mimeTypes}catch(t){}if(a&&0<a.length){if(c&&c["application/x-shockwave-flash"]&&c["application/x-shockwave-flash"].enabledPlugin&&c["application/x-shockwave-flash"].enabledPlugin.description){c=c["application/x-shockwave-flash"].enabledPlugin.description;c=c.split(/ +/);var e=c[2].split(/\./);a=parseInt(e[0],10);var f=parseInt(e[1],10);var l=parseInt(c[3].substr(1),10);d.hg=a;d.Ei=f;d.release=l}}else if(-1===navigator.appVersion.indexOf("Mac")&&window.execScript)for(c=-1,e=0;e<b.length&&
-1===c;e++){a=-1;try{a=new ActiveXObject(b[e].name)}catch(t){a={Ou:!0}}a.Ou||(c=b[e].version(a),-1!==c&&(l=c.split(","),a=parseInt(l[0].split(" ")[1],10),f=parseInt(l[1],10),l=parseInt(l[2],10),d.hg=a,d.Ei=f,d.release=l))}})()}var d;return{K:function(a){c();this.j=a[b.b.i.O]},wv:function(){var a=+b.localStorage.getItem("vdb-fl")||0;b.localStorage.setItem("vdb-fl",a+1);return" ("+ +(0===a)+", "+ +(0<a&&5>a)+", "+a+")"},Bw:function(){return+b.localStorage.getItem("vdb-fl")||0},cg:function(){var a=this.j.Ab(b.Ga.Ca.ks);
return this.tx()&&!this.sx()&&!a&&4>this.Bw()},tx:function(){var a=d;return 11===a.hg&&1<=a.Ei||11<a.hg},sx:function(){if("firefox"===b.c.Za.name&&39<=b.c.Za.version){if(1===b.a.L.Nb("ignoreexcludeff"))return!1;if(!a.call(this,19,0,0))return!0}return!1}}}(),[b.b.i.O]);d.vdb={a:{Wg:b.a.Wg}};d.default=b.a.Wg;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{C:{Rc:{},pa:{},yb:{}}}});b.a.C.pa=a(72).vdb.a.C.pa;b.a.C.yb=a(123).vdb.a.C.yb;b.a.C.Rc=b.a.C.pa.extend(function(){return{sa:function(a){if(!this.ib)return-1;
var c=b.a.C.yb.Qp(this.ib).M,d=c.Bb*c.rb/100;a&&c.G<a&&(d=Math.max(0,100*(c.rb*c.height/100-a+Math.max(0,c.G))/c.height));return Math.min(Math.round(d),100)}}}());d.vdb={a:{C:{Rc:b.a.C.Rc}}};d.default=b.a.C.Rc;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{C:{oh:{},pa:{},Md:{},Rc:{}}},log:{},b:{i:{}}});b.a.C.pa=a(72).vdb.a.C.pa;b.log=a(4).vdb.log;b.a.C.Md=a(124).vdb.a.C.Md;b.a.C.Rc=a(199).vdb.a.C.Rc;b.b.i=a(7).vdb.b.i;b.a.C.oh=b.a.C.pa.extend(function(){var a=b.log.B("SmartViewability");return{K:function(c){a.debug("init");
this._super(c);this.Ud=c[b.b.i.Ib];this.yo=c[b.b.i.dh];this.ko=new b.a.C.Rc(c)},Ec:function(b){a.debug("setElement",b);this._super(b);this.yo.Ec(b);this.Ud.Ec(b);this.ko.Ec(b)},sa:function(){a.debug("getVisiblePercent, try intersectionViewability");var b=this.yo.sa();-1===b&&(a.debug("moatViewability fallback"),b=this.Ud.sa(),-1===b&&(a.debug("adapVisiblePercent fallback"),b=this.ko.sa()));a.debug("visible percent",b);return b}}}(),[b.b.i.hd,b.b.i.Ib,b.b.i.dh]);d.vdb={a:{C:{oh:b.a.C.oh}}};d.default=
b.a.C.oh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{C:{gh:{},pa:{}},R:{}},U:{},T:{},b:{i:{}},Ga:{Ca:{}}});b.a.C.pa=a(72).vdb.a.C.pa;b.U=a(42).vdb.U;b.a.R=a(25).vdb.a.R;b.T=a(16).vdb.T;b.b.i=a(7).vdb.b.i;b.Ga.Ca=a(47).vdb.Ga.Ca;b.a.C.gh=b.a.C.pa.extend(function(){function a(){var a=b.a.R.Zf(window),c="moatApiInit"+ +new Date,d=new b.T,e=a.location.protocol;e=0===e.indexOf("http")?e:"https:";a[c]=function(b){d.resolve(b);a[c]=void 0};b.U.fg(e+"//"+("https:"===e?"z":"js")+".moatads.com/aolvidibleapi29384728347/moatapi.js#moatApiCallback="+
c);return d.xa()}function c(a,b){this.vh===a?this.Hf=b:b.destroy()}var d,e=b.Ga.Ca;return{K:function(c){this.ib=c[b.b.i.hd];this.j=c[b.b.i.O];this.j.Ab(e.ms)||this.j.Ab(e.ls)||(d||(d=a()),this.Ec(this.ib))},Ec:function(a){if(this.Hf){if(this.vh===a)return;this.Hf.destroy();this.Hf=null}this.vh=a;d.then(function(b){b.startTracking(a,{ready:c.bind(this,a)})}.bind(this))},sa:function(){return!this.Hf||!this.vh||3>this.vh.offsetHeight?-1:Math.min(Math.round(this.Hf.getPercentViewable()),100)},ge:function(){var a=
this.sa();return 0>a||100<a?-1:50>a?0:1}}}(),[b.b.i.hd,b.b.i.O]);d.vdb={a:{C:{gh:b.a.C.gh}}};d.default=b.a.C.gh;d.__esModule=!0},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.default=function(){return{adSettings:{adStrategy:"ADSET_BASED",aeg:[],asids:[],blockContentOnAdBlocker:!1,companions:[{height:250,keepCompanion:!1,parent:"companion1",selectorType:"id",width:300},{height:100,keepCompanion:!1,parent:"companion2",selectorType:"id",width:300},{height:90,keepCompanion:!1,parent:"companion3",
selectorType:"id",width:728}],domainOptimisation:!0,hardTimeout:7,podSize:-1,prerollInterleave:1,strictSiteCheckForAds:!1},bcid:b.default["default.bcid"],bid:{id:b.default["default.bid"]},id:b.default["default.pid"],jsVersion:"2.13.0",playerTemplate:{metaData:{}},sid:(new k.default).toString(),timestamp:+new Date}};var b=(c=a(28))&&c.__esModule?c:{default:c},k=(a=a(118))&&a.__esModule?a:{default:a}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",
{value:!0});c=a(0);var k=b(c);c=a(6);c=b(c);a=a(7);var l=b(a),n=(0,c.default)(),e=(0,c.default)(),f=(0,c.default)();a=function(){function a(b){(0,k.default)(this,a);this[e]=b[l.default.Da];this[f]=b[l.default.O].Aq()?"tbv":""}a.prototype.Hy=function(a){this[n]=a};a.prototype.uc=function(){return this[n].uc()};a.prototype.Kk=function(){return this.uc().id};a.prototype.ca=function(){return this[n].ca()};a.prototype.getVolume=function(){return this[n].getVolume()||0};a.prototype.isMuted=function(){return this[n].isMuted()};
a.prototype.ui=function(){return{height:this[e].offsetHeight,width:this[e].offsetWidth}};a.prototype.Uw=function(){var a=this.ui();return{h:a.height,w:a.width}};a.prototype.Qk=function(){return this[f]};a.prototype.Lk=function(){return this[n].Lk()};return a}();d.default=a;a.ba=[l.default.Da,l.default.O]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a,b){"function"===typeof this[H].setAttribute&&this[H].setAttribute(a,b)}function l(a){this[H]=a;this[Q]&&(this[Q].Ki(),
delete this[Q]);this[Q]=new z.default(this[H]);this[Q].addEventListener("loadstart",e,this);this[Q].addEventListener("progress",n,this);this[Q].addEventListener("timeupdate",h,this);this[Q].addEventListener("pause",g,this);this[Q].addEventListener("waiting",m,this);this[Q].addEventListener("ended",p,this);this[Q].addEventListener("abort",p,this);this[Q].addEventListener("error",q,this);this[Q].addEventListener("volumechange",t,this);this[Q].addEventListener("click",r,this);this[Q].addEventListener("playing",
f,this)}function n(){this.dispatchEvent(A.default.Et,{buffered:this[H].buffered,duration:this.getDuration(),waiting:3>this[H].readyState})}function e(){this.dispatchEvent(A.default.Ct)}function f(){var a={duration:this.getDuration()},b=this[J]===K.PAUSED,c=this[J]===K.LOADING;this[J]=K.Nd;b?this.dispatchEvent(A.default.Wn,a):(c&&(this[fa]=!0,this.dispatchEvent(A.default.Xn,a)),this.dispatchEvent(A.default.Ij,a))}function h(){this.dispatchEvent(A.default.Yn,{buffered:this.qw(),currentTime:this.getCurrentTime(),
duration:this.getDuration(),durationWithoutAds:0})}function g(){this[H].paused&&!this[H].ended&&this[H].currentTime&&(this[J]=K.PAUSED,this.dispatchEvent(A.default.Vn))}function m(){this.dispatchEvent(A.default.$n)}function p(a){this[J]!==K.IDLE&&(this[J]=K.IDLE,this.dispatchEvent(A.default.Sn,{complete:"ended"===a.type,currentTime:this.getCurrentTime()}))}function q(a){this[I]&&this[O]<this[I].length-1?(this[O]++,a=this[I][this[O]],k.call(this,"src",a),this.dispatchEvent(A.default.Un,{url:a})):(a=
(a=(a=a&&a.data&&a.data.code)||this[H].error&&this[H].error.code)||null,this.dispatchEvent(A.default.Tn,{code:a,message:"Can't play video "+this[H].currentSrc+": "+a}))}function t(){var a=this.isMuted();a||0===this[H].volume||(this[G]=this[H].volume);this.dispatchEvent(A.default.Zn,{muted:a,volume:this.getVolume()})}function r(){this.dispatchEvent(A.default.Rn)}function u(){var a=this;this[R]&&clearTimeout(this[R]);this[Q].removeEventListener("volumechange",t,this);this[R]=setTimeout(function(){a[R]=
null;a[Q].addEventListener("volumechange",t,a)},100)}function y(){E.default.vx(this[H])&&(t.call(this),u.call(this))}function x(a,b){this[I]=a;this[O]=0;l.call(this,b);k.call(this,"src",this[I][this[O]]);try{this[H].load()}catch(Z){}this[J]=K.LOADING;return!1}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var v=b(c);c=a(6);c=b(c);var w=a(125),z=b(w);w=a(145);var A=b(w);w=a(58);var B=b(w);w=a(7);var C=b(w);w=a(5);var E=b(w);w=a(126);var D=b(w);a=a(80);var F=b(a),K={Jz:"cleaning",IDLE:"idle",
LOADING:"loading",PAUSED:"paused",Nd:"playing"},L=(0,c.default)(),N=(0,c.default)(),U=(0,c.default)(),H=(0,c.default)(),P=(0,c.default)(),J=(0,c.default)(),Q=(0,c.default)(),M=(0,c.default)(),R=(0,c.default)(),G=(0,c.default)(),I=(0,c.default)(),O=(0,c.default)(),fa=(0,c.default)(),V=(0,c.default)();a=function(){function a(b){(0,v.default)(this,a);this[N]=b[C.default.qf];this[U]=b[C.default.rj];this[M]=b[C.default.Ba];this[V]=b[C.default.re];this[J]=K.IDLE;this[P]=new B.default;this[L]=new D.default;
l.call(this,this[N])}a.prototype.dispatchEvent=function(){var a;(a=this[P]).dispatchEvent.apply(a,arguments)};a.prototype.addEventListener=function(){var a;(a=this[P]).addEventListener.apply(a,arguments)};a.prototype.removeEventListener=function(){var a;(a=this[P]).removeEventListener.apply(a,arguments)};a.prototype.ni=function(){return this[H]};a.prototype.fq=function(){return this.ni()};a.prototype.ip=function(){this[J]=K.Nd;return this};a.prototype.play=function(){var a=this;this[V].getCanAutoplay().then(function(b){b===
F.default.kf&&a.mute(!0);a[H].play()})};a.prototype.setVolume=function(a){try{if(this[G]=a,this[H].volume=a,y.call(this),this[fa])this[V].onUserInteraction(null,!0)}catch(Z){}this.mute(0===a)};a.prototype.getVolume=function(){return this[G]};a.prototype.isMuted=function(){return this[H].muted||0===this.getVolume()};a.prototype.mute=function(){this[H].muted=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;if(this[fa])this[V].onUserInteraction(null,!0);y.call(this)};a.prototype.getDuration=
function(){return Math.min(Math.max(this[H].duration||0,0),1E8)};a.prototype.vc=function(){return this.getDuration()-this.getCurrentTime()};a.prototype.getCurrentTime=function(){return Math.max(Math.min(this[H].currentTime||0,this.getDuration()),0)};a.prototype.qw=function(){return this[H].buffered};a.prototype.Jk=function(){return this.getCurrentTime()/this.getDuration()||0};a.prototype.seek=function(a){if(0<=a){a=isNaN(this.getDuration())?0:Math.min(a,this.getDuration()-.5);try{this[H].currentTime=
a}catch(Z){}}};a.prototype.pause=function(){this[H].pause()};a.prototype.Jl=function(){this.isPlaying()&&this.pause();this[fa]=!1;this[J]=K.IDLE;this[M].empty(this[H]);k.call(this,"src","");"function"===typeof this[H].removeAttribute&&this[H].removeAttribute("src");this[L].next()};a.prototype.stop=function(){this[Q].removeEventListener("progress",n);this[H].pause();this[H].load()};a.prototype.Oy=function(a){return this[L].add(x.bind(this,a,this[N]))};a.prototype.My=function(a){return this[L].add(x.bind(this,
a,this[U]))};a.prototype.isPlaying=function(){return this[J]===K.Nd};a.prototype.ll=function(){return this[J]!==K.IDLE};a.prototype.Zk=function(){return this[H].parentNode&&this[H].parentNode.offsetWidth||this[H].offsetWidth||0};a.prototype.Mk=function(){return this[H].parentNode&&this[H].parentNode.offsetHeight||this[H].offsetHeight||0};a.prototype.bw=function(){return this[H].currentSrc};a.prototype.Mv=function(){this[L].empty()};return a}();d.default=a;a.ba=[C.default.qf,C.default.rj,C.default.Ba,
C.default.re]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(70);var k=b(c);c=a(0);var l=b(c);c=a(6);c=b(c);var n=a(5),e=b(n);n=a(14);var f=b(n);n=a(20);var h=b(n);n=a(28);var g=b(n);n=a(63);var m=b(n),p=a(117),q=(0,c.default)(),t=(0,c.default)(),r=(0,c.default)(),u=(0,c.default)(),y=(0,c.default)();a=function(){function a(b,c){(0,l.default)(this,a);var d={ads:g.default["adserver.url"],adt:g.default["adstracker.url"],cdn:g.default["cdn.url"],
trk:g.default["tracking.url"]},e={ads:g.default["adserver.url.secure"],adt:g.default["adstracker.url.secure"],cdn:g.default["cdn.url.secure"],imp:g.default["inlineplayer.url.secure"],trk:g.default["tracking.url.secure"]};this[q]=b.ti();this[t]=f.default.xd();var m={},p=this[t]?e:d;(0,k.default)(p).forEach(function(a){m[a]=h.default.er(c&&c[a]||p[a],"\\s/")});this[r]=m;this[y]=this[r].trk;this[u]={bcid:b.Gk(),pid:this[q]}}a.prototype.hw=function(){return this[r].ads+"/vrm?"+e.default.Dc(this[u])};
a.prototype.gw=function(){return this[r].ads+"/vrm/pods?"+e.default.Dc(this[u])};a.prototype.fw=function(){return this[r].ads+"/ads?"+e.default.Dc(this[u])};a.prototype.Ww=function(){var a=m.default.Nb("oathPlayerBuildTag",window.location.href);return(0,p.Op)(g.default["cdn.url.secure"],g.default["s3.url.secure"],a)+"prebid.js"};a.prototype.sw=function(a){return this[r].cdn+"/"+(a||"")};a.prototype.iq=function(){return this[y]};a.prototype.xd=function(){return this[t]};a.prototype.ew=function(){return this[r].ads+
"/ads/ad-start.gif"};a.prototype.iw=function(){return this[r].adt+"/ads/ad-request.gif"};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(6);c=b(c);var l=a(41),n=b(l);l=a(5);var e=b(l);l=a(14);var f=b(l);l=a(25);var h=b(l);a=a(118);var g=b(a),m=(0,c.default)(),p=(0,c.default)(),q=(0,c.default)(),t=(0,c.default)(),r=(0,c.default)(),u=(0,c.default)(),y=(0,c.default)(),x=(0,c.default)(),
v=(0,c.default)(),w=(0,c.default)(),z=(0,c.default)(),A=(0,c.default)(),B=(0,c.default)();a=function(){function a(b){(0,k.default)(this,a);this[m]=b;this[u]=this[m].timestamp;this[p]={};this[q]={};this[t]={};this[v]=!1;this[z]=this[m].macros||{};this[A]=e.default.Wv(this[z]);this[r]={vvuid:b.vvuid||(new g.default(this[u])).toString()};b=e.default.zk(this[m].queryString||"");b.orgId&&(this[y]=b.orgId);b.placementId&&(this[B]=b.placementId)}a.prototype.Yp=function(){return this[m].sid};a.prototype.Fk=
function(){return this[m].bid&&this[m].bid.id||""};a.prototype.Sk=function(){return this[p]};a.prototype.gr=function(a,b){this[p][a]=b};a.prototype.Gk=function(){return this[m].bcid};a.prototype.ti=function(){return this[m].id};a.prototype.Xf=function(){return this[m].playerType||n.default.ih};a.prototype.Gw=function(){return this[u]};a.prototype.cw=function(){return this[t]};a.prototype.Gy=function(a){this[q]=a};a.prototype.ee=function(){return this[q]};a.prototype.Vw=function(){return this[m].jsVersion};
a.prototype.getParameters=function(){var a={};e.default.Ha(this.Sp(),a);e.default.Ha(this[z],a);return a};a.prototype.Sp=function(){var a={bcid:this.Gk(),bid:this.Fk(),pid:this.ti(),pt:this.Xf(),pv:this.Vw(),r:h.default.xc(window),s:f.default.xd()?"true":void 0,sid:this.Yp(),vvuid:this[r].vvuid};this[y]&&(a.orgId=this[y]);this[B]&&(a.plcid=this[B]);return a};a.prototype.cz=function(a){e.default.Ha(a,this[t])};a.prototype.Ab=function(a){a="string"===typeof a?a.toLowerCase():a;return this[z]["m."+a]||
this[z][a]};a.prototype.Ek=function(){return this[z]};a.prototype.Yw=function(){return this[A]};a.prototype.bq=function(){return this[r]};a.prototype.dz=function(a){this[r].vvuid=a};a.prototype.Qw=function(a){return this.Sk()[a]||{}};a.prototype.Uk=function(){return this[m]};a.prototype.Aq=function(){return-1!==(this[m].queryString||"").indexOf("tbv=on")};a.prototype.pi=function(){return this[m].geo};a.prototype.Ye=function(){return this[v]||e.default.Za.Ye()};a.prototype.Cw=function(){return this[m].flashVersion};
a.prototype.Re=function(){return this[x]};a.prototype.lw=function(){return this[m].adSettings};a.prototype.bx=function(){return this[m].trackingEnabled};a.prototype.lx=function(){return this[m].autoplay};a.prototype.Yl=function(a){this[w]=a};a.prototype.Ow=function(){return this[w]};a.prototype.rq=function(){return this[m].aggressiveMode};a.prototype.Wp=function(){return this[m].GDPRData};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){var b=
void 0;switch(this.Fo){case "Per Ad":b=this.nc/1E3;break;case "Revenue Share":b=a.data.costPerImpression/1E3*this.nc}b&&this.ga("prs.gif",{amt:E.default.kv(b)})}function l(a){D.debug("trackAdRequest",a);var b={};this.nb({at:a.data.type.toLowerCase(),ps:E.default.eq(this.ld.cg()),vid:this.aa.Kk()},{},b);this.Ui(b);this.ga("ad-request.gif",b)}function n(a){D.debug("trackAdIssue",a);var b={};t.call(this,a,b);r.call(this,a,b);this.nb({},{sact:this.j.Re()},b);this.ga("ad-issue.gif",b)}function e(a){D.debug("trackAdEngineRequest",
a);var b={};t.call(this,a,b);this.Ui(b);this.nb({},{auid:a.data.auid,h:a.data.Qf,sact:this.j.Re()},b);this.ga("ad-engine-request.gif",b);this.$t&&(b.acid||b.rid)&&h.call(this,this.Qa.iw(),b)}function f(a){D.debug("trackAdEngineResponse",a);var b={};t.call(this,a,b);var c=a.data.latency/100,d=this.wa.Ac;this.nb({aert:a.data.latency,ar:a.data.Lx?"yes":a.data.timeout?"timeout":"no",fo:a.data.hz,ft:c<=this.wa.Gc?0:c<=d?1:2},{to:a.data.timeout},b);this.nb({},{auid:a.data.auid,h:a.data.Qf,sact:this.j.Re()},
b);this.ga("ad-engine-response.gif",b)}function h(a,b){var c={};E.default.Ha(this.j.getParameters(),c);E.default.Ha(b,c);a+=c?"?"+E.default.Dc(c):"";this.mo(a)}function g(a){D.debug("trackAdEngineFlow",a);var b={};t.call(this,a,b);r.call(this,a,b);var c=a.data.Tv||0;this.nb({ap:a.data.hv,atsub:"LOOKAHEAD"===a.data.mk?"SKIPPABLE_PREROLL":"",avid:a.data.Vh,cpm:a.data.od,fo:a.data.Rh&&"win"!==a.data.Rh&&"loaded"!==a.data.Rh?c:void 0,h:a.data.Qf,m:a.data.muted},{ltc:a.data.latency},b);this.Ui(b);this.nb({},
{auid:a.data.auid,sact:this.j.Re()},b);this.ga("ad-engine-flow.gif",b);b.stg===z.default.STARTED&&(b.acid||b.rid)&&h.call(this,this.Qa.ew(),b)}function m(a){D.debug("trackAdInteraction",a);var b={};t.call(this,a,b);this.nb({action:a.data.action},{},b);this.ga("ad-interaction.gif",b)}function p(a){D.debug("trackAdClick",a);var b={};t.call(this,a,b);var c=this.aa.uc();this.nb({cd:a.data.$a||"none",ct:a.data.pp,t:c&&c.time||0},{},b);this.ga("click.gif",b)}function q(a){D.debug("trackSlotOpportunity",
a);var b={};t.call(this,a,b);this.nb({atsub:"LOOKAHEAD"===a.data.mk?"SKIPPABLE_PREROLL":"",slot:a.data.kr},{},b);this.Ui(b);this.ga("slot-opp.gif",b)}function t(a,b){a=a.data||{};return this.nb({at:(a.type||"").toLowerCase()},{acid:a.acid,adIdx:a.sequence||-1,aen:a.name,asid:a.asid,itg:this.aa.Qk(),pbl:a.isPayable,pc:a.profitCenter,ps:E.default.eq(this.ld.cg()),rcid:a.ruleCompanyId,rid:a.ruleId,scope:a.isHouseAd?"ha":null,sfbid:a.bookingId,sfliid:a.lineItemId,txid:a.transactionId,usid:a.usid,v:a.vendor,
vid:this.aa.Kk(),w:a&&a.ci},b)}function r(a,b){var c=a.data;if(a=a.data.Wx){var d=a.ac;d=d&&d[0]&&d[0].mimeType||a.mimeType;a=a.rc?a.rc+" "+d:d}else a=void 0;return this.nb({crt:a||"",curl:c.url||"",stg:c.Rh},{aid:c.Qh,al:c.Su,crl:c.Sv,dt:c.pd,et:c.Pv,st:c.Ov},b)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var u=b(c);c=a(2);var y=b(c);c=a(1);var x=b(c);c=a(97);c=b(c);var v=a(8),w=b(v);v=a(51);var z=b(v);v=a(4);v=b(v);var A=a(7),B=b(A);A=a(44);var C=b(A);a=a(5);var E=b(a),D=v.default.B("AdTracker");
a=function(a){function b(c){(0,u.default)(this,b);var d=(0,y.default)(this,a.call(this,c));d.Kb=c[B.default.Ma];d.ld=c[B.default.tb];return d}(0,x.default)(b,a);b.prototype.fv=function(){this.ea||(this.ea=w.default.group(w.default.bind(this.Kb,C.default.An,k.bind(this)),w.default.bind(this.Kb,C.default.nm,l.bind(this)),w.default.bind(this.Kb,C.default.ne,n.bind(this)),w.default.bind(this.Kb,C.default.im,e.bind(this)),w.default.bind(this.Kb,C.default.Yi,f.bind(this)),w.default.bind(this.Kb,C.default.hm,
g.bind(this)),w.default.bind(this.Kb,C.default.Fb,m.bind(this)),w.default.bind(this.Kb,C.default.Ka,p.bind(this)),w.default.bind(this.Kb,C.default.rm,q.bind(this))))};b.prototype.detach=function(){this.ea&&this.ea.N()};b.prototype.Iy=function(a){this.wa=a;this.Fo=a.Yq||"None";this.nc=a.Xq;this.$t=a.Jv;"Revenue Share"===this.Fo&&(0>this.nc&&(this.nc=0),100<this.nc&&(this.nc=100),1<this.nc&&(this.nc/=100))};return b}(c.default);d.default=a;a.ba=[B.default.O,B.default.te,B.default.La,B.default.Ma,B.default.tb,
B.default.Ib,B.default.Vb,B.default.Oa]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(79);a=function(a){function b(c,d){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c,d))}(0,n.default)(b,a);b.prototype.hq=function(){return this.I("getTotalTime")};b.prototype.getCurrentTime=function(){return this.I("getCurrentTime")};b.prototype.Jk=function(){return this.I("getCurrentPercent")};
b.prototype.seek=function(a){this.I("seek",a)};b.prototype.stop=function(){this.I("stop")};b.prototype.pause=function(){this.I("pause")};b.prototype.resume=function(){this.I("resume")};b.prototype.getState=function(){return this.I("getState")};b.prototype.play=function(a){this.I("play",a)};b.prototype.ir=function(a){this.I("setSoundTransform",a)};b.prototype.hr=function(a,b){this.I("setSize",a,b)};b.prototype.Le=function(){this.fa.ty(this.Bh);this.fa.Se()};return b}(b(a).default);d.default=a},function(c,
d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(127);c=b(c);var e=a(208),f=b(e);e=a(16);var h=b(e);a=a(7);a=b(a);c=function(a){function b(c){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c))}(0,n.default)(b,a);b.prototype.Sf=function(){this.qo=["addFLVPlayer"];a.prototype.Sf.call(this,"flv-runner.swf")};b.prototype.Yu=function(){var a=this,b=new h.default;this.Ge.xa().then(function(){var c=
a.fa.addFLVPlayer();a.fa["events"+c]=a.md["events"+c];a.md["events"+c].readyCallback();c=new f.default(a,c);b.resolve(c)},b.reject.bind(b));return b.xa()};return b}(c.default);d.default=c;c.ba=[a.default.Ba,a.default.Oa,a.default.tb,a.default.Jc,a.default.La,a.default.O,a.default.Ma,a.default.Da]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){e.default.ng(this[v]);var a=this[g];this[p].forEach(function(b){try{if(a=b.frame)a.style.visibility=b.visibility,b.width?a.width=
b.width:a.removeAttribute("width"),b.height?a.height=b.height:a.removeAttribute("height"),e.default.cf(a,{height:b.Av,visibility:b.visibility,width:b.Bv})}catch(A){}});this[p]=null;e.default.cf(this[g],{height:this[t],"max-height":this[u],"max-width":this[r],position:this[y],visibility:this[x],width:this[q]})}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(6);c=b(c);var n=a(5),e=b(n);a=a(47);var f=b(a),h=(0,c.default)(),g=(0,c.default)(),m=(0,c.default)(),p=(0,c.default)(),
q=(0,c.default)(),t=(0,c.default)(),r=(0,c.default)(),u=(0,c.default)(),y=(0,c.default)(),x=(0,c.default)(),v=(0,c.default)();a=function(){function a(b,c,d){(0,l.default)(this,a);this[h]=b;this[g]=c;this[m]=d||c;b=e.default.Za.chrome&&!e.default.ul()&&45<=e.default.Za.version&&"false"!==this[h].Ab(f.default.Xr);c=500>this[g].clientWidth||300>this[g].clientHeight;if(b&&c){this[q]=this[g].style.width;this[t]=this[g].style.height;this[r]=this[g].style.maxWidth;this[u]=this[g].style.maxHeight;this[y]=
this[g].style.position;this[x]=this[g].style.visibility;b=this[g];for(this[p]=[];b;)try{c=b=b.ownerDocument.defaultView.frameElement,c===this[m].ownerDocument.defaultView.frameElement&&(this[v]=e.default.createElement("div",{"class":"vdb-chrome-hack-background",style:{backgroundColor:"#000000",height:c.clientHeight+"px",width:c.clientWidth+"px"}}),e.default.createElement("div",{"class":"vdb-player-spinner",style:{left:c.clientWidth/2-33+"px",top:c.clientHeight/2-33+"px"}},this[v]),c.parentNode.insertBefore(this[v],
c)),b&&(this[p].push({Av:b.style.height,Bv:b.style.width,frame:b,height:b.height,visibility:b.style.visibility,width:b.width}),e.default.cf(b,{height:"300px",visibility:"hidden",width:"500px"}),b.width=500,b.height=300)}catch(C){b=null}e.default.cf(this[g],{height:"300px","max-height":"","max-width":"",position:"fixed",visibility:"hidden",width:"500px"});e.default.Th(this[m].parentElement,"chrome-mode-hack-on")}}a.prototype.yy=function(){this[p]&&(k.call(this),e.default.mg(this[m].parentElement,"chrome-mode-hack-on"))};
return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c='<object width="'+a.width+'" height="'+a.height+'" id="'+a.id+'"';c=document.all?c+' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"':c+(' data="'+a.src+'" type="application/x-shockwave-flash"');c+=">";document.all&&(c+='<param name="movie" value="'+a.src+'" />');a.width=
a.height=a.id=a.src=null;a.onFail=a.version=null;(0,e.default)(a).forEach(function(b){a[b]&&(c+='<param name="'+b+'" value="'+a[b]+'" />')});var d="";(0,e.default)(b).forEach(function(a){return d+=a+"="+b[a]+"&"});d=d.slice(0,-1);c+='<param name="flashvars" value="'+d.replace(/"/g,"%5C%22")+'" />';return c+="</object>"}function l(a){var b=void 0;try{b=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(q){try{b=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version")}catch(t){try{b=
(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.6")).GetVariable("$version")}catch(r){}}}b=(b=h.exec(b))?[1*b[1],1*b[9<1*b[1]?2:3]]:[0,0];return b[0]>a[0]||b[0]===a[0]&&b[1]>=a[1]}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(70);var e=b(c);a=a(5);var f=b(a),h=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,g={allowFullScreen:!0,allowScriptAccess:"always",height:"100%",width:"100%"};a=function(){function a(){(0,n.default)(this,a)}a.Lv=function(a,b,c){b=f.default.extend(g,b);if(!l(b.version))return b.onFail();
window.attachEvent&&window.attachEvent("onbeforeunload",function(){window.pB=function(){};window.oB=function(){}});a.innerHTML=k(b,c);document.all&&(window[b.id]=document.getElementById(b.id));return a.firstChild};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a,b){a.resolve({data:{height:this.ib.offsetHeight,width:this.ib.offsetWidth},am:new g.default(this,b)})}function l(a,b){a.reject("VPAID number "+b+" failed.")}Object.defineProperty(d,"__esModule",
{value:!0});c=a(0);var n=b(c);c=a(2);var e=b(c);c=a(1);var f=b(c);c=a(127);c=b(c);var h=a(141),g=b(h);h=a(16);var m=b(h);a=a(7);a=b(a);c=function(a){function b(c){(0,n.default)(this,b);return(0,e.default)(this,a.call(this,c))}(0,f.default)(b,a);b.prototype.Sf=function(){this.qo=["addVPAID"];a.prototype.Sf.call(this,"vpaid-runner.swf")};b.prototype.Uh=function(a,b){var c=this;this.ib=a;var d=new m.default;this.Ge.xa().then(function(){try{var a=c.fa.addVPAID(b);c.fa["events"+a]=c.md["events"+a];var e=
c.md["events"+a];e.readyCallback();e.addEventListener("VPAIDWrapper.READY",k.bind(c,d,a));e.addEventListener("VPAIDWrapper.ERROR",l.bind(c,d,a))}catch(w){d.reject("Critical problem with vpaid initialisation")}},d.reject.bind(d));return d.xa()};return b}(c.default);d.default=c;c.ba=[a.default.Jc,a.default.Ba,a.default.Oa,a.default.tb,a.default.Jc,a.default.La,a.default.O,a.default.Ma,a.default.Da]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};this[t]=a.slot;this[r]=a.txid;this[u]=a.adxResult;this[y]=a.usid}function l(a,b){g.default.ma(this[w],a,e.bind(this,b)).link(this[v])}function n(a){this[x]=a.data.type;k.call(this,a.data.response);this[t]&&(this[v]&&this[v].N(),this[v]=g.default.empty(),"LOOKAHEAD"===this[u]&&l.call(this,q.default.hf,"UAX_SKIP"),l.call(this,q.default.cc,this[t]),l.call(this,q.default.pe,this[t]))}function e(a){this[w].dispatchEvent(new m.default(m.default.rm,{mk:this[u],ci:this[z].$b.offsetWidth,
kr:a,ND:this[r],type:this[x],gz:this[y]}))}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var f=b(c);c=a(6);c=b(c);var h=a(8),g=b(h);h=a(44);var m=b(h);h=a(43);var p=b(h);a=a(10);var q=b(a),t=(0,c.default)(),r=(0,c.default)(),u=(0,c.default)(),y=(0,c.default)(),x=(0,c.default)(),v=(0,c.default)(),w=(0,c.default)(),z=(0,c.default)();d.default=function C(a){(0,f.default)(this,C);this[w]=a;this[z]=a.Wf();this[w].addEventListener(p.default.LOADED,n.bind(this))}},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}function k(){var a=this,b=new m.default;window.pbjs.que.push(function(){window.pbjs.addAdUnits(z);window.pbjs.setConfig({cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}});window.pbjs.requestBids({bidsBackHandler:function(){var c=window.pbjs.adServers[a[w]].buildVideoUrl({adUnit:z,params:a[v]});b.resolve(c)}})});window.pbjs.bidderSettings={standard:{adserverTargeting:[{key:"hb_bidder",val:function(a){return a.bidderCode}},{key:"hb_adid",val:function(a){return a.adId}},
{key:"hb_pb",val:function(){return"10.00"}},{key:"hb_size",val:function(a){return a.size}}]}};return b.xa()}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var n=b(c);c=a(1);var e=b(c);c=a(6);c=b(c);var f=a(56);f=b(f);var h=a(7),g=b(h);h=a(16);var m=b(h);h=a(47);var p=b(h);a=a(5);var q=b(a),t=(0,c.default)(),r=(0,c.default)(),u=(0,c.default)(),y=(0,c.default)(),x=(0,c.default)(),v=(0,c.default)(),w=(0,c.default)(),z={bids:[],code:"video1",mediaTypes:{video:{context:"instream"}}},
A={output:"vast"};a=function(a){function b(c){(0,l.default)(this,b);var d=(0,n.default)(this,a.call(this,c)),e=c.l.ha(),f=e.F(g.default.Oa);d[x]=c.ad;d[t]=e.F(g.default.Ba);d[r]=e.F(g.default.La);d[y]=e.F(g.default.O);d[u]=f.Ww();return d}(0,e.default)(b,a);b.prototype.load=function(){var b=this,c=this[r].ui();z.sizes=[c.width,c.height];c=this[x].su;Array.isArray(c)?z.bids=c:z.bids[0]=c;this[w]=this[y].Ab(p.default.Zs)||"dfp";if(c=this[y].Ab(p.default.bt))try{c=JSON.parse(decodeURIComponent(c))}catch(F){}this[v]=
q.default.extend(A,c||{});return this[t].fg(this[u]).then(k.bind(this)).then(function(c){b[x].$u(c);b[x].Tl();return a.prototype.load.call(b,c)})};return b}(f.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(57);var e=b(c);c=a(214);var f=b(c);a=a(102);a=function(a){function b(c,d,e){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c,d,e))}(0,
n.default)(b,a);b.prototype.aq=function(){return f.default};b.prototype.getType=function(){return e.default.vn};return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){a&&window.google&&window.google.ima?(p=g.Hn,h.debug("IMA lib loaded","version",window.google.ima.VERSION)):(a=!1,p=g.ve,h.error("Failed to load IMA lib"));m.forEach(function(b){return b(a)});m=[]}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(4);c=
b(c);var n=a(28),e=b(n);a=a(5);var f=b(a),h=c.default.B("ImaLibLoader"),g={ve:"failed",LOADING:"loading",kn:"not_started",Hn:"success"},m=[],p=g.kn;a=function(){function a(){(0,l.default)(this,a)}a.load=function(a,b){this.xb=a?e.default["ima.url.secure"]:e.default["ima.url"];p===g.kn&&(h.debug("Loading IMA lib..."),p=g.LOADING,f.default.kx(this.xb,k.bind(this)));b&&(p===g.LOADING?m.push(b):p===g.Hn?b(!0):b(!1))};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}
function k(a){this.j.Ye()&&Array.prototype.slice.call(this.D.getElementsByTagName("video")).forEach(function(b){return b.muted=a})}function l(){var a=n.call(this);if(this[G]){var b=a.width,c=Math.min(this[G].width,b);a=Math.min(this[G].height,a.height);var d=this.D.style;d.position="absolute";d.bottom="0";d.width=c+"px";d.height=a+"px";d.left=(b-c)/2+"px";this[O].resize(c,a,this[V].ViewMode.NORMAL)}else this[O].resize(a.width,a.height,this[V].ViewMode.NORMAL)}function n(){var a=this.D.parentNode;
return{height:a.clientHeight,width:a.clientWidth}}function e(a){M.debug("onAdsManagerLoaded()",a);this.Xj||(this[O]=a.getAdsManager(this.A.fq()),this.ready(!0))}function f(a){a=a.getError().getMessage();this.bf(new Q.default(a,Q.default.lh));M.error("onError()",a);this.yd(A.default.LOADED)?this.gi("Unable to find suitable linear creatives"):this.complete();this.Fd(A.default.LOADED,J.default.Um,a,"IMA");h.call(this)}function h(){var a=this;M.debug("destroy()");this[R]&&this.l.removeEventListener(H.default.rf,
this[R]);this[O]&&(this[ia]&&(this[ia].N(),this[ia]=null),this[O].destroy());setTimeout(function(){a[ha]&&a[ha].destroy();a.D.parentNode&&a.D.parentNode.removeChild(a.D)},1E3)}function g(){this.qu||(this.qu=!0,M.debug("onContentPauseRequested()"),this.bp())}function m(){M.debug("onContentResumeRequested()");this.He?(this.complete(),this.D.style.setProperty("visibility","hidden")):(this.bf(new Q.default("IMA fired the event onContentResumeRequested but an ad was not started")),this.complete(),this.Fd(A.default.LOADED,
J.default.Um,"IMA fired the event onContentResumeRequested but an ad was not started","IMA"),h.call(this))}function p(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};M.debug("onAdEvent",b);var c=this[V].AdEvent.Type,d=b.getAd&&b.getAd(),e=d&&d.getDuration(),g=d&&!!d.isLinear();switch(b.type){case c.LOADED:this[aa].getCanAutoplay().then(function(c){a.setVolume(c===K.default.kf?0:a.l.getVolume());c=!!a.u.Bx();g||a.bb(U.default.cc);g!==c?(M.warn("Ignore ad. Expected "+(c?"":
"non-")+"linear ad, "+("but found "+(g?"":"non-")+"linear ad")),h.call(a)):(a.D.style.setProperty("visibility","visible"),a.hk(),g||(c=b.getAdData(),a[G]={height:c.height,width:c.width},l.call(a)))});break;case c.STARTED:this.yi();this.jk();this.setVolume(this.l.getVolume());g&&(this[I]=setInterval(y.bind(this,b,e),250));break;case c.PAUSED:this[I]&&clearInterval(this[I]);this.Yo();break;case c.RESUMED:this[I]=setInterval(y.bind(this,b,e),250);this.Zo();break;case c.CLICK:this.Xo(b.getAd().getClickThroughUrl());
break;case c.FIRST_QUARTILE:this.ia(A.default.Id);break;case c.MIDPOINT:this.ia(A.default.Aj);break;case c.THIRD_QUARTILE:this.ia(A.default.Pd);break;case c.VOLUME_CHANGED:case c.VOLUME_MUTED:this.Lf();break;case c.SKIPPED:case c.COMPLETE:this.Kf(e);this[I]&&clearInterval(this[I]);break;case c.EXPANDED_CHANGED:this.Wl(d.expanded?L.default.Tg:L.default.lf);break;case c.USER_CLOSE:this.Wl(g?L.default.Em:L.default.Ng);break;case this[V].AdErrorEvent.Type.AD_ERROR:f.call(this,b)}}function q(){var a=this[V].AdEvent.Type;
return[a.LOADED,a.STARTED,a.CLICK,a.FIRST_QUARTILE,a.MIDPOINT,a.THIRD_QUARTILE,a.SKIPPED,a.COMPLETE,a.PAUSED,a.RESUMED,a.VOLUME_CHANGED,a.VOLUME_MUTED,a.EXPANDED_CHANGED,a.USER_CLOSE,this[V].AdErrorEvent.Type.AD_ERROR]}function t(){this[Z]&&this[Z].parentNode&&this[Z].parentNode.removeChild(this[Z])}function r(a){t.call(this);M.debug("showCovering()");this[Z]=F.default.createElement("div",{backgroundColor:"#000",display:"table",height:"100%",position:"absolute",width:"100%",zIndex:100},this.D);var b=
F.default.createElement("div",{display:"table-cell",textAlign:"center",verticalAlign:"middle"},this[Z]);F.default.createElement("div",{"class":"ima-play-button"},b,'<svg version="1.1" id="Layer_2" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"\t viewBox="0 0 841.891 595.279" enable-background="new 0 0 841.891 595.279"\t xml:space="preserve"><radialGradient id="SVGID_1_" cx="428.8484" cy="299.6243" r="29.6255" gradientTransform="matrix(1 0 0 -1 -0.0552 595.1392)" gradientUnits="userSpaceOnUse">\t<stop  offset="0" style="stop-color:#FFFFFF"/>\t<stop  offset="1" style="stop-color:#000000"/></radialGradient><circle opacity="0.7" fill="url(#SVGID_1_)" enable-background="new" cx="428.794" cy="295.515" r="29.625"/><path fill="#D9D9D9" d="M428.794,263.765c-17.536,0-31.751,14.215-31.751,31.75s14.215,31.75,31.751,31.75\tc17.534,0,31.75-14.215,31.75-31.75S446.328,263.765,428.794,263.765z M428.794,325.14c-16.361,0-29.626-13.264-29.626-29.625\ts13.265-29.625,29.626-29.625c16.36,0,29.625,13.264,29.625,29.625S445.154,325.14,428.794,325.14z"/><g><g><polygon fill="#FFFFFF" points="422.169,284.64 422.169,307.64 441.044,296.14"/></g></g></svg>').addEventListener("click",
a,!1);this.D.style.setProperty("visibility","visible")}function u(){var a=this;this[ha].initialize();if(this[O]){var b=this[V].AdEvent.Type;M.debug("bind AdsManager event listeners");this[ia]=E.default.group(E.default.bind(this[O],b.CONTENT_PAUSE_REQUESTED,g.bind(this)),E.default.bind(this[O],b.CONTENT_RESUME_REQUESTED,m.bind(this)),E.default.bind(this[O],b.ALL_ADS_COMPLETED,h.bind(this)));q.call(this).forEach(function(b){return a[O].addEventListener(b,p.bind(a))});this[R]=l.bind(this);this.l.addEventListener(H.default.rf,
this[R]);try{this[O].init(this.D.offsetWidth,this.D.offsetHeight,this[V].ViewMode.NORMAL),t.call(this),this[O].start()}catch(Ka){}}else this.bf(new Q.default("Failed to obtain IMA ads manager")),M.warn("showAd()","error",this.wb),this.complete(),this.Fd(A.default.LOADED,J.default.Gs,"Failed to obtain IMA ads manager","IMA"),h.call(this)}function y(a,b){if(!this.Ob()){var c=Math.max(this[O].getRemainingTime(),0),d=Math.round(b-c);a=a.data||{};a.timeRemaining=c;a.progressPercent=d/b*100;this.bb(U.default.gb,
a)}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var x=b(c);c=a(2);var v=b(c);c=a(1);var w=b(c);c=a(6);c=b(c);var z=a(51),A=b(z);z=a(18);var B=b(z);z=a(7);var C=b(z);z=a(8);var E=b(z);z=a(4);z=b(z);var D=a(5),F=b(D);D=a(80);var K=b(D);D=a(143);var L=b(D);D=a(149);D=b(D);var N=a(10),U=b(N);N=a(84);var H=b(N);N=a(216);var P=b(N);N=a(19);var J=b(N);a=a(86);var Q=b(a),M=z.default.B("ImaEngine"),R=(0,c.default)(),G=(0,c.default)(),I=(0,c.default)(),O=(0,c.default)(),fa=(0,c.default)(),V=(0,
c.default)(),ha=(0,c.default)(),ia=(0,c.default)(),Z=(0,c.default)(),ca=(0,c.default)(),aa=(0,c.default)();a=function(a){function b(c,d,e,f){(0,x.default)(this,b);c=(0,v.default)(this,a.call(this,c,d,f));M.debug("init");d=c.l.ha();c[ca]=d.F(C.default.Oa);c[aa]=d.F(C.default.re);c.D=F.default.createElement("div",{"class":"ima-ad-container",style:"width: 100%; height: 100%; position: absolute; z-index: 1"},e.$b);c.D.style.setProperty("visibility","hidden");P.default.load(c[ca].xd());return c}(0,w.default)(b,
a);b.prototype.load=function(){var b=this;P.default.load(this[ca].xd(),function(c){if(c){a.prototype.load.call(b);b[V]=window.google.ima;b[V].settings.setVpaidMode(b[V].ImaSdkSettings.VpaidMode.INSECURE);b[V].settings.setDisableCustomPlaybackForIOS10Plus(!0);c=b.u.getType()===B.default.Na?b.A.ip().ni():null;b[ha]=new b[V].AdDisplayContainer(b.D,c);M.debug("load()","AdDisplayContainer",b[ha]);b[fa]=new b[V].AdsLoader(b[ha]);b[fa].addEventListener(b[V].AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,
e.bind(b),!1);b[fa].addEventListener(b[V].AdErrorEvent.Type.AD_ERROR,f.bind(b),!1);c=new b[V].AdsRequest;c.adTagUrl=b.u.getUrl();var d=n.call(b);c.nonLinearAdSlotWidth=d.width;c.linearAdSlotWidth=d.width;c.nonLinearAdSlotHeight=d.height;c.linearAdSlotHeight=d.height;c.setAdWillAutoPlay(b.j.Uk().autoplay);c.setAdWillPlayMuted(0===b.l.getVolume());M.debug("requestAds()",c);b[fa].requestAds(c)}else M.error("Failed to load IMA lib"),b.complete(),h.call(b)})};b.prototype.stop=function(){this.Xj=!0;a.prototype.stop.call(this);
var b=Math.round(this[O].getCurrentAd().getDuration()-this[O].getRemainingTime());this.Kf(b);h.call(this)};b.prototype.pause=function(){this[O].pause()};b.prototype.Lf=function(){var b={};b.volume=this[O].getVolume();a.prototype.Lf.call(this,{data:b})};b.prototype.resume=function(){this[O].resume()};b.prototype.setVolume=function(a){M.debug("setVolume()",a);this[O].setVolume(a);k.call(this,!a)};b.prototype.jr=function(a){var b=this,c=this.u.getType();F.default.Za.wq()&&c===B.default.Hb?(g.call(this),
r.call(this,function(){b.Ri(a);u.call(b)})):(this.Ri(a),u.call(this))};b.prototype.pg=function(){a.prototype.pg.call(this);u.call(this)};return b}(D.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(57);var e=b(c);c=a(4);c=b(c);var f=a(217),h=b(f);a=a(153);a=b(a);var g=c.default.B("ImaEngineProducer");a=function(a){function b(){(0,k.default)(this,b);return(0,
l.default)(this,a.apply(this,arguments))}(0,n.default)(b,a);b.prototype.xk=function(a){g.debug("createAdEngine",a);return new h.default(this.Dk(),this.Pp(),this.Wf(),a)};b.prototype.getType=function(){return e.default.Fs};return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){this[u].style&&(this[u].style.visibility="visible",this[u].style.display="block")}function l(a,b){B[b].call(this);a()}Object.defineProperty(d,"__esModule",{value:!0});
c=a(179);var n=b(c);c=a(0);var e=b(c);c=a(2);var f=b(c);c=a(1);var h=b(c);c=a(6);c=b(c);var g=a(129);g=b(g);var m=a(171),p=b(m);m=a(5);var q=b(m);m=a(18);var t=b(m);a=a(21);var r=b(a),u=(0,c.default)(),y=(0,c.default)(),x=(0,c.default)(),v=(0,c.default)(),w=(0,c.default)(),z=(0,c.default)(),A=(0,c.default)(),B={AdImpression:function(){this[y]===t.default.Hb&&k.call(this)},AdVideoStart:function(){k.call(this)}};a=function(a){function b(c,d,g,h,l,k){(0,e.default)(this,b);c=(0,f.default)(this,a.call(this,
c,d));c[y]=g;c[v]=h;c[w]=l;c[A]=k;return c}(0,h.default)(b,a);b.prototype.zi=function(a){var b=this;this[y]===t.default.Ua||this[y]===t.default.Hb||this[v].isPlaying()?(this[u]=q.default.vp(),this.Td.parentElement.appendChild(this[u])):(this[x]=!0,this[v].ip(),this[u]=this[v].fq());(0,p.default)(a.body,this.xb,this.lo).then(function(a){b[z]=a.creative;b.Jh.resolve({data:a,am:b})},this.Jq.bind(this))};b.prototype.I=function(b,c){var d;a.prototype.I.call(this,b,c);return this[z][b]&&(d=this[z])[b].apply(d,
(0,n.default)(c))};b.prototype.initAd=function(a,b,c,d,e){var f=q.default.createElement("div",{"class":"vpaid-content",style:"height: 100%"},this.Td.contentDocument.body),g=this[w].cw().Zy;f={companionSlots:this[A],slot:f,topOffsetPromise:g?g.xa():r.default.resolve(),videoSlot:this[u],videoSlotCanAutoPlay:!0};a=a||this[u].offsetWidth;b=b||this[u].offsetHeight;this[z].initAd(a,b,c,d,e,f)};b.prototype.subscribe=function(a,b,c){B[b]?this[z].subscribe(l.bind(this,a,b),b,c):this[z].subscribe(a,b,c)};b.prototype.unsubscribe=
function(a,b){B[b]?this[z].unsubscribe(l.bind(this,a,b),b):this[z].unsubscribe(a,b)};b.prototype.be=function(){a.prototype.be.call(this);this[x]&&this[v].Jl()};b.prototype.mute=function(a){this[u].muted=a};return b}(g.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(130);c=b(c);var e=a(219),f=b(e);e=a(7);var h=b(e);e=a(8);var g=b(e);e=a(128);var m=b(e);
a=a(5);var p=b(a);a=function(a){function b(c){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c[h.default.Ba]))}(0,n.default)(b,a);b.prototype.Uh=function(a,b,c,d,e,h){a=(new m.default(a)).oq("");a.style.pointerEvents="auto !important";a.style.position="absolute";a.style.top="0";var l=new f.default(a,b,c,d,e,h),k=a.document;a.contentDocument?k=a.contentDocument:a.contentWindow&&(k=a.contentWindow.document);p.default.Ai&&"complete"!==k.readyState?g.default.bind(k,"readystatechange",function(){"complete"===
k.readyState&&l.zi(k)}):l.zi(k);this.ro.Rf("video {    position: absolute;    width: 100%;    height: 100%;    z-index: 1;}iframe {    position: absolute;    z-index: 2;    pointer-events: auto !important;}",a.contentDocument.head);return l.gq()};return b}(c.default);a.ba=[h.default.Ba];d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];b={data:1===c.length?c[0]:c,type:a};try{this.Td.contentWindow.postMessage(b,
this[u])}catch(E){v.error("Unable to send message",b,E)}}function l(a){a.origin===this[u]&&a.data.location===this.Td.src?(a.preventDefault(),"ready"===a.data.type?(this.Jh.resolve({data:a.data.data,am:this}),n.call(this)):"error"===a.data.type?this.Jq(a.data.data):this[y][a.data.type]&&this[y][a.data.type].forEach(function(b){return b.listener(a.data)})):v.debug("Ignore message from "+a.origin)}function n(){var a=this;w.forEach(function(b){a.subscribe(function(c){Array.isArray(c.data.value)?c.data.value.forEach(function(c,
d){return a[x][b.Bd][b.Uv[d]]=c}):a[x][b.Bd]=c.data.value},b.name,null,b.he)})}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var e=b(c);c=a(2);var f=b(c);c=a(1);var h=b(c);c=a(6);c=b(c);var g=a(129);g=b(g);var m=a(121);m=b(m);var p=a(8),q=b(p);p=a(4);p=b(p);a=a(14);var t=b(a),r=(0,c.default)(),u=(0,c.default)(),y=(0,c.default)(),x=(0,c.default)(),v=p.default.B("SecureVPAID"),w=[{he:"getAdLinear",name:m.default.Mc,Bd:"isLinear"},{Uv:["width","height"],he:["getAdWidth","getAdHeight"],name:m.default.pm,
Bd:"size"},{he:"getAdExpanded",name:m.default.jm,Bd:"isExpanded"},{he:"getAdSkippableState",name:m.default.Nc,Bd:"isSkippable"},{he:"getAdDuration",name:m.default.fm,Bd:"duration"},{he:"getAdRemainingTime",name:m.default.mm,Bd:"remainingTime"},{he:"getAdVolume",name:m.default.Cg,Bd:"volume"}];a=function(a){function b(c,d){(0,e.default)(this,b);c=(0,f.default)(this,a.call(this,c,d));c[r]=q.default.empty();c[x]={size:{}};c[y]=[];return c}(0,h.default)(b,a);b.prototype.zi=function(){this[u]=t.default.ly(this.Td.src).origin;
q.default.bind(this.Td.contentWindow.parent,"message",l.bind(this)).link(this[r]);this.I("init",{url:this.xb,vpaidInterface:this.lo})};b.prototype.I=function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];a.prototype.I.call(this,c[0],c[1]);k.apply(this,[].concat(Array.prototype.slice.call(c)))};b.prototype.initAd=function(a,b,c,d,e){this.I("initAd",a,b,c,d,e,{videoSlotCanAutoPlay:!0})};b.prototype.subscribe=function(a,b,c,d){this[y][b]||(this[y][b]=[],this.I("subscribe",{eventName:b,
getter:d}));this[y][b].push({Fp:b,listener:a})};b.prototype.unsubscribe=function(a,b){this[y][b]=this[y][b].filter(function(b){return b.listener!==a});0===this[y][b].length&&this.I("unsubscribe",{eventName:b})};b.prototype.getAdVolume=function(){return this[x].volume};b.prototype.getAdSkippableState=function(){return this[x].isSkippable};b.prototype.getAdExpanded=function(){return this[x].isExpanded};b.prototype.getAdWidth=function(){return this[x].size.width};b.prototype.getAdHeight=function(){return this[x].size.height};
b.prototype.getAdDuration=function(){return this[x].duration};b.prototype.getAdLinear=function(){return this[x].isLinear};b.prototype.getAdRemainingTime=function(){return this[x].remainingTime};b.prototype.be=function(){this[y]=[];this[r].N();a.prototype.be.call(this)};b.prototype.mute=function(a){k.call(this,"mute",a)};return b}(g.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=
b(c);c=a(1);var n=b(c);c=a(130);c=b(c);var e=a(221),f=b(e),h=a(117);e=a(7);var g=b(e);e=a(28);var m=b(e);a=a(63);var p=b(a),q=0;a=function(a){function b(c){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c[g.default.Ba]))}(0,n.default)(b,a);b.prototype.Uh=function(a,b){var c=p.default.Nb("oathPlayerBuildTag",window.location.href);c=(0,h.Op)(m.default["cdn.url.secure"],m.default["s3.url.secure"],c)+"xdomain-vpaid.html?id="+q++;var d=this.ro.createElement("iframe");d.id="xdomainFrame";d.style.position=
"absolute";d.style.top=0;d.style.width="100%";d.style.height="100%";d.style.zIndex=2;d.style.pointerEvents="auto !important";d.setAttribute("allow","autoplay");b=new f.default(d,b);d.onload=b.zi.bind(b);d.src=c;a.appendChild(d);return b.gq()};return b}(c.default);a.ba=[g.default.Ba];d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){var b=this,c=a.data.thirdPartyImpressionTrackers||[];try{var d=a.data.vastModelAd.cl[0].url}catch(N){x.debug("Vast impression tracker not found where expected."),
d=null}d&&c.push(d);c.forEach(function(a){a=a.replace(v,"");var c=/&cb=[^&]*?/.test(a),d=/\?/.test(a)?"&":"?";a=c?a:""+a+d+"cb=[CACHE_BUSTER]";b[C].Nf(b[w].wc().resolve(a),!0)});E=c}function l(a){return a?0<E.filter(function(b){return a.replace(/(https?:)?/,"").replace(/&cb=[^&]*/,"").replace(/&apid=\[object\sObject]/,"&apid=[APID]").replace(/;ord=[^;]*/,";ord=[timestamp]")===b}).length:!1}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(6);c=b(c);var e=a(18),f=b(e);e=a(88);
var h=b(e);e=a(7);var g=b(e);e=a(4);e=b(e);var m=a(41),p=b(m);m=a(44);var q=b(m);m=a(71);var t=b(m);m=a(157);var r=b(m);m=a(12);var u=b(m);a=a(19);var y=b(a),x=e.default.B("VastEventHandler"),v=/https?:/,w=(0,c.default)(),z=(0,c.default)(),A=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)(),E=[];a=function(){function a(b){(0,n.default)(this,a);this[w]=b;this[z]=this[w].rd();b=this[w].ha();this[B]=b.F(g.default.Ma);this[C]=b.F(g.default.jh);this[A]=b.F(g.default.O);this[z].mx&&this[B].addEventListener(q.default.Yi,
k.bind(this))}a.prototype.kg=function(a,b){var c=this;x.debug("onVastEvent",a,b);for(var d=a;d;)x.debug("onVastEvent","process",d),d.sc.forEach(function(e){if(!l.call(c,e)){e=r.default.create(t.default.Er.concat(a.data&&a.data.Ru||c[w].cb()||"")).resolve(e);e=c[w].wc().resolve(e);if(d.type===u.default.ta){var g=y.default.uf.code;b&&b.getType()===f.default.Ua&&(g=y.default.zs.code);e=r.default.create(t.default.Fr.concat(d.data.error?d.data.error.code:g)).resolve(e)}c[C].Nf(e,!0)}}),d=d.Tp();if(a.type===
u.default.Ka)try{this[A].Xf()===p.default.ih&&this[w].Oq();var e=a.fe();x.info("Open on ad click",e);e&&h.default.iy(e)}catch(H){x.error("onVastEvent",H)}};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(76);a=function(a){function b(c,d){(0,k.default)(this,b);c=(0,l.default)(this,a.call(this,c));c.version=d;return c}(0,n.default)(b,a);return b}(b(a).default);
d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(37);a=a(224);var e=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"Error"))}(0,n.default)(b,a);b.prototype.P=function(b){var c=a.prototype.P.call(this,b);c.version=b.getAttribute("version");return c};b.prototype.Pf=function(){return new e.default};return b}(c.nh);d.default=
new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){var b=a.clone();a.Jy(b);this.dispatchEvent(b)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var n=b(c);c=a(1);var e=b(c);c=a(131);c=b(c);var f=a(52),h=b(f);f=a(27);f=b(f);var g=a(85);g=b(g);var m=a(12),p=b(m);m=a(53);m=b(m);a=a(82);var q=[p.default.jf,p.default.Rb,p.default.Ka,g.default.vf,b(a).default.Pg,m.default.Og,f.default.xf,f.default.xe,f.default.wf,f.default.se,f.default.LOADED,
f.default.hb,f.default.LINEAR_CHANGE];a=function(a){function b(){(0,l.default)(this,b);var c=(0,n.default)(this,a.call(this));c.Di=!0;c.np=null;return c}(0,e.default)(b,a);b.prototype.gv=function(a){var b=this;a.ads.forEach(function(a){return q.forEach(function(c){return a.addEventListener(c,k.bind(b))})})};b.prototype.qy=function(a,b){a.ads.forEach(function(a){b.de&&(a.de=(a.de||[]).concat(b.de));a.ab.forEach(function(a){var c=0<b.ab.length&&b.ab[0]instanceof h.default;a.vd&&0===a.vd.length&&c&&
(a.vd=a.vd.concat(b.ab[0].vd))})})};b.prototype.Gv=function(a,b){this.au||(this.au=!0,b=new p.default(p.default.ta,null,null,{error:b}),this.dispatchEvent(b),a.kg(b))};b.prototype.Fv=function(a){var b=new p.default(p.default.jf);this.dispatchEvent(b);a.kg(b)};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(137);c=b(c);var e=a(37),f=a(226),
h=b(f);a=a(11);var g=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"Wrapper",[e.Ej]))}(0,n.default)(b,a);b.prototype.P=function(b){var c=a.prototype.P.call(this,b);c.np=e.Ej.parse(g.default.gx(b));return c};b.prototype.tp=function(){return new h.default};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=
b(c);a=a(131);a=function(a){function b(){(0,k.default)(this,b);var c=(0,l.default)(this,a.call(this));c.title="";c.description="";c.bv="";c.Xy=null;return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){this.nd.replace=!0;this.nd.type=q.default.Ua;this.ey=this.ak.Sk()[m.default.tg];this.ak.gr(m.default.tg,this.nd);g.default.group(g.default.ma(this.l,h.default.LOADED,l.bind(this)),g.default.ma(this.l,h.default.ve,
l.bind(this)));this.fy=this.l.rd().Al;this.l.rd().Al="00:00:01"}function l(){this.ak.gr(m.default.tg,this.ey);this.l.rd().Al=this.fy}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(11);var e=b(c);c=a(10);var f=b(c);c=a(43);var h=b(c);c=a(8);var g=b(c);c=a(158);var m=b(c);c=a(7);var p=b(c);a=a(18);var q=b(a);a=function(){function a(b){(0,n.default)(this,a);this.nd=JSON.parse(e.default.ra(b))}a.prototype.da=function(a,b){this.l=a;b.zb(g.default.bind(a,f.default.fb,k.bind(this)));
this.ak=this.l.ha().F(p.default.O)};return a}();d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c},k=(a=a(11))&&a.__esModule?a:{default:a};d.default=function f(a,c){(0,b.default)(this,f);this.type=a.match(/([A-Z]?[^A-Z]*)/g).slice(0,-1).join("_").toLowerCase();this.value=k.default.ra(c)}},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function(){function a(c){(0,
b.default)(this,a);this.type=c.getAttribute("type")}a.prototype.da=function(a){a.rp={qD:this.type||"Equirectangular"}};return a}();d.default=c},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c},k=(a=a(11))&&a.__esModule?a:{default:a};d.default=function e(a){var c=this;(0,b.default)(this,e);this.lang=a.getAttribute("lang");this.Hv=a.getAttribute("displayText");this.Mp={};(k.default.la(a).Format||[]).forEach(function(a){return c.Mp[a.getAttribute("type")]=
k.default.ra(a)})}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a,b){var c=this;this.Ja.zb(p.default.bind(a,b,function(a){((a=a.Yf().ai)&&c.type===h.default.mf||!a&&c.type===h.default.Mg)&&c.ga()}))}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var n=b(c);c=a(1);var e=b(c);c=a(73);c=b(c);var f=a(27),h=b(f);f=a(12);var g=b(f);f=a(38);var m=b(f);a=a(8);var p=b(a);a=function(a){function b(c){(0,l.default)(this,b);return(0,n.default)(this,
a.call(this,c))}(0,e.default)(b,a);b.prototype.da=function(b,c){a.prototype.da.call(this,b,c.l);switch(this.type){case h.default.se:this.Ja.zb(p.default.ma(c,m.default.Fm,this.ga.bind(this)));break;case h.default.mf:case h.default.Mg:k.call(this,c.ad,g.default.Ka)}};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){return this.ad.de.filter(function(a){return a.type===p.default.Zm})[0]}function l(a,b){var c=this;this.Ja.zb(t.default.bind(this.l,
a,function(){clearTimeout(c.hp);c.hp=setTimeout(c.ga.bind(c),c.timeout);c.Ja.zb(t.default.ma(c.l,b,n.bind(c)));c.Ja.zb(t.default.bind(c.l,q.default.fb,n.bind(c)))}))}function n(){clearTimeout(this.hp)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var e=b(c);c=a(2);var f=b(c);c=a(1);var h=b(c);c=a(73);c=b(c);var g=a(27),m=b(g);g=a(74);var p=b(g);g=a(10);var q=b(g);a=a(8);var t=b(a);a=function(a){function b(c){(0,e.default)(this,b);return(0,f.default)(this,a.call(this,c))}(0,h.default)(b,
a);b.prototype.da=function(b,c,d,e){this.ad=c;this.$b=d;a.prototype.da.call(this,b,e);if(b=k.call(this))this.timeout=b.qq[this.type];if(!this.timeout)switch(this.type){case m.default.km:this.timeout=5E3;break;case m.default.sm:this.timeout=7E3;break;case m.default.Am:this.timeout=3E4}switch(this.type){case m.default.km:l.call(this,q.default.fc,q.default.ja);break;case m.default.sm:l.call(this,q.default.ja,q.default.gb);break;case m.default.Am:l.call(this,q.default.ug,q.default.ja)}};return b}(c.default);
d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){"url"===this.By?(this.value=this.l.wc().resolve(this.value),this.U.fg(this.value)):this.Lh=this.U.jx(this.value)}function l(){this.Lh&&this.Lh.parentNode&&this.Lh.parentNode.removeChild(this.Lh)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(7);var e=b(c);c=a(8);var f=b(c);c=a(22);var h=b(c);c=a(10);var g=b(c);c=a(12);var m=b(c);a=a(11);var p=b(a);a=function(){function a(b){(0,n.default)(this,
a);this.By=b.getAttribute("resourceType");this.event=b.getAttribute("event");this.value=p.default.ra(b)}a.prototype.da=function(a,b,c,d){this.$b=c;this.l=d;this.U=d.ha().F(e.default.Ba);a.zb(f.default.bind(d,g.default.fb,l.bind(this)));this.event===h.default.Rb?a.zb(f.default.bind(b,m.default.Rb,k.bind(this))):k.call(this)};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{ya:{ob:{ic:{}}}});b.ya.ob.ic={wg:"AdImpression",Ag:"AdVideoStart",Cg:"AdVolumeChange",xg:"AdVideoComplete",Gb:"AdPaused",
Zi:"AdPlaying",yg:"AdVideoFirstQuartile",zg:"AdVideoMidpoint",Bg:"AdVideoThirdQuartile"};c=b.ya.ob.ic;c.ht={q1:c.yg,q2:c.zg,q3:c.Bg};d.vdb={ya:{ob:{ic:b.ya.ob.ic}}};d.default=b.ya.ob.ic;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{ya:{ob:{Kg:{},ic:{}}},f:{},log:{},o:{Y:{}},a:{L:{}},c:{},T:{}});b.ya.ob.ic=a(236).vdb.ya.ob.ic;b.f=a(9).vdb.f;b.log=a(4).vdb.log;b.o.Y=a(8).vdb.o.Y;b.a.L=a(14).vdb.a.L;b.c=a(5).vdb.c;b.T=a(16).vdb.T;b.ya.ob.Kg=b.f.Class.extend(function(){var a=b.log.B("vdb.reporting.moat.BaseTracker"),
c=""!==b.a.L.Nb("moatdebug"),d=b.ya.ob.ic;return{K:function(c,d,h,g,l,k){a.debug("Init Moat tracking");this.aa=k;this.Jb=h;this.Eo=c;this.Qd=l;this.Ew=d;g&&(this.Sl=b.o.Y.bind(this.Jb,g,this.zv.bind(this)))},zv:function(e){a.debug("Creating new Moat API instance");this.zp();this.ea=b.o.Y.empty();this.Co=new b.T;var f=isFinite(e.data.duration)?e.data.duration:-1,h=this.aa.uc(),g=h&&h.videoUrls&&h.videoUrls[0];e=this.Ew(h,e);c&&a.warn("MOAT: ",e);this.yv(e,f,g);this.hx();this.Lj();this.me(d.wg);this.me(d.Ag)},
yv:function(a,b,c){this.Ee="_moatApi"+Math.floor(1E8*Math.random());this.Zj={adData:{ids:a,duration:b||0,url:c||"no-video"},dispatchEvent:function(a){this.sendEvent(a)}};a=this.Qd.ownerDocument;this.fk=a.defaultView||a.parentWindow;this.fk[this.Ee]=this.Zj},hx:function(){var a=window.location.protocol;a=0===a.indexOf("http")?a:"https:";a=a+"//"+("https:"===a?"z":"js")+".moatads.com/"+this.Eo+"/moatvideo.js#"+this.Ee;this.oc=document.createElement("script");this.oc.type="text/javascript";this.Qd.insertBefore(this.oc,
this.Qd.childNodes[0]||null);this.oc.src=a;this.oc.onload=function(){this.Co.resolve();b.c.rk(function(){[].forEach.call(document.querySelectorAll('[id^="MoatPx"]'),function(a){a.tabIndex=-1})})}.bind(this)},me:function(b){b={type:b,adVolume:this.aa.getVolume()};c&&a.warn("MOAT:",this.Eo,b);this.Co.xa().then(this.Zj.dispatchEvent.bind(this.Zj,b))},zp:function(){this.Au&&(this.Sl&&this.Sl.N(),this.Sl=null);if(this.Ee)try{delete this.fk[this.Ee]}catch(e){this.fk[this.Ee]=void 0}this.oc&&this.oc.parentNode&&
this.oc.parentNode.removeChild(this.oc);this.ea&&this.ea.N();this.oc=this.Ee=void 0},Sy:function(a){this.Au=a},Lj:function(){this.Eh=!1},nu:function(){this.me(d.Cg)},ku:function(){this.me(d.xg);this.zp()},lu:function(){this.Eh=!0;this.me(d.Gb)},mu:function(){this.Eh&&(this.Eh=!1,this.me(d.Zi))},zu:function(a){(a=d.ht[a])&&this.me(a)}}}());d.vdb={ya:{ob:{Kg:b.ya.ob.Kg}}};d.default=b.ya.ob.Kg;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){this.zu(a.data.adStage)}
Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var n=b(c);c=a(1);var e=b(c);c=a(10);var f=b(c);c=a(8);var h=b(c);a=a(237);a=function(a){function b(c,d,e,g,h){(0,l.default)(this,b);return(0,n.default)(this,a.call(this,c,d,g,f.default.ja,e,h))}(0,e.default)(b,a);b.prototype.Lj=function(){a.prototype.Lj.call(this);this.Eh=!1;h.default.bind(this.Jb,f.default.Oc,this.nu.bind(this)).link(this.ea);h.default.bind(this.Jb,f.default.fb,this.ku.bind(this)).link(this.ea);h.default.bind(this.Jb,
f.default.Gb,this.lu.bind(this)).link(this.ea);h.default.bind(this.Jb,f.default.oe,this.mu.bind(this)).link(this.ea);h.default.bind(this.Jb,f.default.$i,k.bind(this)).link(this.ea)};return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){return{level1:this.orgId,level2:this.campaignId,level3:this.adId,level4:this.marketplaceId,partnerCode:"aolonebuyervideoflashint2012897410256",slicer1:this.pageUrl,viewMode:"normal",zMoatParams:this.params}}
Object.defineProperty(d,"__esModule",{value:!0});c=a(70);var l=b(c);c=a(0);var n=b(c);c=a(238);var e=b(c);c=a(11);var f=b(c);a=a(7);var h=b(a);a=function(){function a(b){var c=this;(0,n.default)(this,a);this.params=this.pageUrl=this.marketplaceId=this.adId=this.campaignId=this.orgId="";var d=f.default.la(b);(0,l.default)(d).forEach(function(a){return c[a]=f.default.ra(d[a][0])})}a.prototype.da=function(a){this.params&&(this.params=a.wc().resolve(this.params));var b=a.ha().F(h.default.Da),c=a.ha().F(h.default.La);
(new e.default("aolonebuyervideoflashint2012897410256",k.bind(this),b,a,c)).Sy(!0)};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(6);c=b(c);var l=a(10),n=b(l);l=a(7);var e=b(l);a=a(8);var f=b(a),h=(0,c.default)();a=function(){function a(b,c){var d=this;(0,k.default)(this,a);this.mr={};this[h]=c;b.forEach(function(a){d.mr[a.lang]={displayText:a.Hv,formats:a.Mp}})}a.prototype.da=function(){var a=
this,b=this[h].F(e.default.Ma);f.default.ma(b,n.default.pe,function(){b.dispatchEvent(new n.default(n.default.um,null,{subtitles:a.mr}))})};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){return this.type===a.type}function l(a){t.debug("loadViewabilityBeaconScript",a);a=this.Ti.filter(k,{type:a})[0];a.da(this.Ja,this.l);a.ga()}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var e=b(c);c=a(1);var f=b(c);c=a(6);c=b(c);
var h=a(73);h=b(h);var g=a(27),m=b(g);g=a(148);var p=b(g);g=a(4);g=b(g);a=a(7);var q=b(a),t=g.default.B("ViewabilityBeacon"),r=(0,c.default)();a=function(a){function b(c,d,f){(0,n.default)(this,b);t.debug("init");var g=(0,e.default)(this,a.call(this));g.Ja=c;g.Ti=d;g.l=f;d=f.ha();c=d.F(q.default.Ma);d=d.F(q.default.Vb);g[r]=new p.default(c,d);g[r].fr(l.bind(g,m.default.xf),l.bind(g,m.default.xe),l.bind(g,m.default.wf));return g}(0,f.default)(b,a);b.prototype.N=function(){this[r].N()};return b}(h.default);
d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this;this.scripts.forEach(function(b){return b.da(a.Ja,a.ad,a.$b,a.l)})}function l(){var a=this;this.qr.forEach(function(b){return b.da(a.Ja,a.ad,a.$b,a.l)})}function n(){var a=this;this.xp.forEach(function(b){return b.da(a.Ja,a.iz)})}function e(){var a=this;this.Wo.forEach(function(b){return b.da(a.l)})}function f(){var a=this;this.Uf.forEach(function(b){return b.da(a.l)})}function h(){x.debug("unbindEvents");
this.Ja&&(this.Ja.N(),this.Ja=null);this.$l&&(this.$l.N(),this.$l=null)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var g=b(c);c=a(8);var m=b(c);c=a(104);var p=b(c);c=a(4);c=b(c);var q=a(10),t=b(q);q=a(74);var r=b(q);q=a(241);var u=b(q);a=a(240);var y=b(a),x=c.default.B("VastExtension");a=function(){function a(){(0,g.default)(this,a);this.type=null;this.qq={};this.scripts=[];this.qr=[];this.xp=[];this.Ti=[];this.Wo=[];this.kp=[];this.ol=null;this.Uf=[]}a.prototype.da=function(a){x.debug("prepare",
this.type);this.Ja=new p.default;this.iz=a;this.l=a.l;this.$b=a.Zv();this.ad=a.ad;switch(this.type){case r.default.Bn:k.call(this);break;case r.default.Jn:l.call(this);break;case r.default.Sm:this.$l=new u.default(this.Ja,this.Ti,this.l);break;case r.default.Im:n.call(this);break;case r.default.dm:e.call(this);break;case r.default.Dm:(new y.default(this.kp,this.l.ha())).da();break;case r.default.In:this.Pu.da(this.ad);break;case r.default.en:this.ol&&this.ol.da(this.l,this.Ja);break;case r.default.wj:f.call(this)}m.default.ma(this.l,
t.default.fb,h.bind(this))};return a}();d.default=a},function(c,d,a){var b=a(35),k=a(15),l=a(46);c.exports=function(a,c){var d=(k.Object||{})[a]||Object[a],e={};e[a]=c(d);b(b.lc+b.hc*l(function(){d(1)}),"Object",e)}},function(c,d,a){var b=a(64),k=a(48);a(243)("keys",function(){return function(a){return k(b(a))}})},function(c,d,a){a(244);c.exports=a(15).Object.keys},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:
[]).forEach(function(b){return a.push(new A.default(b))});return a}function l(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(b){return a.push(new B.default(b))});return a}function n(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(b){return a.push(new z.default(b))});return a}function e(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(b){return a.push(new C.default(b))});return a}
function f(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b={};(0,r.default)(a).forEach(function(c){c=new F.default(c,a[c][0]);b[c.type]=c.value});return b}function h(a){var b=[];(L.default.la(a).AdChrome||[]).forEach(function(a){"MoatChrome"===a.getAttribute("type")&&b.push(new w.default(a))});return b}function g(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(b){return a.push(new E.default(b))});return a}function m(){return new D.default(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:[])}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var p=b(c);c=a(2);var q=b(c);c=a(1);var t=b(c);c=a(70);var r=b(c);c=a(26);c=b(c);var u=a(242),y=b(u);u=a(132);var x=b(u);u=a(74);var v=b(u);u=a(239);var w=b(u);u=a(73);var z=b(u);u=a(235);var A=b(u);u=a(234);var B=b(u);u=a(233);var C=b(u);u=a(232);var E=b(u);u=a(231);var D=b(u);u=a(230);var F=b(u);u=a(229);var K=b(u);a=a(11);var L=b(a);a=function(a){function b(){(0,p.default)(this,b);return(0,
q.default)(this,a.call(this,"Extension"))}(0,t.default)(b,a);b.prototype.P=function(a){var b=new y.default;b.type=a.getAttribute("type");var c=L.default.la(a);switch(b.type){case v.default.Bn:b.scripts=k(c.Script);break;case v.default.Zm:b.qq=f(c);break;case v.default.Jn:b.qr=l(c.Beacon);break;case v.default.Sm:b.Ti=n(c.Beacon);break;case v.default.Im:b.xp=e(c.Beacon);break;case v.default.dm:b.Wo=h(c.AdChromes[0]);break;case v.default.en:b.ol=new K.default(a);break;case v.default.Dm:b.kp=g(c.Caption);
break;case v.default.In:b.Pu=m(c.Projection[0]);break;case v.default.wj:b.Uf.push(new x.default(c.Feacons))}return b};b.prototype.df=function(a){return a&&a.nodeName===this.td()};return b}(c.default);d.default=new a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.NONE=d.wm=d.Hd=void 0;var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function n(a){(0,b.default)(this,n);this.value=""+a};d.Hd=new c("ALL");d.wm=new c("ANY");d.NONE=new c("NONE")},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(133);a=function(a){function b(){(0,k.default)(this,b);var c=(0,l.default)(this,a.call(this));c.ev=null;c.dv=null;c.$o="";c.cv="";c.Eb=[];return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=
b(c);c=a(134);c=b(c);var e=a(37),f=a(75),h=a(248),g=b(h);a=a(11);var m=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"Companion",[e.gj,f.hj]))}(0,n.default)(b,a);b.prototype.P=function(b){var c=a.prototype.P.call(this,b);c.ev=b.getAttribute("assetWidth");c.dv=b.getAttribute("assetHeight");c.$o=b.getAttribute("adSlotID");b=m.default.bl(b);var d=b.AltText;d&&(c.cv=m.default.ra(d));if(b=b.TrackingEvents){var e=this.tc("Tracking");(m.default.la(b).Tracking||
[]).forEach(function(a){return c.Eb.push(e.parse(a))})}return c};b.prototype.up=function(){return new g.default};b.prototype.Hk=function(){return e.gj.td()};b.prototype.Ik=function(){return f.hj.td()};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(26);c=b(c);var e=a(249),f=b(e);e=a(78);var h=b(e),g=a(247);a=a(11);var m=b(a);a=function(a){function b(){(0,
k.default)(this,b);return(0,l.default)(this,a.call(this,"CompanionAds",[f.default]))}(0,n.default)(b,a);b.prototype.P=function(a){var b=new h.default,c=a.getAttribute("required");switch(String(c)){case "all":b.required=g.Hd;break;case "any":b.required=g.wm;break;case "none":b.required=g.NONE}if(c=m.default.la(a,["Companion"]).Companion)b.Qu=a.outerHTML,c.forEach(function(a){return b.ai.push(f.default.parse(a))});return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(133);a=function(a){function b(){(0,k.default)(this,b);var c=(0,l.default)(this,a.call(this));c.le=!0;c.gg=!0;c.Fq=null;return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function l(){(0,b.default)(this,l);this.type=null;
this.value=this.mimeType=""}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});d.Rm=d.Tm=d.Fn=void 0;c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(77);c=b(c);var e=a(252),f=b(e);e=a(83);a=a(11);var h=b(a);a=function(a){function b(c,d){(0,k.default)(this,b);c=(0,l.default)(this,a.call(this,c));c.wu=d;return c}(0,n.default)(b,a);b.prototype.P=function(a){var b=new f.default;b.type=this.wu;b.value=h.default.ra(a);b.mimeType=
a.getAttribute("creativeType");return b};return b}(c.default);d.Fn=new a("StaticResource",e.sf);d.Tm=new a("IFrameResource",e.bh);d.Rm=new a("HTMLResource",e.Zg)},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(134);c=b(c);var e=a(37),f=a(75),h=a(251),g=b(h);a=a(5);var m=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"NonLinear",
[e.tj,f.uj]))}(0,n.default)(b,a);b.prototype.P=function(b){var c=a.prototype.P.call(this,b),d=b.getAttribute("scalable");c.le=d?"true"===d||0<parseInt(d):!0;d=b.getAttribute("maintainAspectRatio");var e="true"===d||0<parseInt(d);c.gg=d?e:!0;b=b.getAttribute("minSuggestedDuration");c.Fq=b?m.default.gf(b):NaN;return c};b.prototype.up=function(){return new g.default};b.prototype.Hk=function(){return e.tj.td()};b.prototype.Ik=function(){return f.uj.td()};return b}(c.default);d.default=new a},function(c,
d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(26);c=b(c);var e=a(98),f=b(e);e=a(254);var h=b(e);e=a(139);var g=b(e);a=a(11);var m=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"NonLinearAds",[f.default,h.default]))}(0,n.default)(b,a);b.prototype.P=function(a){var b=new g.default;a=m.default.la(a);var c=a.NonLinear;c&&c.forEach(function(a){return b.Gq.push(h.default.parse(a))});
(a=a.TrackingEvents)&&(m.default.la(a[0]).Tracking||[]).forEach(function(a){return b.Eb.push(f.default.parse(a))});return b};return b}(c.default);d.default=new a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function l(){(0,b.default)(this,l);this.value="";this.oz=!1}},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function l(){(0,
b.default)(this,l);this.height=this.width=null;this.Zl=this.uk=this.tk=this.lr=this.Wi=this.Vi="";this.duration=this.offset=null}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(26);c=b(c);var e=a(257),f=b(e);e=a(11);var h=b(e);a=a(5);var g=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"Icon"))}(0,n.default)(b,a);b.prototype.P=
function(a){var b=new f.default;b.width=+a.getAttribute("width")||0;b.height=+a.getAttribute("height")||0;b.Vi=+a.getAttribute("xPosition")||a.getAttribute("xPosition");b.Wi=+a.getAttribute("yPosition")||a.getAttribute("yPosition");b.offset=g.default.gf(a.getAttribute("offset")||"");b.duration=g.default.gf(a.getAttribute("duration")||"");a=h.default.la(a);var c=h.default.la(a.IconClicks[0]),d=c.IconClickThrough&&c.IconClickThrough[0];c=c.IconClickTracking&&c.IconClickTracking[0];a.StaticResource&&
a.StaticResource[0]&&(b.lr=h.default.ra(a.StaticResource[0]).trim());a.IconViewTracking&&a.IconViewTracking[0]&&(b.Zl=h.default.ra(a.IconViewTracking[0]).trim());d&&(b.tk=h.default.ra(d).trim());c&&(b.uk=h.default.ra(c).trim());return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(76);a=function(a){function b(c,d,e){(0,k.default)(this,
b);c=(0,l.default)(this,a.call(this,c));c.type=d;c.offset=e;return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(136);a=function(a){function b(c,d){(0,k.default)(this,b);c=(0,l.default)(this,a.call(this,c,d));c.Ap=null;c.mimeType="";c.width=null;c.height=null;c.uv="";c.Yh=null;c.Yx=null;c.Vx=null;c.le=!0;c.gg=!0;c.rc=
"";return c}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.xn=d.Gn=void 0;var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function n(a){(0,b.default)(this,n);this.type=""+a};d.Gn=new c("STREAMING");d.xn=new c("PROGRESSIVE")},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(75);var e=
a(261);a=a(260);var f=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"MediaFile"))}(0,n.default)(b,a);b.prototype.P=function(b){var c=a.prototype.P.call(this,b);switch(String(b.getAttribute("delivery"))){case "streaming":c.Ap=e.Gn;break;case "progressive":c.Ap=e.xn}var d=b.getAttribute("height");c.height=isNaN(d)?0:d;d=b.getAttribute("width");c.width=isNaN(d)?0:d;c.uv=b.getAttribute("codec");c.Yh=b.getAttribute("bitrate");c.Yx=b.getAttribute("minBitrate");
c.Vx=b.getAttribute("maxBitrate");d=b.getAttribute("scalable");c.le=d?"true"===d||0<parseInt(d):!0;c.gg="true"===b.getAttribute("maintainAspectRatio");c.mimeType=b.getAttribute("type");c.rc=b.getAttribute("apiFramework");return c};b.prototype.Pf=function(){return new f.default};return b}(c.an);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(262);var e=b(c);
c=a(26);c=b(c);var f=a(98),h=b(f),g=a(75);f=a(258);var m=b(f);f=a(135);var p=b(f);f=a(52);var q=b(f);f=a(11);var t=b(f);a=a(5);var r=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"Linear",[h.default,g.ej,g.fj,g.kj,e.default,m.default,p.default]))}(0,n.default)(b,a);b.prototype.P=function(a){var b=new q.default,c=t.default.bl(a);if(a=a.getAttribute("skipoffset"))b.Dd=!0,"%"===a.slice(-1)?b.Oi=Number(a.slice(0,-1)):b.Pi=r.default.gf(a);a=t.default.ra(c.Duration);
b.duration=a?r.default.gf(a):NaN;if(a=c.AdParameters)b.parameters=p.default.parse(a);(a=c.TrackingEvents)&&(t.default.la(a).Tracking||[]).forEach(function(a){return b.Eb.push(h.default.parse(a))});if(a=c.VideoClicks){a=t.default.la(a);var d=a.ClickThrough;d&&(d=d[0])&&(b.$a=g.ej.parse(d));(d=a.ClickTracking)&&d.forEach(function(a){return b.op.push(g.fj.parse(a))});if(a=a.CustomClick)if(a=a[0])b.Cv=g.kj.parse(a)}(a=c.Icons)&&(a=t.default.la(a).Icon)&&a.forEach(function(a){return b.vd.push(m.default.parse(a,
!0))});c=c.MediaFiles;(c&&t.default.la(c).MediaFile||[]).forEach(function(a){(a=e.default.parse(a))&&b.tl.push(a)});return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(26);c=b(c);var e=a(263),f=b(e);e=a(255);var h=b(e);a=a(250);var g=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"Creative",
[f.default,h.default,g.default]))}(0,n.default)(b,a);b.prototype.P=function(a){var b=this,c=null;[].slice.call(a.childNodes).forEach(function(d){var e=b.tc(d.nodeName);e&&(c=e.parse(d))&&(c.id=a.getAttribute("id"),d=a.getAttribute("sequence"),c.Cb=isNaN(d)?0:d,c.Tu=a.getAttribute("adID")||a.getAttribute("AdID"))});return c};return b}(c.default);d.default=new a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=
function l(){(0,b.default)(this,l);this.name=this.version=""}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(77);c=b(c);var e=a(265),f=b(e);a=a(11);var h=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"AdSystem"))}(0,n.default)(b,a);b.prototype.P=function(a){var b=new f.default;b.version=a.getAttribute("version");b.name=h.default.ra(a);
return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(137);c=b(c);var e=a(37),f=a(228),h=b(f);a=a(11);var g=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,"InLine",[e.Bj]))}(0,n.default)(b,a);b.prototype.P=function(b){var c=a.prototype.P.call(this,b);b=g.default.bl(b);c.title=g.default.ra(b.AdTitle);
c.description=g.default.ra(b.Description);c.bv=g.default.ra(b.Advertiser);c.Xy=e.Bj.parse(b.Survey);return c};b.prototype.tp=function(){return new h.default};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(26);c=b(c);var e=a(267),f=b(e);a=a(227);var h=b(a);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,
"Ad",[f.default,h.default]))}(0,n.default)(b,a);b.prototype.P=function(a){var b=null,c=a.firstElementChild,d=this.tc(c.nodeName);d&&(b=d.parse(c),b.id=a.getAttribute("id"),a=a.getAttribute("sequence"))&&(b.Cb=+a);return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);var e=a(26);e=b(e);var f=a(268),h=b(f);f=a(225);var g=b(f);
f=a(152);var m=b(f);f=a(74);var p=b(f);f=a(132);var q=b(f);a=a(11);var t=b(a),r=(0,c.default)();a=function(a){function b(c){(0,k.default)(this,b);var d=(0,l.default)(this,a.call(this,"VAST",[h.default,g.default]));d[r]=c;return d}(0,n.default)(b,a);b.prototype.df=function(){return!0};b.prototype.P=function(a){var b=this,c=new m.default,d=t.default.la(a);c.Wy=a.getAttribute("adaptvFailover")||!1;if(a=d.Error){var e=this.tc("Error");a.forEach(function(a){(a=e.parse(a))&&c.mb.push(a)})}(a=d.Extensions)&&
this[r]&&a.forEach(function(a){(t.default.la(a).Extension||[]).forEach(function(a){(a&&a.getAttribute("type"))===p.default.wj&&(a=t.default.la(a).Feacons,(new q.default(a)).da(b[r],!0))})});if(d=d.Ad){var f=this.tc("Ad");d.forEach(function(a,b){if(a=f.parse(a))a.Fy=b+1,c.ads.push(a)})}return c};return b}(e.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(5);var l=b(c);a=a(14);var n=b(a);
a=function(){function a(){(0,k.default)(this,a)}a.yw=function(b){var c=[];l.default.Ed(b).forEach(function(b){(b.tl||[]).forEach(function(b){return c.push(a.Nw(b))})});return c};a.Nw=function(a){a=a||{};return n.default.Pe(a.url||"")||a.mimeType};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);var k=b(c);c=a(1);var l=b(c);c=a(0);var n=b(c);a=a(22);var e=b(a);a=function(){function a(){(0,n.default)(this,
a)}a.prototype.parse=function(a){this.Qh=a.id};a.create=function(b){switch(b.getVendor()){case f.ut:return new f;default:return new a}};return a}();d.default=a;var f=function(a){function b(){(0,n.default)(this,b);return(0,k.default)(this,a.call(this))}(0,l.default)(b,a);b.prototype.parse=function(a){var b=a.ab[0].Eb[0];b.type===e.default.mh&&(b=b.url,this.ik=/cid=(\d+)/.exec(b)[1],this.Vh=/src=(\d+)/.exec(b)[1]);this.Qh=a.id};return b}(a);f.ut="collective"},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}function k(a,b){var c={height:b,width:a,x:0,y:0};c.x=(this.D.offsetWidth-a)/2;c.y=(this.D.offsetHeight-b)/2;switch(this.Hi.position){case z.default.un:c.y=0;break;case z.default.tn:c.x=this.D.offsetWidth-a;break;case z.default.qn:c.y=this.D.offsetHeight-b;break;case z.default.sn:c.x=0}return c}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var n=b(c);c=a(1);var e=b(c);c=a(6);c=b(c);var f=a(4);f=b(f);var h=a(7),g=b(h);h=a(146);var m=b(h);h=a(18);
var p=b(h);h=a(10);var q=b(h);h=a(101);h=b(h);var t=a(144),r=b(t);t=a(147);var u=b(t),y=a(83);t=a(27);var x=b(t);t=a(53);var v=b(t);t=a(12);var w=b(t);a=a(161);var z=b(a),A=f.default.B("OverlayView"),B=(0,c.default)(),C=(0,c.default)();a=function(a){function b(c,d,e,f,h,k,m,p,q){(0,l.default)(this,b);A.debug("init",e,f);c=(0,n.default)(this,a.call(this,c,d,e,f,h,m,q));c.A=p;c.Hi=k;c.type="OverlayView";k=c.Ea.ha();c.D=k.F(g.default.Jc);c[B]=k.F(g.default.Da);c[C]=k.F(g.default.O);return c}(0,e.default)(b,
a);b.prototype.af=function(){var b=this.W.ac[0]||{};if(b.type===y.sf){if(this.W.rc&&this.W.rc.toLowerCase()===m.default.Jj)return new r.default(b,p.default.Ua,this.wa,this.Ea.ha());var c=this.W,d=c.ac[0]||{};A.debug("buildMediaUrl",d);b=d.value;-1!==["video/ogg","video/mp4","video/webm"].indexOf(d.mimeType)&&c.$a&&(c=encodeURIComponent(c.$a.url),b+=-1===b.indexOf("?")?"?":"&",b+="clickTAG="+c+"&clickTag="+c);return new u.default(b,this.A)}return a.prototype.af.call(this)};b.prototype.Ni=function(){A.debug("showCompanion");
this.ad.dispatchEvent(new v.default(this.Ia))};b.prototype.qd=function(){a.prototype.qd.call(this);this.Gf.start();this.ad.dispatchEvent(new w.default(x.default.LOADED,this.Ia))};b.prototype.Ck=function(){return this.W.parameters};b.prototype.ki=function(){return this.W.gg};b.prototype.li=function(){return this.W.le};b.prototype.ji=function(){return Math.max(this.W.height,this.W.Gp)};b.prototype.mi=function(){return Math.max(this.W.width,this.W.Hp)};b.prototype.fe=function(){var a=this.W.$a;return a?
a.url:null};b.prototype.qk=function(b,c,d,e,f,g){void 0===f&&(f=!0);void 0===g&&(g=!0);b=this.Hi.width||b;c=this.Hi.height||c;d=a.prototype.qk.call(this,b,c,d,e,f,g);return"application/javascript"===(this.W.ac[0]||{}).mimeType?k.call(this,b,c):k.call(this,Math.min(d.width,b),Math.min(d.height,c))};b.prototype.eg=function(b){a.prototype.eg.call(this);this.Ea.dispatchEvent(new q.default(q.default.Mc,p.default.Ua,{isLinear:b}));b?this.pause():this.resume()};b.prototype.Np=function(){return 0};b.prototype.ef=
function(){};b.prototype.noResize=function(){};return b}(h.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){return 0<p.filter(function(b){return(new RegExp(b)).test(a)}).length}function l(){var a=[],b=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(c){var d=c.ac[0];m.debug("resolveByMimeType","Found supported resource",d);switch(d.type){case h.sf:k(d.mimeType)&&b.push(c);break;case h.bh:a.push(c);break;case h.Zg:a.push(c)}});
return a.concat(b)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);var e=a(5),f=b(e);e=a(81);e=b(e);var h=a(83);a=a(19);var g=b(a),m=c.default.B("NonLinearResolver"),p=["image/.*",e.default.Vg,e.default.bn,e.default.cn];a=function(){function a(){(0,n.default)(this,a)}a.resolve=function(a,b){b=f.default.Ty(b.slice(),!1);m.debug("resolve",a,b);var c=l(b),d=void 0;0<b.length&&0===c.length&&(d=g.default.hn);b=c.filter(function(b){return b.le||b.width<=a.width&&b.height<=
a.height});0<c.length&&0===b.length&&(d=g.default.Qs);return b[0]||{error:d}};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){a.stopPropagation();this.dispatchEvent(t.Ka,!this[q])}function l(){this[m].innerHTML="";g.default.createElement("div",{style:"position: absolute; display: block; left: 10%; width: 80%; top: 25.5%; height: 49%;"},this[m],this[q]?'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 153.61 94.026" style="position: absolute; top: 0; left: 0;">    <path fill="#D0D0D0" d="M19.744,30.013c-2.616,0-5.236,2.157-5.236,4.874v16.125v4v11.307c0,2.717,2.62,4.693,5.236,4.693h20.962\t\tl24.795,22h0.007V92.96c0,0.146,0.657,0.053,1.079,0.053h1.96c1.808,0,2.961-1.353,2.961-3.161v-3.513V55.013v-1.196\t\tL29.766,30.013H19.744z"/>    <path fill="#D0D0D0" d="M71.508,14.868v-3.513c0-1.808-1.153-3.341-2.962-3.341h-1.96c-0.421,0-1.078,0.087-1.078,0.233V8.014\t\th-0.007L50.189,21.599l21.319,12.157V14.868z"/>    <polygon fill-rule="evenodd" clip-rule="evenodd" fill="#D0D0D0" points="0,9.526 5.5,0 153.61,84.5 148.11,94.026"/>    <path fill="#D0D0D0" d="M88.19,67.712l4.53,7.949c2.171-1.907,4.088-4.093,5.698-6.499l-7.343-4.188\t\tC90.266,65.987,89.316,66.909,88.19,67.712">        <animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;1;1;1;0" repeatCount="indefinite" />    </path>    <path fill="#D0D0D0" d="M104.001,50.754c0-10.063-4.474-19.072-11.563-25.209l-4.691,9.459C91.331,38.02,93.86,42.225,94.735,47\t\tl9.225,5.261C103.982,51.761,104.001,51.26,104.001,50.754">        <animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;1;1;1;0" repeatCount="indefinite" />    </path>    <path fill="#D0D0D0" d="M126.931,50.553c0-16.354-6.628-31.147-17.192-42.167l-5.881,8.353\t\tc8.727,8.705,14.263,20.63,14.263,33.814c0,3.164-0.33,6.254-0.937,9.249l8.131,4.636\t\tC126.363,59.997,126.931,55.357,126.931,50.553">        <animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;0;1;1;0" repeatCount="indefinite" />    </path>    <path fill="#D0D0D0" d="M103.327,84.819l6.105,8.001c3.613-3.632,6.739-7.679,9.322-12.062l-8.214-4.685\t\tC108.479,79.268,106.057,82.206,103.327,84.819">        <animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;0;1;1;0" repeatCount="indefinite" />    </path></svg>':
'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 153.61 94.026" style="position: absolute; top: 0; left: 0;">    <path fill="#D0D0D0" d="M59.34,13.276h-1.695c-0.365,0-0.936-0.08-0.936,0.046v-0.045h-0.007L35.237,32.322l-18.146-0.025    \tc-0.598,0-1.191,0.131-1.748,0.363c-1.554,0.609-2.783,1.992-2.783,3.727v0.13v27.081v0.129c0,1.733,1.23,3.117,2.786,3.728    \tc0.555,0.232,1.149,0.362,1.745,0.362h8.677l9.471-0.025l21.467,19.045h0.006V86.79c0,0.126,0.567,0.046,0.935,0.046h1.695    \tc1.564,0,2.562-1.172,2.562-2.735V16.014C61.902,14.448,60.904,13.276,59.34,13.276z"/>    <path fill="#D0D0D0" d="M90.036,50.255c0-8.711-3.873-16.511-10.009-21.824l-4.062,8.188c3.104,2.611,5.292,6.252,6.051,10.387    \tc0,0,0.255,1.449,0.255,3.242c0,1.796-0.255,3.403-0.255,3.403c-0.758,4.133-2.947,7.772-6.051,10.385l4.062,8.188    \tc6.137-5.313,10.009-13.112,10.009-21.823c0-0.022,0-0.05-0.001-0.074C90.036,50.302,90.036,50.277,90.036,50.255z">        <animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;1;1;1;0" repeatCount="indefinite" />    </path>    <path fill="#D0D0D0" d="M109.87,51.171c0.006-0.294,0.013-1.035,0.013-1.052c0-0.014,0.001-0.027,0.001-0.043    \tc0-0.041-0.008-0.713-0.014-1.007c-0.008-0.384-0.021-0.767-0.035-1.146c-0.002-0.029-0.002-0.061-0.004-0.09    \tc-0.57-13.265-6.172-25.227-14.831-34.259l-5.091,7.23c5.758,5.744,9.907,13.108,11.559,21.339c0,0,0.785,5.252,0.788,7.976    \tc-0.003,2.726-0.288,5.386-0.811,7.966l0.021,0.012c-1.65,8.23-5.801,15.596-11.559,21.34l5.091,7.23    \tc8.659-9.032,14.261-20.994,14.831-34.26c0.002-0.029,0.002-0.06,0.004-0.089C109.851,51.937,109.863,51.554,109.87,51.171z">        <animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;0;1;1;0" repeatCount="indefinite" />    </path></svg>')}
Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var e=b(c);c=a(1);var f=b(c);c=a(6);c=b(c);var h=a(23);h=b(h);a=a(5);var g=b(a),m=(0,c.default)(),p=(0,c.default)(),q=(0,c.default)(),t=function(a){function b(c,d){(0,n.default)(this,b);var f=(0,e.default)(this,a.call(this));f[q]=c;f[p]=g.default.createElement("div",{id:"oath-volume-button-container",style:{bottom:"20px",cursor:"pointer",height:"26px",position:"absolute",right:"20px",width:"26px",zIndex:10}},d);f[m]=g.default.createElement("div",
{id:"oath-volume-button-icon",style:{backgroundColor:"rgba(34, 34, 34, 0.85)",borderRadius:"20%",display:"block",height:"100%",position:"absolute",width:"100%"}},f[p]);l.call(f);f[p].addEventListener("click",k.bind(f));return f}(0,f.default)(b,a);b.prototype.hy=function(a){this[q]=a;l.call(this)};b.prototype.Le=function(){g.default.ng(this[p])};return b}(h.default);d.default=t;t.Ka="MuteButton.Click"},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){this.ea&&this.ea.N();
this.Gh&&(this.D.removeEventListener("mousemove",this.Gh),this.Gh=null);this.ka&&this.ka.Le()}function l(){this.error=new z.default(A.default.eh.code,"Can not get flv runner");t.call(this,this.error)}function n(){t.call(this,"flv ad not started in 3000ms")}function e(a){if(B.default.Ai){var b=document.createEvent("MouseEvent");b.initEvent(a.type,!a["\ufeffcancelBubble"],a["\ufeffcancelable"])}else b=new MouseEvent(a.type,a);this.Ff.dispatchEvent(b)}function f(){t.call(this,"Internal wrapper error")}
function h(){this.g&&this.g.Me()}function g(){var a=this.ka.getState();clearTimeout(this.Qo);"playing"===a?(this.fa.show(),this.g.ef(),this.Db(D.default.mh),this.jg(),this.zd()):"paused"===a?(this.track(D.default.on),this.g.xl()):"buffering"===a||"loading"===a?this.g.Mq():"stopped"===a?(this.Db(D.default.Aa),k.call(this),this.g.complete(!1,void 0)):"resumed"===a&&(this.track(D.default.zn),this.g.yl())}function m(a){this.ka=a;this.Ho.resolve(a);this.Qo=setTimeout(n.bind(this),3E3);this.Gh=e.bind(this);
this.D.addEventListener("mousemove",this.Gh,!0);this.ea=E.default.group(E.default.bind(this.ka,"WrapperError",f.bind(this)),E.default.bind(this.ka,"click",h.bind(this)),E.default.bind(this.ka,"stateChange",g.bind(this)),E.default.bind(this.ka,"heartbeat",r.bind(this)),E.default.bind(this.ka,w.default.nf,f.bind(this)));this.ka.play(this.Nu);this.ka.ir(this.$d||0)}function p(a){this.fa=a;a.Yu().then(m.bind(this),l.bind(this))}function q(){var a=this;this.ka?this.ka.hr(this.A.Zk(),this.A.Mk()):this.Ho.xa().then(function(b){return b.hr(a.A.Zk(),
a.A.Mk())})}function t(a){L.debug("stopByError",a);clearTimeout(this.Qo);this.error=new z.default(A.default.eh.code,a);this.stop()}function r(){this.g.zl({currentTime:this.ka.getCurrentTime(),duration:this.ka.hq()});this.sr(this.ka.Jk())}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var u=b(c);c=a(2);var y=b(c);c=a(1);var x=b(c);c=a(54);c=b(c);var v=a(79),w=b(v);v=a(140);var z=b(v);v=a(19);var A=b(v);v=a(5);var B=b(v);v=a(4);v=b(v);var C=a(8),E=b(C);C=a(22);var D=b(C);C=a(16);var F=b(C);
a=a(18);var K=b(a),L=v.default.B("FlvMediaElement");a=function(a){function b(c,d,e,f,g){(0,u.default)(this,b);c=(0,y.default)(this,a.call(this,c));L.debug("init",d);c.Nu=d;c.du=e;c.Ff=f;c.D=g;c.Ho=new F.default;return c}(0,x.default)(b,a);b.prototype.load=function(){a.prototype.load.call(this);this.g.qd()};b.prototype.je=function(){this.du.then(p.bind(this),l.bind(this))};b.prototype.resize=function(){a.prototype.resize.call(this);q.call(this)};b.prototype.stop=function(){L.debug("stop");this.fa&&
this.fa.Se();k.call(this);a.prototype.stop.call(this)};b.prototype.pause=function(){this.ka.pause()};b.prototype.resume=function(){this.ka.resume()};b.prototype.createElement=function(){return B.default.createElement("div")};b.prototype.setVolume=function(a){this.If=a;this.ka&&this.ka.ir(a);this.g.lg({muted:0===this.If,volume:this.If})};b.prototype.getDuration=function(){return this.ka.hq()};b.prototype.vc=function(){return this.getDuration()-this.ka.getCurrentTime()};b.prototype.ll=function(){var a=
this.g.ca();return a&&a.getType()===K.default.Na};return b}(c.default);d.default=a},function(c,d,a){var b=a(3)(b||{},{a:{Xg:{}}});b.a.Xg=function(){var a="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,b=function(){for(var a=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),
"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],b=a.length,c,d=-1,g={};++d<b;)if((c=a[d])&&c[1]in document){d=-1;for(b=c.length;++d<
b;)g[a[0][d]]=c[d];return g}return!1}();return b?{enabled:function(){return!!document[b.fullscreenEnabled]},QB:function(c){var d=b.requestFullscreen;c=c||document.documentElement;if(/5\.1[\.\d]* Safari/.test(navigator.userAgent))c[d]();else c[d](a&&Element.ALLOW_KEYBOARD_INPUT)},RB:function(){document[b.exitFullscreen]()},uq:function(){return!!document[b.fullscreenElement]},element:function(){return document[b.fullscreenElement]},wB:function(a){document.addEventListener(b.fullscreenchange,a)},vD:function(a){document.removeEventListener(b.fullscreenchange,
a)}}:{enabled:function(){return!1}}}();d.vdb={a:{Xg:b.a.Xg}};d.default=b.a.Xg;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this;U.debug("mouseClickHandler");this[Q]||(this.g.Me(),this[Q]=setTimeout(function(){return a[Q]=null},100))}function l(a){this.qg(a.message,a.code)}function n(){this[G]=H.PAUSED;this.track(E.default.on);this.g.xl()}function e(a){this.g.lg(a);!0===a.muted?this.track(E.default.fn):this.track(E.default.Mn)}function f(){this.g.Mq()}
function h(){this[G]=H.Nd;this.track(E.default.zn);this.g.yl()}function g(a){this.g.ez(a.url)}function m(){this[G]!==H.hb&&(this[J]=!0,this[P]=A.default.group(A.default.bind(this.A,D.default.Rn,k.bind(this)),A.default.bind(this.A,D.default.Tn,l.bind(this)),A.default.bind(this.A,D.default.Ij,q.bind(this)),A.default.bind(this.A,D.default.Xn,t.bind(this)),A.default.bind(this.A,D.default.Wn,h.bind(this)),A.default.bind(this.A,D.default.Vn,n.bind(this)),A.default.bind(this.A,D.default.Sn,p.bind(this)),
A.default.bind(this.A,D.default.Zn,e.bind(this)),A.default.bind(this.A,D.default.Yn,r.bind(this)),A.default.bind(this.A,D.default.$n,f.bind(this)),A.default.bind(this.A,D.default.Un,g.bind(this)),A.default.bind(this[M],"click",k.bind(this))),this.g.Ia.$a&&((this.A.ni().style||{}).cursor="pointer"),this.A.play())}function p(a){a.complete&&this.Db(E.default.Aa);this.A.Jl();this[G]=H.hb;this[P].N();this.g.complete(!1,a)}function q(){this.Ji();this[G]=H.Nd}function t(){this.Af||(this.Ji(),this.g.ef(),
this.Db(E.default.mh),this.jg(),this.zd())}function r(a){this.g.zl(a);this.sr(this.A.Jk())}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var u=b(c);c=a(2);var y=b(c);c=a(1);var x=b(c);c=a(6);c=b(c);var v=a(18),w=b(v);v=a(13);var z=b(v);v=a(8);var A=b(v);v=a(4);v=b(v);var B=a(5),C=b(B);B=a(22);var E=b(B);B=a(145);var D=b(B);B=a(54);B=b(B);var F=a(19),K=b(F);F=a(38);var L=b(F);a=a(12);var N=b(a),U=v.default.B("SimpleVideoMediaElement"),H={Qg:"created",PAUSED:"paused",Nd:"playing",hb:"stopped"},
P=(0,c.default)(),J=(0,c.default)(),Q=(0,c.default)(),M=(0,c.default)(),R=(0,c.default)(),G=(0,c.default)();a=function(a){function b(c,d,e){(0,u.default)(this,b);c=(0,y.default)(this,a.call(this,c));U.debug("init",d);c[G]=H.Qg;c[R]=d;c[M]=e;return c}(0,x.default)(b,a);b.prototype.createElement=function(){return C.default.createElement("div",{style:"display: none"})};b.prototype.load=function(){a.prototype.load.call(this);this.g.qd()};b.prototype.je=function(){U.debug("initElement");this.g.dispatchEvent(new z.default(L.default.ij));
var a=this.ll()?this.A.Oy(this[R]):this.A.My(this[R]);a&&a.then?a.then(m.bind(this)):m.call(this)};b.prototype.ll=function(){var a=this.g.ca();return a&&a.getType()===w.default.Na};b.prototype.stop=function(){U.debug("stop");this[G]=H.hb;if(this[J]){this[P].N();this.A.stop();this.A.Jl();var b=this.A.ni().style;b&&(b.cursor="")}a.prototype.stop.call(this)};b.prototype.pause=function(){this[G]===H.Nd&&this.A.pause()};b.prototype.resume=function(){this[G]===H.PAUSED&&this.A.play()};b.prototype.vc=function(){return this.A.vc()};
b.prototype.qg=function(a,b){U.debug("stopByError",a);this[G]=H.hb;var c=K.default.ys,d="video playback error";switch(b){case 2:c=K.default.lj;break;case 3:case 4:c=K.default.eh;break;case 5:c=K.default.eh,d="autoplay issue"}this.error=c;this.g.dispatchEvent(new z.default(L.default.dc),a);this.Af||this.g.Ne(N.default.ta,{pd:d,error:c});this.stop()};b.prototype.setVolume=function(a){this.A.setVolume(a);this.A.mute(0===a)};b.prototype.getDuration=function(){return this.A.getDuration()};return b}(B.default);
d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){var b=this;this[U]&&this[v].na()&&(this[N]=h.call(this,a),null!==this[N]&&(g.call(this),setTimeout(function(){return y.default.Hl(b[E],"collapse-skip-button","expand-skip-button")},800)))}function l(a){var b=Math.floor(a.data.currentTime);0<this[K]&&this[N]-this[K]<b&&(b=this[N]-b,0>=b?f.call(this,a):m.call(this,b))}function n(){this[B]&&this[v].removeEventListener(t.default.gb,this[B]);y.default.Hl(this[E],
"expand-skip-button","collapse-skip-button");y.default.mg(this[E],"skippable");this[x]=!0}function e(){this[x]&&(this[v].dispatchEvent(new t.default(t.default.qm)),y.default.mg(this[E],"skippable"),this[x]=!1)}function f(a){var b=a?Math.floor(a.data.currentTime):0;a=a?a.data.duration:0;this[D].innerHTML=this[H].replace("%t",this[C]?"| "+Math.round(a-b):"");y.default.Th(this[E],"skippable");this[x]=!0;u.default.ma(this[E],"click",e.bind(this))}function h(a){var b=a.data;a=b.duration;var c=b.skipOffsetTime;
b=b.skipOffsetPercent;var d=this[L];if(c||0===c)d=c;else if(b||0===b)d=~~(a*b/100);return d<Math.min(this[A],a)?d:null}function g(){u.default.ma(this[v],t.default.fb,n.bind(this));0<this[N]&&(this[B]=l.bind(this),this[v].addEventListener(t.default.gb,this[B]));var a=this[w].getElementsByClassName("ad-skip-button")[0];this[E]||(a?(this[E]=a,this[D]=this[E].getElementsByClassName("ad-skip-button-text")[0]):(this[z].Rf(".ad-skip-button-container {    position: relative;    overflow: hidden;    width: 100%;    height: 100%;}.ad-skip-button {    position: absolute;    width: 110px;    right: -110px;    bottom: 65px;    padding: 6px 0;    background-color: rgba(34, 34, 34, .85);    color: #d0d0d0;    font: 12px Arial;    text-align: center;    border: 1px #747474 solid;    border-right: 0;    opacity: 1;    z-index: 3;    transition: right 1s ease-in;}.fullscreen-mode .ad-skip-button {    width: 165px;    bottom: 98px;    padding: 9px 0;    border-width: 1.5px;    font-size: 18px;}.ad-skip-button.skippable {    text-decoration: underline;    cursor: pointer;}.ad-skip-button.skippable:hover {    color: #fff;}.expand-skip-button {    opacity: 1;    right: 0;    margin-right: 0;}.collapse-skip-button {    opacity: 0;    right: -110px;}.fullscreen-mode .collapse-skip-button {    opacity: 0;    right: -165px;}"),
this[F]=y.default.createElement("div",{"class":"ad-skip-button-container"},this[w]),this[E]=y.default.createElement("div",{"class":"ad-skip-button"},this[F]),this[D]=y.default.createElement("div",{"class":"ad-skip-button-text"},this[E])));0<this[N]?m.call(this,this[N]):f.call(this)}function m(a){this[K]=a;this[D].innerHTML=this[P].replace("%d",this[K])}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var p=b(c);c=a(6);c=b(c);var q=a(10),t=b(q);q=a(7);var r=b(q);q=a(8);var u=b(q);a=a(5);var y=
b(a),x=(0,c.default)(),v=(0,c.default)(),w=(0,c.default)(),z=(0,c.default)(),A=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)(),E=(0,c.default)(),D=(0,c.default)(),F=(0,c.default)(),K=(0,c.default)(),L=(0,c.default)(),N=(0,c.default)(),U=(0,c.default)(),H=(0,c.default)(),P=(0,c.default)();d.default=function R(a,b){var c=this;(0,p.default)(this,R);this[U]=b;this[v]=a;a=this[v].rd().Pl||{};this[H]=a.skippableText||"Skip ad %t";this[P]=a.timerText||"Skip ad in %ds";this[C]=a.showTimer||!1;this[L]=
a.skipInSeconds||5;this[A]=a.maxLinearShowTime||90;this[w]=this[v].Wf().$b;this[x]=!1;this[z]=this[v].ha().F(r.default.Ba);u.default.ma(this[v],t.default.ja,k.bind(this));u.default.ma(this[v],t.default.Nc,function(a){a.data.Dd&&(c[C]=!1,c[N]=0,g.call(c),y.default.Hl(c[E],"collapse-skip-button","expand-skip-button"))})}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){this.Vd=new F.default(this.Ea.isMuted(),this.D);this.Vd.addEventListener(F.default.Ka,this.Ea.mute.bind(this.Ea))}
function l(){var a=this.J.vc();if(0>=a)clearInterval(this.bk);else{this.dispatchEvent(new x.default(1E3*a));a=this.J.getCurrentTime();var b=this.J.getDuration()||a;this.zl({currentTime:Math.min(a,b),duration:b})}}function n(){var a=this.qa();return a&&a.rc&&a.rc.toLowerCase()===g.default.Jj}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var e=b(c);c=a(2);var f=b(c);c=a(1);var h=b(c);c=a(146);var g=b(c);c=a(7);var m=b(c);c=a(13);var p=b(c);c=a(8);var q=b(c);c=a(16);var t=b(c);c=a(4);c=b(c);
var r=a(41),u=b(r);r=a(5);var y=b(r);r=a(150);var x=b(r);r=a(10);var v=b(r);r=a(101);r=b(r);var w=a(278),z=b(w);w=a(277);var A=b(w);w=a(144);var B=b(w);w=a(275);var C=b(w);w=a(81);var E=b(w);w=a(53);var D=b(w);a=a(274);var F=b(a),K=c.default.B("LinearView");a=function(a){function b(c,d,g,h,l,p,q,v,r){(0,e.default)(this,b);c=(0,f.default)(this,a.call(this,c,d,g,h,l[0],q,r));c.Bo=l;c.A=v;c.yf=p;c.jo=p.getType();c.jb=q.ha();c.j=c.jb.F(m.default.O);c.Ff=c.jb.F(m.default.Da);c.D=c.jb.F(m.default.Jc);c.j.cz({Zy:new t.default});
if(!n.call(c)&&(l=c.Ia||{},l=l.parameters&&l.parameters.value,"string"===typeof l&&(l=y.default.zk(l.trim().replace(/\+/g,"%20")),l.cd))){p=void 0;try{p=JSON.parse(l.cd)}catch(O){}p=p||{};p.startMuted&&(c.Ea.isMuted()||c.Ea.mute(!0));p.muteButtonEnabled&&setTimeout(k.bind(c),100)}h=h&&h.Dd||c.wa.Pl&&!y.default.ke(c.wa.Pl);c.j.Xf()!==u.default.ih&&new z.default(q,h);c.type="LinearView";return c}(0,h.default)(b,a);b.prototype.lg=function(b){a.prototype.lg.call(this,b);this.Vd&&this.Vd.hy(b.muted)};
b.prototype.fl=function(b){this.ea&&(this.ea.N(),this.ea=null);a.prototype.fl.call(this,b)};b.prototype.ez=function(a){this.W=this.Bo.filter(function(b){return b.url===a})[0]};b.prototype.af=function(){var a=this,b=this.qa(),c=void 0;n.call(this)?(this.St=g.default.Jj,c=new B.default(b,this.jo,this.wa,this.jb),this.ea||(this.ea=q.default.empty()),this.ea.link(q.default.bind(c,v.default.Nc,function(){a.Ea.dispatchEvent(new p.default(v.default.Nc,{Dd:a.na()}))}))):b.mimeType===E.default.Mm?(c=this.jb.resolve(m.default.Lm),
c=new C.default(this.A,b.url,c,this.Ff,this.D)):(b=this.Bo.map(function(a){return a.url}),c=new A.default(this.A,b,this.D));return c};b.prototype.complete=function(b,c){this.Vd&&this.Vd.Le();this.ea&&(this.ea.N(),this.ea=null);clearInterval(this.bk);a.prototype.complete.call(this,b,c);clearTimeout(this.Oo)};b.prototype.eg=function(b){a.prototype.eg.call(this,b);var c=new v.default(v.default.Mc,this.jo,{isLinear:b});K.debug("linear state changed to",b,"dispatch event",c);this.dispatchEvent(c)};b.prototype.Ni=
function(){K.debug("showCompanion");this.ad.dispatchEvent(new D.default(this.Ia))};b.prototype.qa=function(){return this.W||null};b.prototype.Ck=function(){return this.Ia.parameters};b.prototype.Np=function(){return this.W.Yh};b.prototype.ki=function(){return this.W.gg};b.prototype.li=function(){return this.W.le};b.prototype.ji=function(){return this.W.height};b.prototype.mi=function(){return this.W.width};b.prototype.fe=function(){var a=this.Ea.uw();a||(a=(a=this.Ia.$a)?a.url:null);return a};b.prototype.getDuration=
function(){if(this.J)return this.J.getDuration()};b.prototype.na=function(){if(this.J&&this.J.na)return this.J.na()};b.prototype.ca=function(){return this.yf};b.prototype.Dk=function(){return this.Ea};b.prototype.stop=function(){this.Vd&&this.Vd.Le();a.prototype.stop.call(this)};b.prototype.ef=function(){this.bk||(0<this.J.vc()?this.bk=setInterval(l.bind(this),1E3):(clearTimeout(this.Oo),this.Oo=setTimeout(this.ef.bind(this),200)))};return b}(r.default);d.default=a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}function k(a){return(a=(a=a?a.url:"")&&m.default.trim(a))&&!m.default.startsWith(a,"rtmp",!0)}function l(a){var b={Kp:[],ml:[],video:[]};a.forEach(function(a){-1<r.indexOf(a.mimeType)?b.Kp.push(a):-1<q.indexOf(a.mimeType)?b.ml.push(a):b.video.push(a)});return b}function n(a){return a.slice().sort(function(a,b){return(a.width*a.height-(+a.Yh||0)||0)<(b.width*b.height-(+b.Yh||0)||0)?1:-1})}function e(a,b,c){var d=null,e=null,f=null;if(a.length){f=a.slice();for(var g=a.length-
1;0<=g;g--){var h=a[g];!h.le&&h.width<=b&&h.height<=c&&(d=h);if(h.width>=b&&h.height>=c){e=h;break}}e&&(f.splice(f.indexOf(e),1),f.unshift(e));d&&(f.splice(f.indexOf(d),1),f.unshift(d))}return f}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var f=b(c);c=a(4);c=b(c);var h=a(88),g=b(h);h=a(20);var m=b(h);a=a(81);a=b(a);var p=c.default.B("LinearResolver"),q=[a.default.bn,a.default.cn],t=q.concat([a.default.tt]),r=[a.default.Vg,a.default.Mm];a=function(){function a(){(0,f.default)(this,a)}a.Ay=
function(a,b,c,d){var f=c.filter(function(a){m.default.endsWith(a.url,"m3u8")?a=!1:(a=a.mimeType,a=g.default.isSupported(a)||-1<t.indexOf(a)||-1<r.indexOf(a)&&d);return a});f=f.filter(k);f=n(f);f=l(f);var h=e(f.video,a,b);null==h&&(h=e(f.ml.length?f.ml:f.Kp,a,b));null==h&&0<c.length&&p.warn("None of the provided mime-types is supported",c);return h};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){this.Tj.N();l.call(this)}function l(){r.default.ng(this.element);
this.g.dispatchEvent(new u.default(q.default.Hr))}function n(a){a.data.currentTime>this.icon.offset&&(this.g.Te.appendChild(this.element),0===this.icon.duration&&this.g.removeEventListener(q.default.gb,this.Ul));0<this.icon.duration&&a.data.currentTime>this.icon.offset+this.icon.duration&&(l.call(this),this.g.removeEventListener(q.default.gb,this.Ul))}function e(a){r.default.createElement("img").src=a}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var f=b(c);c=a(2);var h=b(c);c=a(1);var g=
b(c);c=a(147);c=b(c);var m=a(12),p=b(m);m=a(38);var q=b(m);m=a(4);m=b(m);var t=a(5),r=b(t);t=a(13);var u=b(t);a=a(19);var y=b(a),x=m.default.B("IconElement");a=function(a){function b(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=arguments[1];(0,f.default)(this,b);d=(0,h.default)(this,a.call(this,c.lr,d));x.debug("create",c);d.icon=c;return d}(0,g.default)(b,a);b.prototype.Ry=function(a){this.g=a;this.load();r.default.cf(this.element,{height:this.icon.height+"px",width:this.icon.width+
"px",zIndex:3});this.g.addEventListener(q.default.dc,k.bind(this));this.g.addEventListener(q.default.fb,k.bind(this));this.g.addEventListener(q.default.vg,k.bind(this))};b.prototype.Kq=function(){this.g.Ne(p.default.ta,{error:y.default.gn})};b.prototype.wl=function(){var a=this;switch(this.icon.Vi){case "left":this.element.style.left="0px";break;case "right":this.element.style.right="0px";break;default:"number"===typeof this.icon.Vi&&(this.element.style.left=this.icon.Vi+"px")}switch(this.icon.Wi){case "bottom":this.element.style.bottom=
"0px";break;default:this.element.style.top=("number"===typeof this.icon.Wi?this.icon.Wi:0)+"px"}this.icon.tk&&(this.element.style.cursor="pointer",this.element.addEventListener("click",function(b){b.stopPropagation();a.g.Me(a.icon.tk,!0)}));this.icon.uk&&this.element.addEventListener("click",function(){return e(a.icon.uk)});this.icon.Zl&&e(this.icon.Zl);0===this.icon.offset&&this.g.Te.appendChild(this.element);if(0!==this.icon.offset||0!==this.icon.duration)this.Ul=n.bind(this),this.g.addEventListener(q.default.gb,
this.Ul);this.g.dispatchEvent(new u.default(q.default.Kr))};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(4);c=b(c);a=a(100);a=b(a);var e=c.default.B("StaticResourceMediaElement");a=function(a){function b(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",f=arguments[2];(0,k.default)(this,b);f=(0,l.default)(this,a.call(this,
f));d=d.toLowerCase();0===d.indexOf("image/")||""===d?f.Bc='<img width="100%" height="100%" src="'+c+'" />':"application/x-javascript"===d?f.Bc='<script src="'+c+'">\x3c/script>':"application/x-shockwave-flash"===d?f.Bc='<object width="100%" height="100%" data="'+c+'"></object>':(e.warn("Non-supported mime type",d),f.Bc=null);return f}(0,n.default)(b,a);return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});
c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(100);a=function(a){function b(c,d){(0,k.default)(this,b);d=(0,l.default)(this,a.call(this,d));d.Bc="<iframe "+('width="100%" height="100%" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" src="'+c+'"')+"></iframe>";return d}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);
c=a(1);var n=b(c);a=a(100);a=function(a){function b(c,d){(0,k.default)(this,b);d=(0,l.default)(this,a.call(this,d));d.Bc=c;return d}(0,n.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(6);c=b(c);var l=a(8),n=b(l);a=a(10);var e=b(a),f=(0,c.default)(),h=(0,c.default)(),g=(0,c.default)();a=function(){function a(b,c){(0,k.default)(this,a);this[h]=b;this[g]=c;this.Si=
0;this[f]=n.default.group(n.default.bind(this[h],e.default.ja,this.vl.bind(this)),n.default.bind(this[h],e.default.gb,this.Iq.bind(this)),n.default.bind(this[h],e.default.Gb,this.Li.bind(this)),n.default.bind(this[h],e.default.qe,this.Li.bind(this)),n.default.bind(this[h],e.default.cc,this.Hq.bind(this)))}a.prototype.sa=function(){return this[g].sa()};a.prototype.Li=function(){this.Si=0};a.prototype.vl=function(){this.Kl()};a.prototype.Iq=function(){};a.prototype.Hq=function(){};a.prototype.Kl=function(){this.Li()};
a.prototype.N=function(){this[f].N()};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(6);c=b(c);var l=a(27),n=b(l);l=a(148);var e=b(l);l=a(12);var f=b(l);a=a(7);var h=b(a),g=(0,c.default)();a=function(){function a(b,c,d){(0,k.default)(this,a);var l=d.ha();d=l.F(h.default.Ma);l=l.F(h.default.Vb);this[g]=new e.default(d,l);this[g].fr(function(){return b.dispatchEvent(new f.default(n.default.xf,
c))},function(){return b.dispatchEvent(new f.default(n.default.xe,c))},function(){return b.dispatchEvent(new f.default(n.default.wf,c))})}a.prototype.N=function(){this[g].N()};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);var e=a(4);e=b(e);var f=a(22),h=b(f);f=a(7);var g=b(f);f=a(5);var m=b(f);f=a(101);f=b(f);var p=a(284),q=b(p);p=a(283);
var t=b(p);p=a(282);var r=b(p),u=a(83);a=a(82);var y=b(a),x=e.default.B("CompanionView"),v=(0,c.default)(),w=(0,c.default)();a=function(a){function b(c,d,e,f,h,m){(0,k.default)(this,b);x.debug("init",c,d,e,f);var n=h.ha(),p=n.F(g.default.Ba);c=(0,l.default)(this,a.call(this,null,p.createDocumentFragment(),c,d,e,h,m));c.Lb=f;c[v]=n.F(g.default.Qm);c[w]=p;c.noResize();return c}(0,n.default)(b,a);b.prototype.af=function(){x.debug("resolveMediaElement");var b=this.W.ac[0],c=void 0,d=this[v].zc();switch(b.type){case u.Zg:c=
new q.default(b.value,d);break;case u.bh:c=new t.default(b.value,d);break;case u.sf:c=new r.default(b.value,b.mimeType,d)}if(c)if(c.Bc){c.Ly(this.Lb&&this.Lb.Mx);c.nq(this.Lb.Dl,this.Lb.Ey);if(c.ce)return c.ce=m.default.createElement("div",{style:"width: "+this.Lb.width+"px; height: "+this.Lb.height+"px"},c.ce),c;x.warn("Media element could not find a container")}else x.warn("Media element doesn't have any markup");else x.warn("Non-supported companion media type",b.type);return a.prototype.af.call(this)};
b.prototype.qd=function(){this.J.je()};b.prototype.Ck=function(){return this.W.parameters};b.prototype.ki=function(){return!0};b.prototype.li=function(){return!1};b.prototype.ji=function(){return this.W.height};b.prototype.mi=function(){return this.W.width};b.prototype.fe=function(){return this.W.$a?this.W.$a.url:null};b.prototype.bi=function(a){a===h.default.jj&&this.ad.dispatchEvent(new y.default(a,this.Ia,this.W))};b.prototype.resume=function(){x.debug("resume")};b.prototype.pause=function(){x.debug("pause")};
return b}(f.default);d.default=a},function(c,d,a){var b=a(3)(b||{},{a:{ph:{}},f:{},o:{Y:{}}});b.f=a(9).vdb.f;b.o.Y=a(8).vdb.o.Y;b.a.ph=b.f.Class.extend(function(){function a(){0===this.Jf.length&&(this.reset(),this.oo&&this.oo())}return{K:function(b,c){this.Jf=b.slice();this.oo=c;this.Fh=[];a.call(this)},reset:function(){for(var a=0;a<this.Fh.length;a++)this.Fh[a].N();this.Fh=[]},release:function(b){b=this.Jf.indexOf(b);-1!==b&&(this.Jf.splice(b,1),a.call(this))},fz:function(a){for(var c=0;c<this.Jf.length;c++){var d=
this.Jf[c];d=b.o.Y.bind(d,a,this.release.bind(this,d));this.Fh.push(d)}return this}}}());d.vdb={a:{ph:b.a.ph}};d.default=b.a.ph;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this.D.offsetWidth,b=this.D.offsetHeight;0===a&&(this.D.style.width="100%",a=this.D.offsetWidth);0===b&&(this.D.style.height="100%",b=this.D.offsetHeight);return{height:b,width:a}}function l(){this[ja].forEach(function(a){return a.resize()})}function n(a){ba.warn("VAST error occurred in ad",
a)}function e(a){var b=this;a.addEventListener(W.default.ij,this.dispatchEvent.bind(this));a.addEventListener(W.default.ja,this.dispatchEvent.bind(this));a.addEventListener(W.default.dc,n.bind(this,a));a.fl(this.l.getVolume());a.Ia&&a.Ia.vd&&a.Ia.vd.forEach(function(c){return(new cb.default(c,b.A)).Ry(a)})}function f(a){var b=this;ba.debug("prepareCreatives",a);m.call(this,a);this.ad=a;this[Ra]=[];this[Db]=[];this[Qb]=[];this.ad.ab.forEach(function(a){ba.debug("prepareCreatives","creative",a);a instanceof
Y.default?b[Ra].push(a):a instanceof eb.default?b[Db].push(a):a instanceof ka.default&&b[Qb].push(a)});this.ad.dispatchEvent(new X.default(X.default.jf,null,null,{Ru:this.cb()}))}function h(){var a=this;ba.debug("prepareExtensions",this.ad);this.ad.de.forEach(function(b){ba.debug("prepare extension",b);b.da(a)})}function g(a){this[Jb].kg(a,this.u)}function m(a){var b=this;ba.debug("instrumentAd",a);rb.forEach(function(c){return a.addEventListener(c,g.bind(b))});a.addEventListener(X.default.Ka,function(a){return b.Xo(a.fe())});
a.addEventListener(Va.default.vf,function(a){var c=hb[a.Gd];c&&b.ia(c,a.data)});a.addEventListener(S.default.Og,C.bind(this,a))}function p(){var a=this[ja][0];ba.debug("displayOverlay",a);this[Ha].rv();if(a){a.addEventListener(W.default.Aa,K.bind(this));a.addEventListener(W.default.ja,this.jk.bind(this));a.addEventListener(W.default.Aa,t.bind(this));e.call(this,a);var b=a.Hi.Eq;isNaN(b)&&(b=a.W.Fq);b!==Number.POSITIVE_INFINITY&&(b=1E3*(isNaN(b)?15:b),this[Ha].Ml(D.bind(this),b))}}function q(a){this.Fd(O.default.LOADED,
a)}function t(){this.yd(O.default.STARTED)?this.ia(O.default.FINISHED):this.ia(O.default.pf)}function r(a){var b=this;this.yd(O.default.STARTED)?this[Ab].Hc("ad",null,"ad failed after start"):this[La].Ne(X.default.ta,{error:a});this.Oh=null;this[jb]++;var c=(this.wb?/^(n|.*n)o ads/i.test(this.wb.message):!1)&&0<this[na].ads.length||-1===this.wa.Mb,d=this[na].Up(-1===this.wa.Mb);c=d||c&&this[na];this[na].Rw(d).forEach(function(c){var d=new X.default(X.default.ta,null,null,{error:a});c.dispatchEvent(d);
b[Jb].kg(d)});if(c){d=0;if(-1===this.wa.Mb)for(var e=0;e<c.ads.length;e++)if(c.ads[e]&&!c.ads[e].Cb){d=e;break}if(e=c.ads[d])return this[na]=c,e.Di?u.call(this,d):(this[na].ads.splice(d,1),ba.debug("showNextLinearCreative","show failover ad"),f.call(this,e),y.call(this)),!0}this.yd(O.default.LOADED)&&!this.yd(O.default.STARTED)&&this.ia(O.default.pf);return!1}function u(a){this.Wa.ff();this.Wa.my(this[na],a)}function y(){var a=this;ba.debug("showFirstLinearCreative",this[Ra]);if(0===this[Ra].length)this.ad?
(this[La]=new Ba.default(this.Pa,this.D,this.ad,{},[],this.u,this.l,this.A,this),r.call(this,Oa.default.Us)||this.complete()):this.complete();else{this.wb=null;this[qa]=this[Ra].shift();this.ad.dispatchEvent(new X.default(la.default.LOADED,this[qa]));this[Kb]?this[Kb]=!1:this.hk();var b=k.call(this);this[Eb]=yb.default.Ay(b.width,b.height,this[qa].tl,this[Bb].cg());if(this[Eb]){this[wa]=this[Eb][0];h.call(this);this.l.dispatchEvent(new ia.default(W.default.lm,{ad:this.u,url:this[wa].url}));var c=
new Ba.default(this.Pa,this.D,this.ad,this[qa],this[Eb],this.u,this.l,this.A,this);this[La]=c;this.ze&&(this.ze.N(),this.ze=null);this.ze=ca.default.group(ca.default.bind(c,pb.default.Kn,B.bind(this)),ca.default.bind(c,W.default.Aa,function(b){return K.call(a,c,b)}),ca.default.bind(c,qb.default.Mc,v.bind(this)),ca.default.bind(c,W.default.Rb,this.yi.bind(this)),ca.default.bind(c,W.default.pe,this.bp.bind(this)),ca.default.bind(c,W.default.ja,function(b){a.jk(b,c);a.l.dispatchEvent(new ia.default(W.default.fc,
{ad:a.u}));b=+a[La].getDuration();var d=+a[qa].duration;0<b&&(b>1.8*d||d>1.8*b)&&a[Ab].Hc("ad",null,"ad duration mismatch: expected "+d+" but real duration: "+b)}),ca.default.bind(c,W.default.Gb,this.Yo.bind(this)),ca.default.bind(c,W.default.oe,this.Zo.bind(this)),ca.default.bind(c,W.default.Oc,this.Lf.bind(this)),ca.default.bind(c,W.default.gb,function(b){a.Uu(b);var c=a[qa]||{};if(c.Dd&&!a[Rb]){var d=0;b=b.data||{};c.Pi?d=c.Pi:c.Oi&&(d=b.duration*c.Oi/100);b.currentTime>=d&&(a[Rb]=!0,a.l.dispatchEvent(new ia.default(qb.default.Nc,
{Dd:a.na()})))}}),ca.default.bind(c,W.default.qe,this.Wu.bind(this)),ca.default.bind(c,W.default.Fb,this.Wl.bind(this)),ca.default.bind(c,W.default.Oc,this.Lf.bind(this)),ca.default.bind(c,za.default.Ln,x.bind(this)));this[ja].push(c);e.call(this,c)}else y.call(this)}}function x(a){this[Ab].Hc("ad",null,'VPAID sends "'+a.data+'" event twice')}function v(a){ba.debug("received linear change event",a);a.data.isLinear||this.ia(O.default.Ps);this.l.dispatchEvent(ma.default.LINEAR_CHANGE,a)}function w(){var a=
this[na].ads[0];return a?(a.Di?(a=this[na],this.Wa.ff(),this.Wa.$e(a)):(this[na].ads.shift(),f.call(this,a),this.Ri(),y.call(this)),!0):(a=z.call(this))?(this.Wa.ff(),this.Wa.$e(a),!0):!1}function z(){for(var a=this[na].parent;a&&(0===a.ads.length||!a.ads[0].Cb);)this.Wa.Ev(),a=a.parent;return a}function A(a,b){return b.filter(function(b){return b.$o===a.Dl||+b.width===a.width&&+b.height===a.height})[0]||null}function B(a){a=a.br;this.Pa&&(a=Math.min(this.Pa.$q(),a));a=new pb.default(a);this.dispatchEvent(a);
this.l.dispatchEvent(a)}function C(a,b){var c=this;ba.debug("showCompanions",b);if(!(1<this[ja].length))for(var d={};b;)this[Pb].forEach(function(f){var h=f.Dl;if(!d[h])for(var l=0;l<b.Zh.length;l++){var k=b.Zh[l],m=A(f,k.ai);if(m){a.addEventListener(ra.default.Pg,g.bind(c));f=new wb.default(a,k,m,f,c.l,c);c.dispatchEvent(new ia.default(W.default.Fm));a.dispatchEvent(new X.default(la.default.se,k));c.uy();c[ib]=E.bind(c,f);f.addEventListener(W.default.dc,c[ib]);f.addEventListener(W.default.fb,c[ib]);
f.addEventListener(W.default.vg,c[ib]);e.call(c,f);c[ja].push(f);d[h]=!0;break}}}),b=b.Tp()}function E(a,b){ba.debug("companionDied",b);a.removeEventListener(W.default.dc,this[ib]);a.removeEventListener(W.default.fb,this[ib]);a.removeEventListener(W.default.vg,this[ib]);this.dispatchEvent(new ia.default(W.default.Zr))}function D(a){ba.debug("killAds");this.Xj=!0;this[Ha].stop();this[Ra].length=0;0<this[ja].length?this[ja].forEach(function(a){return a.stop()}):K.call(this);a||(this[ja].length=0)}function F(a,
b){var c=[];this[ja].forEach(function(b){b!==a&&c.push(b)});this[ja].length=0;if(0===c.length)return null;(new Ka.default(c,K.bind(this,a,b))).fz(W.default.Aa);c.forEach(function(a){return a.stop()});return c}function K(a,b){ba.debug("completeAd",a,b);this[Ha].stop();this.zh=!1;if(b){if(null!=F.call(this,a,b))return;var c=a.aw();c&&(this.bf(new Aa.default(c?c.message||c.description:"")),this.Oh=N.call(this,c));b.force&&(this.zh=!0);this.Kf(b.currentTime,b.data);if(a instanceof Ba.default){ba.debug("showNextLinearCreative");
if(this.wb)this.Oh||(this.Oh=N.call(this)),r.call(this,this.Oh)||K.call(this);else{if(a=-1===this.wa.Mb)a=this[na].ads[0],a=!(!a||!a.Cb);this.l.kl()||a?w.call(this)||K.call(this):K.call(this)}return}if(a instanceof db.default){K.call(this);return}}this.zh||this.complete()}function L(){var a=void 0,b=void 0,c=[];this.ad&&this.ad.ab&&this.ad.ab.length?c=da.default.yw(this.ad.ab):this[ja]&&this[ja].length?this[ja].forEach(function(d){d.qa&&(a=(d.qa()||{}).url||"",b=ob.default.Pe(a)||a,c.push(b))}):this[La]&&
this[La].qa&&(a=(this[La].qa()||{}).url||"",b=ob.default.Pe(a)||a,c.push(b));return c.join(",")}function N(a){return{code:a&&a.code||this.wb.code||bb.code,description:a&&a.description||this.wb&&this.wb.message||bb.description}}Object.defineProperty(d,"__esModule",{value:!0});var U=a(0),H=b(U),P=a(2),J=b(P),Q=a(1),M=b(Q),R=a(6),G=b(R),I=a(51),O=b(I),fa=a(7),V=b(fa),ha=a(13),ia=b(ha),Z=a(8),ca=b(Z),aa=a(4),Ja=b(aa),ta=a(288),Ka=b(ta),ua=a(55),sb=b(ua),va=a(151),tb=b(va),$a=a(14),ob=b($a),Ta=a(22),Pa=
b(Ta),ub=a(150),pb=b(ub),Na=a(10),qb=b(Na),oa=a(149),vb=b(oa),nb=a(287),wb=b(nb),Ca=a(281),cb=b(Ca),xb=a(280),yb=b(xb),mb=a(279),Ba=b(mb),ab=a(273),Ua=b(ab),Ga=a(272),db=b(Ga),lb=a(78),ka=b(lb),xa=a(27),la=b(xa),Fa=a(52),Y=b(Fa),Ea=a(139),eb=b(Ea),T=a(85),Va=b(T),ya=a(38),W=b(ya),pa=a(12),X=b(pa),fb=a(53),S=b(fb),Ma=a(82),ra=b(Ma),kb=a(142),za=b(kb),ea=a(84),ma=b(ea),Za=a(271),gb=b(Za),Sa=a(270),da=b(Sa),sa=a(19),Oa=b(sa),Cb=a(86),Aa=b(Cb),Wa=a(103),Da=a(44),Xa=b(Da),ba=Ja.default.B("VastEngine"),
bb=Oa.default.uf,rb=[X.default.jf,X.default.Rb,X.default.ta,X.default.Ka,la.default.xe,la.default.xf,la.default.wf,la.default.se,la.default.mf,la.default.LOADED,la.default.hb,la.default.LINEAR_CHANGE,Va.default.vf],hb={};hb[Pa.default.Id]=O.default.Id;hb[Pa.default.qj]=O.default.Aj;hb[Pa.default.Pd]=O.default.Pd;hb[Pa.default.Aa]=O.default.FINISHED;var Pb=(0,G.default)(),La=(0,G.default)(),qa=(0,G.default)(),Ab=(0,G.default)(),Jb=(0,G.default)(),jb=(0,G.default)(),Bb=(0,G.default)(),Qa=(0,G.default)(),
Kb=(0,G.default)(),Ra=(0,G.default)(),wa=(0,G.default)(),Eb=(0,G.default)(),Fb=(0,G.default)(),Db=(0,G.default)(),Ha=(0,G.default)(),Rb=(0,G.default)(),na=(0,G.default)(),ja=(0,G.default)(),ib=(0,G.default)(),Qb=(0,G.default)(),Xb=function(a){function b(c,d,e,f,g,h,k){(0,H.default)(this,b);c=(0,J.default)(this,a.call(this,c,d,e,f));c.D=h.$b;c[Fb]=h.jy;c[Jb]=g;c[Pb]=k||[];c[Ra]=[];c[Db]=[];c[Kb]=!0;c[jb]=0;c[ja]=[];c[Ha]=new tb.default;c[Bb]=c.l.ha().F(V.default.tb);c[Ab]=c.l.ha().F(V.default.Wc);
c.l.addEventListener(ma.default.rf,l.bind(c));c.Wa.addEventListener(Wa.ne,q.bind(c));return c}(0,M.default)(b,a);b.prototype.Gi=function(b){ba.debug("onLoaded",b);this.Iu=b.ads.length;this.qc||(this[na]=b,b=this[na].ads.shift(),this[Qa]=gb.default.create(this.u),this[Qa].parse(b),f.call(this,b),this.Ce?y.call(this):a.prototype.Gi.call(this,b))};b.prototype.jr=function(a){this.Ri(a);this.hk();y.call(this)};b.prototype.pg=function(){var b=this;a.prototype.pg.call(this);var c=this.u.Fc;ba.debug("showOverlay",
c);var d=this[Fb].offsetWidth,e=this[Fb].offsetHeight,f=isNaN(c.width)?d:Math.min(c.width,d),g=isNaN(c.height)?e:Math.min(c.height,e),h=void 0;0<this[Db].filter(function(a){b[wa]=Ua.default.resolve({height:g,width:f,x:0,y:0},a.Gq);if(b[wa]&&b[wa].ac&&b[wa].ac[0]&&b[wa].ac[0].value)return b[ja].push(new db.default(b[Ha],b[Fb],b[na].ads[0]||b.ad,a,b[wa],c,b.l,b.A,b)),b[Ha].Ml(p.bind(b),1E3*c.yp),!0;h=b[wa]&&b[wa].error;return!1}).length||(this.ad&&this.ad.dispatchEvent(new X.default(X.default.ta,null,
null,{error:h})),this.Fd(O.default.LOADED,Oa.default.hn,"Unable to find suitable overlay creatives"))};b.prototype.stop=function(){this.qc||(this[Ha].stop(),this.ad&&this.ad.state.loaded?D.call(this):this.ia(O.default.qs),this.ze&&(this.ze.N(),this.ze=null),this[qa]=null,a.prototype.stop.call(this))};b.prototype.za=function(){this.No=!0;this.ye?(this.ye.bi(Pa.default.nt),this.ye.za()):D.call(this,!0)};b.prototype.pause=function(){ba.debug("pause");this.He&&(this[Ha].pause(),this[ja].forEach(function(a){return a.pause()}))};
b.prototype.resume=function(){ba.debug("resume");this.He&&(this[Ha].resume(),this[ja].forEach(function(a){return a.resume()}))};b.prototype.setVolume=function(a){ba.debug("setVolume",a);this[ja].forEach(function(b){return b.setVolume(a)})};b.prototype.getDuration=function(){var a=0;this[ja].forEach(function(b){b.getDuration&&(a=Math.max(a,b.getDuration()))});return a};b.prototype.cb=function(){return this[qa]?this[qa].duration:0<this[Ra].length?this[Ra][0].duration:0};b.prototype.na=function(){var a=
this[qa]?this[qa].Dd:!1;if(this[La].na){var b=this[La].na();a="undefined"!==typeof b?b:a}return a};b.prototype.yc=function(){return this.ad&&this.ad.Fy};b.prototype.Xh=function(b,c,d){!d&&this[Qa]&&(d=this[Qa].Qh);return a.prototype.Xh.call(this,b,c,d)};b.prototype.ia=function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c.Su=this.cb()||"NULL";this[Qa]&&(this[Qa].ik&&(c.ik=this[Qa].ik),this[Qa].Vh&&(c.Vh=this[Qa].Vh),this[wa]&&(c.Wx=this[wa]));c.Tv=this[jb];a.prototype.ia.call(this,
b,c)};b.prototype.Fi=function(b){var c=b;c instanceof Aa.default||(c=c instanceof sb.default?new Aa.default(b.message,Aa.default.lh,b.Vl):new Aa.default(b.message));ba.debug("onInterrupted",c,"configEntry",this.u);a.prototype.Fi.call(this,c);K.call(this)};b.prototype.Kf=function(b,c){a.prototype.Kf.call(this,b,c);this.ad&&this.ad.dispatchEvent(new X.default(la.default.hb,this[qa]));z.call(this)||0!==this[na].ads.length||this.stop();this.ad=null;this.No=!1};b.prototype.qa=function(){this[ja].forEach(function(a){if(a.qa)return a.qa()});
return null};b.prototype.track=function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c.vastModelAd=this.ad;if(b===Xa.default.ne){for(var d="",e=this[na];e&&e.nr;)d=e.nr+" "+d,e=e.parent;c.url=d}a.prototype.track.call(this,b,c)};b.prototype.Fd=function(b,c,d){a.prototype.Fd.call(this,b,c,d,L.call(this))};b.prototype.gi=function(b){this.ad&&this.ad.dispatchEvent(new X.default(X.default.ta,null,null,{pd:b,error:Oa.default.uf}));a.prototype.gi.call(this,b);D.call(this)};return b}(vb.default);
d.default=Xb},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);a=a(56);a=b(a);var e=(0,c.default)();a=function(a){function b(c){(0,k.default)(this,b);var d=c.ad;delete c.ad;c=(0,l.default)(this,a.call(this,c));c[e]=d;return c}(0,n.default)(b,a);b.prototype.load=function(){this.el();this.ff();this.Nq(this[e])};return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);var e=a(56);e=b(e);a=a(152);var f=b(a),h=(0,c.default)();a=function(a){function b(c){(0,k.default)(this,b);var d=c.ad;delete c.ad;c=(0,l.default)(this,a.call(this,c));c[h]=d;return c}(0,n.default)(b,a);b.prototype.load=function(){this.el();this.ff();var a=new f.default;a.ads=this[h]||[];this.$e(a)};return b}(e.default);d.default=a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(57);var e=b(c);a=a(102);a=function(a){function b(){(0,k.default)(this,b);return(0,l.default)(this,a.apply(this,arguments))}(0,n.default)(b,a);b.prototype.getType=function(){return e.default.ss};return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){var b=this[x].filter(function(b){return b.Ol===a})[0];b=
b&&b.Ox;b||(b=q.default.empty(),this[x].push({Ox:b,Ol:a}));return b}function l(a){n.call(this,a);k.call(this,a).link(q.default.bind(a,u.default.ja,e.bind(this,a)),q.default.bind(a,u.default.Kc,this.Py.bind(this,a)));a.bc()}function n(a){k.call(this,a).N();this[x]=this[x].filter(function(b){return b.Ol!==a})}function e(a){var b=this,c=this[v].indexOf(a),d=a.ca();y.debug("Winner shim is "+(d?d.getName():"undefined")+". Killing others.");d=this[v].concat();d.splice(c,1);d.forEach(function(a){n.call(b,
a);a.stop()});this[v]=[a]}function f(a){n.call(this,a);a=this[v].indexOf(a);-1!==a&&this[v].splice(a,1)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var h=b(c);c=a(2);var g=b(c);c=a(1);var m=b(c);c=a(6);c=b(c);var p=a(8),q=b(p);p=a(4);p=b(p);var t=a(155),r=b(t);t=a(154);t=b(t);a=a(10);var u=b(a),y=p.default.B("MassiveAdEngineAdapter"),x=(0,c.default)(),v=(0,c.default)(),w=(0,c.default)(),z=(0,c.default)();a=function(a){function b(c,d,e){(0,h.default)(this,b);var f=(0,g.default)(this,a.call(this));
f[v]=[];f[x]=[];f[w]=[];c.forEach(function(a){return f[v].push(new r.default(a,d,e))});return f}(0,m.default)(b,a);b.prototype.load=function(){var b=this;a.prototype.load.call(this);this[w]=[];this[v].concat().forEach(function(a){k.call(b,a).link(q.default.bind(a,u.default.Lc,b.ready.bind(b,a)),q.default.bind(a,u.default.Kc,b.Qy.bind(b,a)));a.load()})};b.prototype.bc=function(){var b=this;a.prototype.bc.call(this);this[w].forEach(function(a){return l.call(b,a)});this[w]=[]};b.prototype.ready=function(b,
c){this[z]||(this[z]=!0,a.prototype.ready.call(this),this.dispatchEvent(c));this.wd()?l.call(this,b):this[w].push(b)};b.prototype.Qy=function(b,c){f.call(this,b);0===this[v].length&&(a.prototype.complete.call(this,!0),c.vk=b.ca(),this.dispatchEvent(c))};b.prototype.Py=function(b,c){f.call(this,b);0===this[v].length&&(a.prototype.complete.call(this,b.bg()),c.vk=b.ca(),this.dispatchEvent(c))};b.prototype.stop=function(){var b=this;this.tq()||this.bg()||this.dg()||(a.prototype.stop.call(this),this[v]=
[],this[x].forEach(function(a){a=a.Ol;a.stop();n.call(b,a)}))};b.prototype.za=function(){a.prototype.za.call(this);this[v].forEach(function(a){return a.za()})};b.prototype.pause=function(){a.prototype.pause.call(this);this[v].forEach(function(a){return a.pause()})};b.prototype.resume=function(){a.prototype.resume.call(this);this[v].forEach(function(a){return a.resume()})};b.prototype.setVolume=function(b){a.prototype.setVolume.call(this);this.wd()&&this[v].forEach(function(a){return a.setVolume(b)})};
b.prototype.getDuration=function(){return 0<this[v].length?this[v][0].getDuration():a.prototype.getDuration.call(this)};b.prototype.cb=function(){return 0<this[v].length?this[v][0].cb():a.prototype.cb.call(this)};b.prototype.na=function(){return 0<this[v].length&&"function"===typeof this[v][0].na?this[v][0].na():a.prototype.na.call(this)};b.prototype.Ob=function(){return 0<this[v].length?this[v][0].Ob():a.prototype.Ob.call(this)};b.prototype.ca=function(){return 0<this[v].length?this[v][0].ca():a.prototype.ca.call(this)};
b.prototype.qa=function(){return 0<this[v].length?this[v][0].qa():a.prototype.qa.call(this)};return b}(t.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this,b=this[H];this[H]=[];b.forEach(function(b){D.debug("Execute deferred function:",b);b.call(a)})}function l(){return this[J].every(function(a){return a.bg()})}function n(a,b){this[P]!==F.LOADED&&this[P]!==F.we&&(this[P]=F.LOADED,k.call(this),a&&a(b.data))}function e(a,b){w.default.ma(a,
E.default.Lc,n.bind(this,b));a.fp(w.default.bind(a,E.default.Lc,f.bind(this,a)),w.default.bind(a,E.default.Kc,p.bind(this)))}function f(a){D.debug("adapterReady",a);this[P]===F.we&&(this[J][0].Ci()&&(D.debug("run the most priority adapter",a),m.call(this)),-1===this[M]&&m.call(this))}function h(){D.debug("softTimeout ("+this[L].Gc+"s)");this[M]=-1;this[P]===F.we&&(this[J][0].wd()?D.info("the most priority adapter is already running"):m.call(this))}function g(){D.debug("hardTimeout ("+this[L].Ac/1E3+
"s)");this[R]=-1;this[P]===F.we&&(this[G]||t.call(this,"hard timeout"))}function m(){if(!this[G])for(var a=0;a<this[J].length;a++){var b=this[J][a];if(b.Ci()){a=b;D.debug("runReadyEngineAdapter",a);this[G]=a;this[K].dispatchEvent(E.default.ug,a);a.bc();break}}}function p(a){var b=a.vk;D.debug("adapterComplete","configEntry",b,"event",a);var c=a.Xu,d=c===this[G];d&&(this[G]=null);c.bg()?(a=a.data&&a.data.fi,D.debug("adapterFailed",b,c,d),this[N].Dq(b),l.call(this)?t.call(this,"all ads are failed",
a):this[P]===F.we&&d&&(D.info("Engine completed with error."),q.call(this)?(D.info("Trying next engine..."),m.call(this)):this.dispatchEvent(new v.default(v.default.Aa,{error:"no alive adapters left"})))):(q.call(this)?this[P]=F.LOADED:(this[P]=F.hb,this.reset()),this.dispatchEvent(new v.default(v.default.Aa)));this[K].dispatchEvent(E.default.Kc,b)}function q(){return this[J].some(function(a){return a.Dx()||a.Ci()})}function t(a,b){D.debug("finish",a);this.stop();this.dispatchEvent(new v.default(v.default.Aa,
{fi:b,error:a}))}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var r=b(c);c=a(2);var u=b(c);c=a(1);var y=b(c);c=a(6);c=b(c);var x=a(13),v=b(x);x=a(8);var w=b(x);x=a(4);x=b(x);var z=a(23);z=b(z);var A=a(155),B=b(A);A=a(293);var C=b(A);a=a(10);var E=b(a),D=x.default.B("AdsRunner"),F={Qg:"Created",LOADED:"Loaded",we:"Running",hb:"Stopped"},K=(0,c.default)(),L=(0,c.default)(),N=(0,c.default)(),U=(0,c.default)(),H=(0,c.default)(),P=(0,c.default)(),J=(0,c.default)(),Q=(0,c.default)(),M=(0,c.default)(),
R=(0,c.default)(),G=(0,c.default)();a=function(a){function b(c,d,e,f){(0,r.default)(this,b);var g=(0,u.default)(this,a.call(this));D.debug("init","adsConfig",c);g[K]=d;g[L]=c;g[N]=e;g[U]=f;g.reset();return g}(0,y.default)(b,a);b.prototype.reset=function(){this[H]=[];this[P]=F.Qg;this[J]=[];this[G]=null;this[Q]=1;this[M]=-1;this[R]=-1};b.prototype.bc=function(){D.debug("run");if(this.dg())t.call(this,"Runner already stopped");else if(this[P]!==F.LOADED){var a=this.bc;D.debug("Register deferred function:",
a);this[H].push(a)}else this[P]=F.we,this[J][0].Ci()&&(D.debug("run the most priority adapter",this[J][0]),m.call(this)),-1===this[M]&&m.call(this),this[P]!==F.Qg&&(0===this[J].length?t.call(this,"No adapters - finish"):l.call(this)&&t.call(this,"All adapters failed - finish"))};b.prototype.load=function(a,b){var c=this;D.debug("load",a);if(0===a.length)t.call(this,"no ad entries");else{var d=[],f=this[L].Ac;a.forEach(function(a){f=Math.max(f,a.Xp());var g=a.getAdEngineType(),h=c[K].$v(g);h?(g=h.xk(a),
a.Vj?d.push(g):(a=new B.default(g,c[L],c[N]),c[J].push(a),e.call(c,a,b))):(D.error("Ignore ad config entry ",a," Unknown ad engine type ",g),c[N].Dq(a))});0<d.length&&(a=new C.default(d,this[L],this[N]),this[J].push(a),e.call(this,a,b));this[M]=setTimeout(h.bind(this),this[L].Gc);this[R]=setTimeout(g.bind(this),f);this[K].dispatchEvent(E.default.gm,this[J]);this[J].forEach(function(a){void 0!==c[Q]&&a.setVolume(c[Q]);a.load()})}};b.prototype.stop=function(){D.debug("stop");this[P]=F.hb;this[J].forEach(function(a){return a.stop()})};
b.prototype.za=function(){this[G]?this[G].za():this[J][0]&&this[J][0].za()};b.prototype.pause=function(){this[J].forEach(function(a){a.wd()&&a.pause()})};b.prototype.Ob=function(){if(this[G])return this[G].Ob()};b.prototype.resume=function(){this[J].forEach(function(a){a.wd()&&a.resume()})};b.prototype.setVolume=function(a){this[Q]=a;this[J].forEach(function(b){return b.setVolume(a)})};b.prototype.getDuration=function(){if(this[G])return this[G].getDuration()};b.prototype.cb=function(){if(this[G])return this[G].cb()};
b.prototype.na=function(){if(this[G])return this[G].na()};b.prototype.yc=function(){if(this[G])return this[G].yc()};b.prototype.qa=function(){if(this[G])return this[G].qa()};b.prototype.dg=function(){return this[P]===F.hb};b.prototype.Cx=function(){return this[P]===F.LOADED};return b}(z.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(4);var l=b(c);c=a(5);var n=b(c);a=a(156);var e=b(a);a=
function(){function a(b,c,d,f,n){(0,k.default)(this,a);l.default.B("CompanionSlot").debug("init","width",b,"height",c,"parentSelector",d,"keepCompanion",f,"selectorType",n);this.width=b||0;this.height=c||0;this.Dl=d;this.Mx=f||!1;this.Ey=n||e.default.nj}a.prototype.toString=function(){return n.default.Ve(this)};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];m.debug("parseCompanionSlots",
"raw slots",b);b.forEach(function(b){b=new h.default(b.width,b.height,b.parent,b.keepCompanion,b.selectorType);a.$h.push(b)});m.debug("parseCompanionSlots","parsed slots",this.$h)}function l(a){var b=this;m.debug("parse",a);this.CB=a.asids||[];this.sl=a.maxLinearShowTime||p.sl;this.lk=null!=a.prerollInterleave?a.prerollInterleave:p.lk;this.Mb=a.podSize||p.Mb;this.Jv=a.domainOptimisation;this.Al=a.overlayTiming;this.Gc=1E3*a.softTimeout||p.Gc;this.Ac=1E3*a.hardTimeout||8*this.Gc;this.Vy=Math.min(1E3*
a.startTimeout||6*this.Ac,2147483647);this.rl=Math.min(1E3*a.maxAdSearchTime||p.rl,2147483647);if(this.Ac<this.Gc){var c=[this.Ac,this.Gc];this.Gc=c[0];this.Ac=c[1]}this.autoplay=a.autoplay;this.iv=a.iv;this.volume=a.volume;this.Yq=a.Yq||a.publisherPayout;this.Xq=a.Xq||a.publisherAmount;this.Sh=a.adStrategy||f.default.Cr;this.mx=a.isBrandedContent;this.Pl=a.skipSettings||{};this.$a=a.clickThroughUrl;this.qv=a.chromeHackPreinitialisation;(a.aeg||[]).forEach(function(a){return b.Tf.push(a.map(function(a){return g.default.parse(a,
b)}))});k.call(this,a.companions)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);var e=a(110),f=b(e);e=a(295);var h=b(e);a=a(163);var g=b(a),m=c.default.B("AdsConfig"),p={lk:1,Mb:1,rl:0,sl:90,Gc:400};d.default=function r(a){(0,n.default)(this,r);this.$h=[];this.Tf=[];l.call(this,a)}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this;this[F].addEventListener(x.default.LOADING,e.bind(this));this[F].addEventListener(x.default.LOADED,
f.bind(this,"LOADED"));this[F].addEventListener(x.default.ve,f.bind(this,"FAILED"));this[F].addEventListener(A.default.ug,h.bind(this));this[F].addEventListener(A.default.ja,l.bind(this));this[F].addEventListener(A.default.cc,l.bind(this));this[F].addEventListener(A.default.gm,function(b){a[C]||e.call(a);a[E]&&!a[E].end&&h.call(a);a[E]={ads:[],duration:null,end:null,label:"aegGroup",start:+new Date};a[C].adGroups.push(a[E]);n.call(a,b)});this[F].addEventListener(y.Pn,function(b){b=b.data;var c=m.call(a,
b.ad);c&&c.adChain.push({duration:null,end:null,start:+new Date,url:b.url})});this[F].addEventListener(y.Qn,function(b){b=b.data;u.default.ma(b.ad,w.default.ta,p.bind(a,b))});this[F].addEventListener(y.On,function(b){b=(b=m.call(a,b.data.ad))&&b.adChain||[];b.length&&(b=b[b.length-1],b.end=+new Date,b.duration=b.end-b.start)});this[F].addEventListener(v.default.lm,function(b){b=b.data;var c=m.call(a,b.ad);c&&c.adMediaFiles.push({duration:null,end:null,start:+new Date,url:b.url})})}function l(a){this[B].adStartTime||
(this[B].startAdTime=+new Date,this[B].adStartTime=this[B].startAdTime-this[B].initTime,h.call(this),a&&a.data&&(a=m.call(this,a.data.ad))&&a.adMediaFiles.length&&(a=a.adMediaFiles[a.adMediaFiles.length-1],a.end=this[B].startAdTime?this[B].startAdTime:+new Date,a.duration=a.end-a.start))}function n(a){var b=this;a.forEach(function(a){var c=g.call(b,a);a.addEventListener(A.default.Lc,function(){c.end=+new Date;c.duration=c.end-c.start});a.addEventListener(A.default.Kc,function(){c.complete=+new Date})})}
function e(a){var b=a&&a.data||{};this[C]&&!this[C].adServerResponse&&f.call(this,"FAILED",a);this[C]={adGroups:[],adStrategy:b.Sh,duration:null,end:null,label:"adServerRequest",requestUrl:null,start:+new Date,type:b.type};this[B].adServerRequests.push(this[C]);return this[C]}function f(a,b){this[C]||e.call(this);var c=this[C];c.end&&c.status||(c.end=+new Date,c.duration=c.end-c.start,c.requestUrl=b&&b.data&&b.data.og||null,c.status=a,"FAILED"===a&&(a="Failed ad server response",b&&b.data&&b.data.error&&
b.data.error.pr&&(a="Ad server response timeout: "+b.data.error.request.timeout+"ms"),c.error=a))}function h(){this[E]&&(this[E].end=+new Date,this[E].duration=this[E].end-this[E].start)}function g(a){a=a.ca();var b="",c="",d="",e="",f="",g="";a&&(b=a.getAcid(),c=a.getType(),d=a.getVendor(),e=a.getName(),g=a.getRuleId(),f=a.getAsid());c={adChain:[],adMediaFiles:[],duration:null,end:null,name:e,start:+new Date,type:c,vendor:d};g&&(c.rid=g);b&&(c.acid=b);f&&(c.asid=f);this[D].push({ad:c,Ak:a});this[E].ads.push(c);
return c}function m(a){var b=this[D].filter(function(b){return b.Ak===a}).slice(-1);return(b=(0,t.default)(b,1)[0])&&b.ad||null}function p(a,b){var c=m.call(this,a.Ak);if(c){var d=c.adChain;if(0<d.length){var e=void 0;e=b.data.error.code===z.default.uf.code&&b.data.pd?b.data.pd:b.data.error.code+" "+b.data.error.description;var f=void 0;a.ur?d.forEach(function(b){b.url===a.ur&&(f=b)}):f=d[d.length-1];f.error=e;b=c.adMediaFiles;0<b.length&&(b[b.length-1].error=e)}}}Object.defineProperty(d,"__esModule",
{value:!0});c=a(0);var q=b(c);c=a(95);var t=b(c);c=a(6);c=b(c);var r=a(8),u=b(r),y=a(56);r=a(43);var x=b(r);r=a(38);var v=b(r);r=a(12);var w=b(r);r=a(19);var z=b(r);a=a(10);var A=b(a),B=(0,c.default)(),C=(0,c.default)(),E=(0,c.default)(),D=(0,c.default)(),F=(0,c.default)();a=function(){function a(b){(0,q.default)(this,a);this[B]={adServerRequests:[],adStartTime:null,initTime:+new Date,startAdTime:null};this[C]=null;this[E]=null;this[D]=[];this[F]=b;k.call(this)}a.prototype.Mw=function(){return this[B]};
return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{a:{ed:{}},f:{}});b.f=a(9).vdb.f;b.a.ed=b.f.Class.extend(function(){return{K:function(a,b){this.pu=a;this.vu=b},apply:function(a){return a.replace(this.pu,this.vu)}}}());d.vdb={a:{ed:b.a.ed}};d.default=b.a.ed;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{Zc:{}},f:{},c:{}});b.f=a(9).vdb.f;b.c=a(5).vdb.c;b.a.Zc=b.f.Class.extend(function(){return{K:function(a,b){Array.isArray(b)||(b=[b]);this.Ko=a;this.Go=b.slice(0)},apply:function(a){if(!a)return a;
var c=this.Ko;c=b.c.vq(c)?c():c;c=null!=c?c.toString():"";for(var d=0;d<this.Go.length;d++){var e=this.Go[d],f=null!=e.match(/^\W/g),h=null!=e.match(/\W$/g);e=e.replace(/([{}\(\)\^$&.\*\?\/\+\|\[\\\\]|\]|\-)/g,"\\$1");a=a.replace(new RegExp((f?"":"(\\W|^)")+e+(h?"":"(\\W|$)"),"g"),(f?"":"$1")+c+(h?"":"$2"))}return a}}}());d.vdb={a:{Zc:b.a.Zc}};d.default=b.a.Zc;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{a:{fh:{},Ta:{},ua:{},Ub:{},R:{}},c:{},Ga:{Ca:{}},f:{},b:{i:{},kc:{}}});b.c=a(5).vdb.c;b.Ga.Ca=
a(47).vdb.Ga.Ca;b.f=a(9).vdb.f;b.b.i=a(7).vdb.b.i;b.b.kc=a(71).vdb.b.kc;b.a.Ta=a(88).vdb.a.Ta;b.a.ua=a(87).vdb.a.ua;b.a.Ub=a(157).vdb.a.Ub;b.a.R=a(25).vdb.a.R;b.a.fh=b.f.Class.extend(function(){function a(){if(3>arguments.length)return"";var a=arguments[2].replace(/^m\./,""),b=arguments[0];return this.j.Ab(a)||b}function c(){if(3>arguments.length)return"";var a=arguments[2].replace(/^m\./,"");return encodeURIComponent(this.j.Ab(a)||"")}function d(){if(3>arguments.length)return"";var a=arguments[2];
return this.Ya&&this.Ya.metadata[a]}var e=b.a.Ub,f=b.b.kc,h=b.Ga.Ca,g=b.b.i;return{K:function(a,b){this.jb=a;this.wa=b;this.Xd=[];this.aa=this.jb.F(g.La);this.j=this.jb.F(g.O);this.Zb=this.jb.F(g.Vb);this.ld=this.jb.F(g.tb);this.A=this.jb.F(g.ue)},dl:function(){this.Xd=[];this.Ya=this.aa.uc();var a=this.aa.Uw()||{};if(this.Ya){var c=a.w;var d=a.h;var e=this.Ya.metadata||{};e=e.duration?Math.round(e.duration/1E3):""}else this.Ya={},d=this.aa.ui()||{},c=d.width,d=d.height,e="";c=parseInt(c,10)||0;d=
parseInt(d,10)||0;var g=Math.max(c,d);g=0===g?-1:350>g?1:500>g?2:3;var l=encodeURIComponent(this.j.Ab(h.URL)||b.a.R.xc(window)),k=b.c.dx,n=this.j.Wp(),v=this.aa.Lk();this.Xd.push(f.Or.concat(this.j.ee()?this.j.ee().utid||"":""),f.Pr.concat(this.A.bw()),f.Qr.concat(this.wa.autoplay?1:0),f.cj.concat(k(this.j.Ab(h.cj),0)),f.Ur.concat(k(this.j.Ab(h.Tr),1)),f.Vr.concat(this.j.Fk()),f.Bm.concat(Math.random().toString(10).substr(2)),f.$r.concat(d),f.bs.concat(c),f.cs.concat(b.a.Ta.Yv(this.A.getCurrentTime(),
!0,!0)),f.hs.concat(this.Ya.deRssId),f.js.concat(encodeURIComponent(l)),f.ns.concat(this.zw(location.hostname)),f.os.concat(location.host),f.vs.concat(this.ld.cg()?1:0),f.ws.concat(b.a.ua.Cc()?1:0),f.Ib.concat(this.Zb.sa()),f.Ns.concat(this.A.isMuted()?1:0),f.Vs.concat(""),f.Xs.concat(this.j.ti()),f.pn.concat(g),f.kt.concat(this.Ya.rssVideoId),f.rt.concat((new Date).getTime()),f.vt.concat(this.Ya.description),f.wt.concat(this.Ya.detailPage),f.xt.concat(e),f.yt.concat(this.Ya.videoUrls&&this.Ya.videoUrls[0]),
f.zt.concat(d),f.At.concat(this.Ya.id),f.Bt.concat(this.Ya.keywords),f.Dt.concat(a.MB),f.Ft.concat(this.Ya.title),f.Gt.concat(l),f.Ht.concat(c),f.Ar.concat(this.Zb.sa()),f.It.concat(this.Zb.ge()),f.Jt.concat(this.Zb.ge()),f.Kt.concat(this.j.bq().vvuid),f.Ls.concat(this.j.pi()?this.j.pi().latitude:""),f.Ms.concat(this.j.pi()?this.j.pi().longitude:""),f.fs.concat(b.a.R.Fw()),f.Dn.concat(parseInt(100*this.aa.getVolume())),f.us.concat(n&&n.euconsent),f.xs.concat(n&&n.gdpr),f.Ys.concat(0<=v?v+1:""))},
resolve:function(b){this.dl();return e.create.apply(null,this.Xd).join(e.Ke(/(\[MACROS:)(.+?)(\])/g,a.bind(this)).join(e.Ke(/(\|MACROS:)(.+?)(\|)/g,a.bind(this))).join(e.Ke(/(\[ENC_MACROS:)(.+?)(\])/g,c.bind(this))).join(e.Ke(/(\|ENC_MACROS:)(.+?)(\|)/g,c.bind(this)))).join(e.Ke(/(\[META:)(.+?)(\])/g,d.bind(this)).join(e.Ke(/(\|meta:)(.+?)(\|)/g,d.bind(this)))).resolve(b)},zw:function(a){a=a.split(/\./);switch(a.length){case 2:return a.slice(-2)[0];default:return a.slice(-3)[0]}}}}());d.vdb={a:{fh:b.a.fh}};
d.default=b.a.fh;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);var e=a(300);e=b(e);a=a(71);var f=b(a),h=(0,c.default)();a=function(a){function b(c,d){(0,k.default)(this,b);d=(0,l.default)(this,a.call(this,c.ha(),d));d[h]=c;return d}(0,n.default)(b,a);b.prototype.dl=function(){var b=this[h].ca();b=b&&b.od||"";a.prototype.dl.call(this);this.Xd.push(f.default.Br.concat(this[h].yc()),
f.default.rs.concat(b))};return b}(e.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){var b=this;if(this.type===m.default.Na){this[t]={};var c={};a.forEach(function(a){var d=p.default.ov(a.type);if(d===m.default.Hb||d===m.default.Ua)b[t][d]||(b[t][d]={}),b[t][d][a.time]||(b[t][d][a.time]=[]),b[t][d][a.time].push(a),c[d]||(c[d]=""),c[d]+=a.time+";"});return c}}function l(a){var b=this,c=a.filter(function(a){return p.default.Ep(a.type,b.type,!0)});
a=a.filter(function(a){return!p.default.Ep(a.type,b.type,!0)&&a.calculated});c=[].concat.apply([],c.filter(function(a){return a.slots}).map(function(a){return a.slots}));a=[].concat.apply([],a.filter(function(a){return a.slots}).map(function(a){return a.slots}));this[r]=c.length;return c.concat(a)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var e=b(c);c=a(1);var f=b(c);c=a(6);c=b(c);var h=a(43);h=b(h);var g=a(18),m=b(g);a=a(20);var p=b(a),q=(0,c.default)(),t=(0,c.default)(),
r=(0,c.default)();a=function(a){function b(c,d,f){(0,n.default)(this,b);return(0,e.default)(this,a.call(this,c,d,f))}(0,f.default)(b,a);b.prototype.load=function(b,c){a.prototype.load.call(this,b);var d=this.Bl.Yk(b);if(b===m.default.Hb||b===m.default.Ua){b=this[t][b]&&this[t][b][c]&&this[t][b][c].shift();if(b.calculated)return this.ig({data:{schema:{pods:[b]}}});d.schemaId=this[q];d.podId=b.id}this.ql(d)};b.prototype.ig=function(b){b=b.data.schema||{};b.id&&(this[q]=b.id);var c=b.pods||[];b=l.call(this,
c);c=k.call(this,c);var d=this[r];this[r]=null;a.prototype.ig.call(this,{data:{podSize:d,slots:b,timings:c}})};return b}(h.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(43);a=function(a){function b(c,d,e){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c,d,e))}(0,n.default)(b,a);b.prototype.load=function(b){a.prototype.load.call(this,b);return this.ql(this.Bl.kw(b))};
return b}(b(a).default);d.default=a},function(c,d,a){var b=a(3)(b||{},{a:{Tc:{},Z:{},L:{}},f:{},log:{},T:{},Promise:{},c:{},o:{}});b.f=a(9).vdb.f;b.log=a(4).vdb.log;b.T=a(16).vdb.T;b.Promise=a(21).vdb.Promise;b.c=a(5).vdb.c;b.o=a(167).vdb.o;b.a.Z=a(20).vdb.a.Z;b.a.L=a(14).vdb.a.L;b.a.Tc=b.f.Class.extend(function(){function a(a){return-1!==b.a.L.Qe(a||"").indexOf("konduit.me")}function c(a){var c=new b.T;a.wi.then(function(b){try{a.Bk.push(c),b.contentWindow.postMessage("getCookies","*")}catch(q){a.Bk.shift(),
c.resolve("")}},function(){c.resolve("")});return c.xa()}function d(a){a.wi||(a.wi=new b.Promise(function(c,d){var e=b.c.createElement("iframe",{src:a.url,style:"visibility:hidden;display:none;width:1px;height:1px;font-size:0;position:fixed;top:0;left:0;"},window.document.body);e.onload=c.bind(null,e);e.onerror=d}))}function e(a){for(var b=0;b<h.length;b++){var c=h[b];if(-1!==a.indexOf(c.domain))return d(c),c}return null}var f=b.log.B("CookieShare"),h=[{domain:"advertising.com",wi:null,Bk:[],url:"//video.adaptv.advertising.com/iframe.html"}];
return{K:function(){b.o.addEventListener(window,"message",function(a){if(a&&"object"===typeof a&&a.origin){var b=e(a.origin);if(b){a=a.data;var c;"string"===typeof a&&0===a.indexOf("cookies: ")&&(c=a.substr(9));c&&((b=b.Bk.shift())?b.resolve(c):f.error("Nobody is waiting for message"))}}})},xw:function(d){return a.call(this,d)&&(d=e(d))?c(d):b.Promise.resolve("")},Ky:function(a,b){(b=e(b))&&b.wi.then(function(b){b.contentWindow.postMessage("setCookies:"+a,"*")})},ny:function(c,d){var e;try{a.call(this,
d)&&(e=c.getResponseHeader("x-kme-set-cookie"))}catch(t){f.debug("Unable to read kme cookie")}if(e=e||"")for(c=e.split(","),e=0;e<c.length;e++){var g=b.a.Z.trim(c[e]||"");g&&this.Ky(g,d)}}}}());d.vdb={a:{Tc:b.a.Tc}};d.default=b.a.Tc;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{Xe:{Dg:{}},f:{},log:{},va:{},c:{}});b.f=a(9).vdb.f;b.log=a(4).vdb.log;b.va=a(28).vdb.va;b.c=a(5).vdb.c;b.Xe.Dg=b.f.Class.extend(function(){var a=b.log.B("AEG Overrider");return{K:function(b){a.debug("init");this.Ko={kr:{}};
this.mc=[];this.Ef=b},Xe:function(a){if(b.c.ke(this.Ef))return a;this.mc=a;if(Array.isArray(this.mc)){this.Ef.vendor||(this.Ef.vendor=b.va["aeg.default_vendor"]);0<this.mc.length&&0<this.mc[0].length?(a=this.mc[0][0],delete a.url,delete a.vastXml,this.mc[0][0]=b.c.extend(a,this.Ef)):(this.mc[0]=[],this.mc[0].push(this.Ef));var c=this.mc}return c}}}());d.vdb={Xe:{Dg:b.Xe.Dg}};d.default=b.Xe.Dg;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,
"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(5);var e=b(c);c=a(4);c=b(c);var f=a(162);f=b(f);a=a(161);var h=b(a),g=c.default.B("OverlayAdConfigEntry");a=function(a){function b(){(0,k.default)(this,b);var c=(0,l.default)(this,a.call(this));c.Fc=null;return c}(0,n.default)(b,a);b.prototype.clone=function(){var a=new b;e.default.Ha(this,a);return a};b.prototype.parse=function(b,c){a.prototype.parse.call(this,b,c);b=b.slot||b||{};g.debug("parse, slot:",b);this.Fc=
new h.default;this.Fc.yp=b.delay||1;this.Fc.width=b.width;this.Fc.height=b.height;this.Fc.Eq=b.maxShowTime||this.wa.maxLinearShowTime||Number.POSITIVE_INFINITY;this.Fc.position=b.position||h.default.rn;g.debug("slotInfo",this.Fc);b=this.Fc.position;c=-1!==[h.default.qn,h.default.rn,h.default.sn,h.default.tn,h.default.un].indexOf(b);g.debug("position support:",b,c);if(!c)throw Error("Bad overlay slot position: "+b);return this};return b}(f.default);d.default=a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);a=a(43);a=function(a){function b(c,d,e){(0,k.default)(this,b);return(0,l.default)(this,a.call(this,c,d,e))}(0,n.default)(b,a);b.prototype.load=function(b){a.prototype.load.call(this,b);return this.ql(this.Bl.Yk(b))};return b}(b(a).default);d.default=a},function(c,d,a){var b=a(3)(b||{},{Od:{},sb:{},log:{}});b.sb=a(58).vdb.sb;b.log=a(4).vdb.log;b.Od=b.sb.extend(function(){function a(a,
b){this.De.warn("Unable to release",a,"(Reason: "+b+")")}return{K:function(a,c){this._super();this.De=b.log.B(c||"Pool");if(a)for(this.Xb=a.concat(),this.De.debug("Register",this.Xb),a=(new Date).getTime(),c=0;c<this.Xb.length;c++)this.Xb[c]&&(this.Xb[c].Wd=a+"_"+c)},getEntries:function(){return this.Xb||[]},size:function(){return this.Xb.length},ke:function(){return 0===this.size()},addEventListener:function(a,c){this._super(a,c);a===b.Od.Event.yn&&this.ke()&&this.Hh(a,[this],c)},release:function(c){if(c)if(c.Wd){for(var d=
0;d<this.Xb.length;d++)if(this.Xb[d].Wd===c.Wd){c=this.Xb.splice(d,1);this.De.debug("Released",c,"pool",this.Xb);this.ke()&&this.dispatchEvent(b.Od.Event.yn,this);return}a.call(this,c,"not found")}else a.call(this,c,"entry w/o pool key");else a.call(this,c,"invalid entry value")}}}());b.Od.Event={yn:"Pool.Released.All"};d.vdb={Od:b.Od};d.default=b.Od;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:[];A.debug("init ad pools with ad groups",b);this[B]=[];b.forEach(function(b){var c=[];b.forEach(function(a){var b=new u.default(a);b.Pc="aem_"+U++;a.forEach(function(a){return a.Pc=b.Pc});c.push(b)});a[B].push(c)});A.debug("Created Ad Pools",this[B])}function l(){this[B]=this[B].filter(function(a){return 0<a.length});for(var a=0;a<this[B].length;a++)this[B][a]=this[B][a].filter(function(a){return 0<a.size()})}function n(){var a=this;this[B]=this[B].filter(function(a){return 0<a.length});
for(var b=0;b<this[B].length;b++)this[B][b]=this[B][b].filter(function(b){return 0<b.getEntries().filter(function(b){return!a[C][b&&b.Pc&&b.Wd?b.Pc+"."+b.Wd:null]}).length})}function e(a,b,c){this[D].dispatchEvent(c);k.call(this,c.data.gk);a=this.ii(a);b({entries:a,Tq:c.data.response&&c.data.response.podSize,Yy:c.data.response&&c.data.response.timings})}function f(a,b,c){this[D].dispatchEvent(c);k.call(this);b({entries:this.ii(a)})}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var h=b(c);
c=a(6);c=b(c);var g=a(110),m=b(g);g=a(7);var p=b(g);g=a(13);var q=b(g);g=a(8);var t=b(g);g=a(4);g=b(g);var r=a(308),u=b(r);r=a(44);var y=b(r);r=a(307);var x=b(r);r=a(303);var v=b(r);r=a(43);var w=b(r);a=a(302);var z=b(a),A=g.default.B("AdEntriesManager"),B=(0,c.default)(),C=(0,c.default)(),E=(0,c.default)(),D=(0,c.default)(),F=(0,c.default)(),K=(0,c.default)(),L=(0,c.default)(),N=(0,c.default)(),U=1;a=function(){function a(b,c){(0,h.default)(this,a);A.debug("init with config",b);this[D]=c;this[L]=
c.ha();this[F]=b;this[B]=[];this[C]={};this[K]=b.Tf&&0<b.Tf.length;this[N]=this[L].F(p.default.Oa);switch(this[F].Sh){case m.default.Hm:b=x.default;c=this[N].hw();break;case m.default.ds:b=z.default;c=this[N].gw();break;default:b=v.default,c=this[N].fw()}this[E]=new b(c,this[L],this[D])}a.prototype.release=function(a){if(!this[K]){for(var b=0;b<this[B].length;b++){for(var c=this[B][b],d=0;d<c.length;d++){var e=c[d];if(e.Pc===a.Pc){e.release(a);0===e.size()&&(A.debug("Remove empty ad pool",e),c.splice(d,
1));return}}0===c.length&&(A.debug("Remove empty ad pools",c),this[B].splice(b,1))}A.warn("Unable to release ad entry. Ad pool not exists.","ad entry",a,"ad pools",this[B])}};a.prototype.Zq=function(a,b,c){this[D].dispatchEvent(new y.default(y.default.nm,{type:b}));this[K]?e.call(this,b,a,new q.default(w.default.LOADED,{gk:[this[F].Tf],type:b})):(A.debug("receive ad entries"),this[B]=[],t.default.group(t.default.ma(this[E],w.default.LOADED,e.bind(this,b,a)),t.default.ma(this[E],w.default.ve,f.bind(this,
b,a))),this[D].dispatchEvent(new q.default(w.default.LOADING,{gk:this[F].Tf,Sh:this[F].Sh,type:b})),this[E].load(b,c))};a.prototype.Dq=function(a){(a=a&&a.Pc&&a.Wd?a.Pc+"."+a.Wd:null)&&(this[C][a]=a)};a.prototype.ii=function(a){l.call(this);n.call(this);var b=(this[B][0]||[]).filter(function(b){return b.getEntries().filter(function(b){return b.sp(a)})});return b[0]&&b[0].getEntries()||[]};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{b:{$c:{}}});b.b.$c={Is:"ios",zz:"android",nA:"mac"};
d.vdb={b:{$c:b.b.$c}};d.default=b.b.$c;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{V:{gc:{},ub:{}}});b.V.ub=a(165).vdb.V.ub;b.V.gc=b.V.ub.extend(function(){return{Uj:function(){for(var a={},b=0;b<this.xh.length;++b)a[this.xh[b]]=arguments[b];var c=new this.Io(a);c.Nk?c.Nk().then(function(){this.Ah().resolve(c)}.bind(this)):this.Ah().resolve(c)}}}());d.vdb={V:{gc:b.V.gc}};d.default=b.V.gc;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{Yc:{}});b=c(a(29).vdb,b||{});b.Yc={Jm:"DEBUG",Wm:"INFO",
co:"WARN",ta:"ERROR"};d.vdb={Yc:b.Yc};d.default=b.Yc;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{Fg:{}}});b.b.Fg={Rs:"NO_ADS",Gr:"AD_GROUP_FAILED"};d.vdb={b:{Fg:b.b.Fg}};d.default=b.b.Fg;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(a){a=new a(this,this[ka],this[Ba]);this[ab][a.getType()]=a}function l(a){var b=this;da.debug("prepareAdConfig",a);return a.filter(function(a){return a.sp(b[ea])}).map(function(a){return a.da(b.wc(),b[ea])})}function n(a,
b){da.debug("resumePlayer");clearTimeout(this[Ua]);this[la]=0;this[Y].reset();this[Va].N();this[xa]=this[ka].Mb;this[ea]!==w.default.Na&&this[ea]!==w.default.Hb||!this[Ea]||(this[Ea]=!1,this.dispatchEvent(new G.default(G.default.cc,this[ea],{adPodsPlayed:this[Fa],engineErrors:b,reason:a})))}function e(a){a=l.call(this,a.entries);this[X]=a;da.debug("onAdEntriesReceived",a);0<a.length?this[Y].Cx()?this.Rl():(this[Y].reset(),this[Y].load(a,this.Rl.bind(this))):n.call(this)}function f(a,b){da.debug("runNextOrResume");
if(this[ea]!==w.default.Ua&&0<this[xa]&&this.kl()&&this[W])a=this[Ga].ii(this[ea]),da.debug("runWaterfall",a),a.length?e.call(this,{entries:a}):(this[W]=!1,this[Ga].Zq(e.bind(this),this[ea]));else{if(this[ra])this[ra](a?{fi:b,error:a}:void 0);n.call(this,a,b)}}function h(a){da.debug("runnerCompleteHandler",a);if(a&&a.data&&a.data.error){var b=a.data.error;a=a.data.fi;var c=this[Ga].ii(this[ea]);this[X]=l.call(this,c);this[Y].reset();da.warn("on ad group failed:",b,this[X]);this[X].length&&this.kl()&&
this[eb].Xf()!==H.default.ih?(b=this[ra]||this[Y].bc.bind(this[Y]),this[Y].load(this[X],b)):f.call(this,x.default.Gr,a)}else this[W]=!0,--this[xa],f.call(this)}function g(a,b){var c=this;b=b[0];this.addEventListener(G.default.fc,function(){return c[la]+=1});this.addEventListener(G.default.ja,function(){clearTimeout(c[Ua]);c[Fa]+=1});this.addEventListener(G.default.qm,this.za.bind(this));this.addEventListener(G.default.ug,function(a){return c[mb]=a.ca()});this.addEventListener(G.default.Oc,function(a){return c[ma]=
a.data.muted?0:a.data.volume});this.addEventListener(cb.default.LINEAR_CHANGE,function(a){a.data.isLinear||(1>=c.Jw()?c.dispatchEvent(G.default.Mc,a):c.by())});da.debug("setup");this[ka]=a;b.Iy(this[ka]);b.fv();this[Ga]=new O.default(this[ka],this);this[za]=new pb.default(this);this[lb]=new ia.default(this);this[Y]=new Ja.default(this[ka],this,this[Ga],this[Ba]);this[Y].setVolume(this[ma]);this[Y].addEventListener(C.default.Aa,h.bind(this));this[xa]=this[ka].Mb;k.call(this,qb.default);k.call(this,
Ka.default);k.call(this,ob.default);k.call(this,Pa.default)}function m(){this.dispatchEvent(new G.default(G.default.cc,this[ea]))}function p(){this.stop();n.call(this)}Object.defineProperty(d,"__esModule",{value:!0});var q=a(0),t=b(q),r=a(6),u=b(r),y=a(313),x=b(y),v=a(18),w=b(v),z=a(7),A=b(z),B=a(13),C=b(B),E=a(8),D=b(E),F=a(104),K=b(F),L=a(4),N=b(L),U=a(41),H=b(U),P=a(44),J=b(P),Q=a(166),M=b(Q),R=a(10),G=b(R),I=a(309),O=b(I),fa=a(301),V=b(fa),ha=a(297),ia=b(ha),Z=a(296),ca=b(Z),aa=a(294),Ja=b(aa),
ta=a(292),Ka=b(ta),ua=a(222),sb=b(ua),va=a(220),tb=b(va),$a=a(218),ob=b($a),Ta=a(215),Pa=b(Ta),ub=a(213),pb=b(ub),Na=a(102),qb=b(Na),oa=a(212),vb=b(oa),nb=a(209),wb=b(nb),Ca=a(84),cb=b(Ca),xb=a(207),yb=b(xb),mb=(0,u.default)(),Ba=(0,u.default)(),ab=(0,u.default)(),Ua=(0,u.default)(),Ga=(0,u.default)(),db=(0,u.default)(),lb=(0,u.default)(),ka=(0,u.default)(),xa=(0,u.default)(),la=(0,u.default)(),Fa=(0,u.default)(),Y=(0,u.default)(),Ea=(0,u.default)(),eb=(0,u.default)(),T=(0,u.default)(),Va=(0,u.default)(),
ya=(0,u.default)(),W=(0,u.default)(),pa=(0,u.default)(),X=(0,u.default)(),fb=(0,u.default)(),S=(0,u.default)(),Ma=(0,u.default)(),ra=(0,u.default)(),kb=(0,u.default)(),za=(0,u.default)(),ea=(0,u.default)(),ma=(0,u.default)(),Za=(0,u.default)(),gb=(0,u.default)(),Sa=(0,u.default)(),da=N.default.B("AdSystem"),sa=function(){function a(b){(0,t.default)(this,a);this[Ba]={$b:b[A.default.Da],jy:b[A.default.Da]};this[eb]=b[A.default.O];this[pa]=b[M.default.sj];this[xa]=0;this[la]=0;this[db]=0;this[T]=b[A.default.Ma];
this[kb]=0;this[ma]=0;this[ab]={};this[W]=!1;this[ya]=!1;this[Fa]=0;this[Va]=new K.default;this[X]=[];this[gb]={};this[pa].Ny({Dp:!1});this[pa].pb(A.default.Jc,this[Ba].$b);this[pa].oa(A.default.mj,vb.default);this[pa].oa(A.default.Cn,sb.default);this[pa].oa(A.default.Xm,tb.default);this[pa].oa(A.default.Lm,wb.default);this[pa].oa(A.default.vm,yb.default)}a.prototype.Nl=function(a){return this[pa].zy([A.default.vm]).then(g.bind(this,new ca.default(a)))};a.prototype.Px=function(a,b){var c=this;a=a||
{};da.debug("Load ads",a);this[ra]=function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};clearTimeout(c[fb]);d.timings=c[Za];c[ra]=null;b&&setTimeout(function(){return b(d)},a&&a.error?500:0)};a.type||(a.type=w.default.Na);a.currentVideo&&(this[gb]=a.currentVideo);0<=a.currentVideoIndex&&(this[Sa]=a.currentVideoIndex);this[ea]=a.type;this[X]=[];if(this[ea]===w.default.Na&&0!==this[kb]++%this[ka].lk)this[ra]();else{this[Ga].Zq(function(a){var b=a.entries;da.debug("onAdsLoaded",
b);c[Za]=a.Yy;a.Tq&&(c[ka].Mb=a.Tq,c[xa]=c[ka].Mb);c[db]=0;c[Fa]=0;c[X]=[];a=l.call(c,b||[]);if(0<a.length)c[X]=a,c[Y].load(a,c[ra]);else if(c[ra])c[ra]()},this[ea],a.originalTime);clearTimeout(this[Ua]);clearTimeout(this[fb]);var d=this[ka].rl;0<d&&(this[Ua]=setTimeout(p.bind(this),d));a.loadTimeLimit&&this[ea]===w.default.Na&&(this[fb]=setTimeout(m.bind(this),a.loadTimeLimit));d=this[ka].qv;this[eb].Yl(d);d&&this[pa].resolve(A.default.mj)}};a.prototype.Rl=function(){da.info("Start ads",this[X],
"of type",this[ea]);this[Ea]=!0;if(0<this[X].length){da.debug("blockPlayer");if(this[ea]===w.default.Na||this[ea]===w.default.Hb)this.dispatchEvent(new G.default(G.default.bm,this[ea])),this[Va].zb(D.default.ma(this,G.default.ja,this.dispatchEvent.bind(this,new G.default(G.default.cm,this[ea]))));this[Y].bc()}else da.info("No ads to start - resume content"),n.call(this,x.default.Rs)};a.prototype.Oq=function(){da.debug("Pause Ads");this[Y].pause()};a.prototype.isPlaying=function(){return!this[Y].Ob()};
a.prototype.Dy=function(){da.debug("Resume Ads");this[Y].resume()};a.prototype.setVolume=function(a){da.debug("Set Volume",a);this[ma]=a;this[Y].setVolume(this[ma])};a.prototype.mute=function(a){da.debug("Mute");a?(this[Ma]=this[ma],this.setVolume(0)):0<this[Ma]?this.setVolume(this[Ma]):0===this[ma]&&this.setVolume(1)};a.prototype.isMuted=function(){return!this[ma]};a.prototype.getDuration=function(){return this[Y].getDuration()};a.prototype.cb=function(){return this[Y].cb()};a.prototype.na=function(){return this[Y].na()};
a.prototype.getVolume=function(){return this[ma]};a.prototype.uw=function(){return this.rd().$a};a.prototype.yc=function(){return this[Y].yc()};a.prototype.qa=function(){return this[Y].qa()};a.prototype.stop=function(){da.debug("stop");this[ra]=null;this[Y]&&this[Y].stop()};a.prototype.za=function(){da.debug("skip");this.dispatchEvent(G.default.hf);this.dispatchEvent(new J.default(J.default.Ka,{pp:"skipAhead"}));this[Y].za()};a.prototype.wc=function(){this[S]||(this[S]=new V.default(this,this[ka]));
return this[S]};a.prototype.by=function(){this[Y].stop();h.call(this)};a.prototype.Jw=function(){return this[xa]};a.prototype.jw=function(){return this[la]};a.prototype.rd=function(){return this[ka]};a.prototype.$v=function(a){return this[ab][a]};a.prototype.kl=function(){return this[Fa]<this[ka].Mb};a.prototype.Wf=function(){return this[Ba]};a.prototype.resize=function(){this.dispatchEvent(cb.default.rf)};a.prototype.ha=function(){return this[pa]};a.prototype.ca=function(){return this[mb]};a.prototype.getTimeLog=
function(){return this[lb].Mw()};a.prototype.addEventListener=function(a,b,c){this[T].addEventListener(a,b,c)};a.prototype.removeEventListener=function(a,b){this[T].removeEventListener(a,b)};a.prototype.dispatchEvent=function(){this[T].dispatchEvent.apply(this[T],arguments)};a.prototype.invokeAdMethod=function(a,b){this.dispatchEvent(cb.default.$m,{data:b,name:a})};a.prototype.uc=function(){return this[gb]};a.prototype.Lk=function(){return this[Sa]};return a}();d.default=sa;sa.ba=[M.default.sj,A.default.O,
A.default.Da,A.default.Ma]},function(c,d,a){c=a(35);c(c.lc,"Object",{create:a(90)})},function(c,d,a){a(315);var b=a(15).Object;c.exports=function(a,c){return b.create(a,c)}},function(c,d,a){c.exports={"default":a(316),__esModule:!0}},function(c,d,a){function b(a,b){l(a);if(!k(b)&&null!==b)throw TypeError(b+": can't set as prototype!");}var k=a(39),l=a(31);c.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,d,f){try{f=a(68)(Function.call,a(168).S(Object.prototype,"__proto__").set,2),
f(c,[]),d=!(c instanceof Array)}catch(h){d=!0}return function(a,c){b(a,c);d?a.__proto__=c:f(a,c);return a}}({},!1):void 0),check:b}},function(c,d,a){c=a(35);c(c.lc,"Object",{setPrototypeOf:a(318).set})},function(c,d,a){a(319);c.exports=a(15).Object.setPrototypeOf},function(c,d,a){c.exports={"default":a(320),__esModule:!0}},function(c,d,a){a(59);a(108);c.exports=a(107).S("iterator")},function(c,d,a){c.exports={"default":a(322),__esModule:!0}},function(c,d,a){a(106)("observable")},function(c,d,a){a(106)("asyncIterator")},
function(){},function(c,d,a){var b=a(36),k=a(169).S,l={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.S=function(a){if(n&&"[object Window]"==l.call(a))try{var c=k(a)}catch(h){c=n.slice()}else c=k(b(a));return c}},function(c,d,a){var b=a(69);c.exports=Array.isArray||function(a){return"Array"==b(a)}},function(c,d,a){var b=a(48),k=a(170),l=a(89);c.exports=function(a){var c=b(a),d=k.S;if(d){d=d(a);for(var h=l.S,g=0,m;d.length>g;)h.call(a,
m=d[g++])&&c.push(m)}return c}},function(c,d,a){function b(a){e(a,k,{value:{mq:"O"+ ++f,mz:{}}})}var k=a(49)("meta"),l=a(39),n=a(30),e=a(32).S,f=0,h=Object.isExtensible||function(){return!0},g=!a(46)(function(){return h(Object.preventExtensions({}))}),m=c.exports={Js:k,Os:!1,UB:function(a,c){if(!l(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!n(a,k)){if(!h(a))return"F";if(!c)return"E";b(a)}return a[k].mq},AC:function(a,c){if(!n(a,k)){if(!h(a))return!0;if(!c)return!1;b(a)}return a[k].mz},
jD:function(a){g&&m.Os&&h(a)&&!n(a,k)&&b(a);return a}}},function(c,d,a){function b(a){var b=a===Z;a=Q(b?ia:E(a));for(var c=[],d=0,e;a.length>d;)g(ha,e=a[d++])&&(b?g(Z,e):1)&&c.push(ha[e]);return c}function k(a){a=Q(E(a));for(var b=[],c=0,d;a.length>c;)g(ha,d=a[c++])||d==I||d==q||b.push(d);return b}function l(a,b){a=E(a);b=D(b,!0);if(a!==Z||!g(ha,b)||g(ia,b)){var c=P(a,b);!c||!g(ha,b)||g(a,I)&&a[I][b]||(c.enumerable=!0);return c}}function n(a){var b=fa.call(this,a=D(a,!0));return this===Z&&g(ha,a)&&
!g(ia,a)?!1:b||!g(this,a)||!g(ha,a)||g(this,I)&&this[I][a]?b:!0}function e(a,b){B(a);for(var c=z(b=E(b)),d=0,e=c.length,g;e>d;)f(a,g=c[d++],b[g]);return a}function f(a,b,c){a===Z&&f(ia,b,c);B(a);b=D(b,!0);B(c);return g(ha,b)?(c.enumerable?(g(a,I)&&a[I][b]&&(a[I][b]=!1),c=K(c,{enumerable:F(0,!1)})):(g(a,I)||J(a,I,F(1,{})),a[I][b]=!0),Ja(a,b,c)):J(a,b,c)}function h(a){var b=ha[a]=K(M.prototype);b.Wj=a;return b}c=a(24);var g=a(30),m=a(33);d=a(35);var p=a(114),q=a(330).Js,t=a(46),r=a(67),u=a(65),y=a(49),
x=a(17),v=a(107),w=a(106),z=a(329),A=a(328),B=a(31),C=a(39),E=a(36),D=a(91),F=a(45),K=a(90),L=a(327),N=a(168),U=a(32),H=a(48),P=N.S,J=U.S,Q=L.S,M=c.Symbol,R=c.JSON,G=R&&R.stringify,I=x("_hidden"),O=x("toPrimitive"),fa={}.propertyIsEnumerable,V=r("symbol-registry"),ha=r("symbols"),ia=r("op-symbols"),Z=Object.prototype;r="function"==typeof M;var ca=c.FA,aa=!ca||!ca.prototype||!ca.prototype.XB,Ja=m&&t(function(){return 7!=K(J({},"a",{get:function(){return J(this,"a",{value:7}).Je}})).Je})?function(a,
b,c){var d=P(Z,b);d&&delete Z[b];J(a,b,c);d&&a!==Z&&J(Z,b,d)}:J,ta=r&&"symbol"==typeof M.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof M};r||(M=function(){function a(c){this===Z&&a.call(ia,c);g(this,I)&&g(this[I],b)&&(this[I][b]=!1);Ja(this,b,F(1,c))}if(this instanceof M)throw TypeError("Symbol is not a constructor!");var b=y(0<arguments.length?arguments[0]:void 0);m&&aa&&Ja(Z,b,{configurable:!0,set:a});return h(b)},p(M.prototype,"toString",function(){return this.Wj}),
N.S=l,U.S=f,a(169).S=L.S=k,a(89).S=n,a(170).S=b,m&&!a(50)&&p(Z,"propertyIsEnumerable",n,!0),v.S=function(a){return h(x(a))});d(d.Om+d.bo+d.hc*!r,{Symbol:M});p="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");for(v=0;p.length>v;)x(p[v++]);H=H(x.store);for(p=0;H.length>p;)w(H[p++]);d(d.lc+d.hc*!r,"Symbol",{"for":function(a){return g(V,a+="")?V[a]:V[a]=M(a)},keyFor:function(a){if(!ta(a))throw TypeError(a+" is not a symbol!");
for(var b in V)if(V[b]===a)return b},RD:function(){aa=!0},SD:function(){aa=!1}});d(d.lc+d.hc*!r,"Object",{create:function(a,b){return void 0===b?K(a):e(K(a),b)},defineProperty:f,defineProperties:e,getOwnPropertyDescriptor:l,getOwnPropertyNames:k,getOwnPropertySymbols:b});R&&d(d.lc+d.hc*(!r||t(function(){var a=M();return"[null]"!=G([a])||"{}"!=G({Je:a})||"{}"!=G(Object(a))})),"JSON",{stringify:function(a){for(var b=[a],c=1,d;arguments.length>c;)b.push(arguments[c++]);d=c=b[1];if((C(c)||void 0!==a)&&
!ta(a))return A(c)||(c=function(a,b){"function"==typeof d&&(b=d.call(this,a,b));if(!ta(b))return b}),b[1]=c,G.apply(R,b)}});M.prototype[O]||a(34)(M.prototype,O,M.prototype.valueOf);u(M,"Symbol");u(Math,"Math",!0);u(c.JSON,"JSON",!0)},function(c,d,a){a(331);a(326);a(325);a(324);c.exports=a(15).Symbol},function(c,d,a){var b=a(31),k=a(111);c.exports=a(15).kC=function(a){var c=k(a);if("function"!=typeof c)throw TypeError(a+" is not iterable!");return b(c.call(a))}},function(c,d,a){a(108);a(59);c.exports=
a(333)},function(c,d,a){c.exports={"default":a(334),__esModule:!0}},function(c,d,a){var b=a(112),k=a(17)("iterator"),l=a(40);c.exports=a(15).XC=function(a){a=Object(a);return void 0!==a[k]||"@@iterator"in a||l.hasOwnProperty(b(a))}},function(c){c.exports=function(c,a){return{value:a,done:!!c}}},function(c){c.exports=function(){}},function(c,d,a){d=a(338);var b=a(337),k=a(40),l=a(36);c.exports=a(116)(Array,"Array",function(a,b){this.Nh=l(a);this.zf=0;this.Wj=b},function(){var a=this.Nh,c=this.Wj,d=
this.zf++;return!a||d>=a.length?(this.Nh=void 0,b(1)):"keys"==c?b(0,d):"values"==c?b(0,a[d]):b(0,[d,a[d]])},"values");k.Arguments=k.Array;d("keys");d("values");d("entries")},function(c,d,a){a(108);a(59);c.exports=a(336)},function(c,d,a){c.exports={"default":a(340),__esModule:!0}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(6);c=b(c);var l=a(7),n=b(l);l=a(8);var e=b(l);a=a(10);var f=b(a),h=(0,c.default)(),
g=(0,c.default)();a=function(){function a(b,c){var d=this;(0,k.default)(this,a);b=b[n.default.Ma];this[h]=!0;this[g]=c;e.default.group(e.default.ma(b,f.default.Kc,function(){return d[h]=!1}),e.default.ma(b,f.default.Lc,function(){return d[h]=!1}))}a.prototype.Ec=function(a){this[g].Ec(a)};a.prototype.Cc=function(){return this[h]?1:this[g].Cc()};a.prototype.sa=function(a){return this[h]?100:this[g].sa(a)};a.prototype.ge=function(){return this[h]?1:this[g].ge()};return a}();d.default=a;a.ba=[n.default.Ma]},
function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c};d.default=function(a){var c=function h(c){(0,b.default)(this,h);return new k.default(c,new a(c))};c.ba=a.ba.concat(k.default.ba);return c};var k=(d=a(342))&&d.__esModule?d:{default:d}},function(c,d){function a(a){var c=a.target||a.srcElement;c.ho&&k(c.ho);c.ho=b(function(){var b=c.kd;b.jd.forEach(function(c){c.call(b,a)})})}var b=function(){var a=this,b=a.requestAnimationFrame||a.mozRequestAnimationFrame||
a.webkitRequestAnimationFrame||function(b){return a.setTimeout(b,20)};return function(a){return b(a)}}(),k=function(){var a=this.cancelAnimationFrame||this.mozCancelAnimationFrame||this.webkitCancelAnimationFrame||this.clearTimeout;return function(b){return a(b)}}();d=function(b,c){function d(){this.contentDocument.defaultView.kd=this.Nt;this.contentDocument.defaultView.addEventListener("resize",a)}var f=this.document,h,g=f.attachEvent;"undefined"!==typeof navigator&&(h=navigator.userAgent.match(/Trident/)||
navigator.userAgent.match(/Edge/));b.jd||(b.jd=[],g?(b.kd=b,b.attachEvent("onresize",a)):("static"===getComputedStyle(b).position&&(b.style.position="relative"),f=b.kd=f.createElement("object"),f.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),f.setAttribute("class","resize-sensor"),f.Nt=b,f.onload=d,f.type="text/html",h&&b.appendChild(f),f.data="about:blank",h||b.appendChild(f)));
b.jd.push(c)};c.exports="undefined"===typeof window?d:d.bind(window);c.exports.N=function(b,c){var d=document.attachEvent;c?b.jd.splice(b.jd.indexOf(c),1):b.jd=[];b.jd.length||(d?b.detachEvent("onresize",a):(b.kd.contentDocument.defaultView.removeEventListener("resize",a),delete b.kd.contentDocument.defaultView.kd,b.kd=!b.removeChild(b.kd)),delete b.jd)}},function(c,d,a){var b=a(48),k=a(36),l=a(89).S;c.exports=function(a){return function(c){c=k(c);for(var d=b(c),e=d.length,g=0,m=[],n;e>g;)l.call(c,
n=d[g++])&&m.push(a?[n,c[n]]:c[n]);return m}}},function(c,d,a){c=a(35);var b=a(345)(!1);c(c.lc,"Object",{values:function(a){return b(a)}})},function(c,d,a){a(346);c.exports=a(15).Object.values},function(c,d,a){c.exports={"default":a(347),__esModule:!0}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function k(){var a=this,b=[r.default,t.default,u.default];[[p.default.gb,r.default.TIME_UPDATE,l.bind(this)],[p.default.Gb,r.default.PAUSED],[p.default.oe,r.default.RESUMED],[p.default.qe,
r.default.WAITING],[p.default.$i,r.default.QUARTILE],[p.default.Oc,r.default.VOLUME_CHANGED],[p.default.ja,r.default.STARTED],[p.default.fb,r.default.FINISHED],[p.default.Mc,r.default.LINEAR_CHANGE],[p.default.om,r.default.SHOW_COMPANIONS],[p.default.um,r.default.SUBTITLES_FOUND],[p.default.fc,r.default.META],[p.default.cm,t.default.STARTED],[p.default.cc,t.default.FINISHED],[p.default.em,u.default.PAUSE_REQUESTED]].forEach(function(c){c=(0,g.default)(c,3);var d=c[1],e=c[2];a[w].addEventListener(c[0],
function(c){e&&e(c);c=c.data||{};var f=x.default.find(b,function(a){return-1<(0,h.default)(a).indexOf(d)});a.dispatchEvent(new f(d,c))},-1)})}function l(a){this[A]=a.data.currentTime}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var e=b(c);c=a(1);var f=b(c);c=a(348);var h=b(c);c=a(95);var g=b(c);c=a(6);c=b(c);var m=a(10),p=b(m);m=a(125);m=b(m);var q=a(191),t=b(q);q=a(190);var r=b(q);q=a(189);var u=b(q);q=a(7);var y=b(q);q=a(5);var x=b(q);a=a(344);var v=b(a),w=(0,c.default)(),
z=(0,c.default)(),A=(0,c.default)(),B=(0,c.default)();a=function(a){function b(c){var d;(0,n.default)(this,b);var f=(0,e.default)(this,a.call(this)),g=c[y.default.Da],h=c[y.default.La];f[w]=c[y.default.aj];f[z]=c[y.default.O];h.Hy(f[w]);k.call(f);(0,v.default)(g,function(){f[w].resize()});c=document.getElementsByClassName("resize-sensor");for(g=0;g<c.length;g++)c[g].tabIndex=-1;f[B]=f[w].Nl(f[z].lw());return d=f[B].then(function(){return f}),(0,e.default)(f,d)}(0,f.default)(b,a);b.prototype.load=
function(a){var b=this;return this[B].then(function(){var c=a&&a.vvuid;c&&b[z].dz(c);b[w].Px(a,function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.error?b.dispatchEvent(new r.default(r.default.FINISHED,{atpData:b[z].ee(),error:!0})):b.dispatchEvent(new r.default(r.default.LOADED,{ad:a.ad,atpData:b[z].ee(),timings:a.timings}))})})};b.prototype.play=function(){this[w].Rl()};b.prototype.pause=function(){this[w].Oq()};b.prototype.resume=function(){this[w].Dy()};b.prototype.setVolume=
function(a){this[w].setVolume(a)};b.prototype.mute=function(){this[w].mute(!0)};b.prototype.unmute=function(){this[w].mute(!1)};b.prototype.isMuted=function(){return this[w].isMuted()};b.prototype.getVolume=function(){return this[w].getVolume()};b.prototype.getDuration=function(){return this[w].getDuration()||0};b.prototype.getCurrentTime=function(){return this[A]||0};b.prototype.dispose=function(){this[w].stop()};b.prototype.isPlaying=function(){return this[w].isPlaying()};b.prototype.getTimeLog=
function(){return this[w].getTimeLog()};b.prototype.invokeAdMethod=function(a,b){return this[w].invokeAdMethod(a,b)};return b}(m.default);a.ba=[y.default.zm,y.default.O,y.default.La,y.default.Wc,y.default.tb,y.default.jh,y.default.Da,y.default.Oa,y.default.ue,y.default.xj,y.default.aj];d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(6);c=b(c);var l=a(349),n=b(l);l=a(314);var e=b(l);l=a(206);var f=
b(l);l=a(205);var h=b(l);l=a(204);var g=b(l);l=a(203);var m=b(l);l=a(343);var p=b(l);l=a(202);var q=b(l);l=a(23);var t=b(l);l=a(196);var r=b(l);l=a(197);var u=b(l);l=a(97);var y=b(l);l=a(96);var x=b(l);l=a(110);var v=b(l);l=a(120);var w=b(l);l=a(7);var z=b(l);l=a(42);var A=b(l);l=a(198);var B=b(l);l=a(195);var C=b(l);l=a(166);var E=b(l);l=a(124);var D=b(l);l=a(201);var F=b(l);l=a(41);var K=b(l);l=a(28);l=b(l);var L=a(200),N=b(L);L=a(14);L=b(L);var U=a(5),H=b(U);U=a(92);var P=b(U);U=a(194);var J=b(U);
a=a(193);var Q=b(a);l.default.K(L.default.Nb("oathPlayerBuildEnvironment")||"prod");var M=(0,c.default)(),R=(0,c.default)(),G=(0,c.default)(),I=(0,c.default)(),O=(0,c.default)();(0,c.default)();var fa=(0,c.default)(),V=(0,c.default)();a=function(){function a(){(0,k.default)(this,a);this[M]=new E.default}a.prototype.Nl=function(a){this[O]=a.slot;this[R]=a.video||this[O].appendChild(H.default.vp());this[R]=Array.isArray(this[R])?this[R]:[this[R]];this[G]=new A.default(this[O].ownerDocument||window.document);
this[I]=(0,q.default)();var b=a.companionSlots,c=a.timeouts||{};this[I].playerType=a.playerType||K.default.Ws;this[I].trackingEnabled=!0;this[I].bcid=a.buyerCompanyId;this[I].geo=a.geo;this[I].id=a.playerId;this[I].sid=a.sid||this[I].sid;this[I].jsVersion=a.jsVersion||this[I].jsVersion;this[I].bid.id=a.playlistId||this[I].bid.id;this[I].vvuid=a.vvuid;this[I].autoplay=a.autoplay;this[I].macros=a.macros;this[I].overrideUrls=a.overrideUrls;this[I].aggressiveMode=a.aggressiveMode;this[I].adSettings=this[I].adSettings||
{};this[I].adSettings.adStrategy=a.adStrategy||v.default.Hm;this[I].adSettings.companions=b||this[I].adSettings.companions;this[I].adSettings.hardTimeout=c.hard||this[I].adSettings.hardTimeout;this[I].adSettings.softTimeout=c.soft||this[I].adSettings.softTimeout;this[I].adSettings.maxLinearShowTime=a.maxLinearShowTime||this[I].adSettings.maxLinearShowTime;this[I].adSettings.maxAdSearchTime=a.maxAdSearchTime||this[I].adSettings.maxAdSearchTime;this[I].adSettings.skipSettings=a.skipSettings||{};this[I].adSettings.asids=
a.asids;this[I].adSettings.aeg=a.aeg;this[I].adSettings.podSize=a.podSize;this[I].adSettings.prerollInterleave=a.prerollInterleave;this[I].adSettings.domainOptimisation=a.domainOptimisation;this[I].adSettings.chromeHackPreinitialisation=a.chromeHackPreinitialisation;this[I].adSettings.publisherPayout=a.publisherPayout;this[I].adSettings.isBrandedContent=a.isBrandedContent;this[I].adSettings.clickThroughUrl=a.clickThroughUrl;this[fa]=a.fakeViewability;this[I].GDPRData=a.GDPRData;this[V]=a.autoplayDetector};
a.prototype.Ll=function(){var a=new f.default(this[I]),b=w.default.Pk(),c=new h.default(a,this[I].overrideUrls),d=this[R][0].parentElement||this[R][0],k=P.default.si()||window;this[M].pb(z.default.O,a).pb(z.default.te,b).pb(z.default.Oa,c).pb(z.default.gt,new x.default(a,b,c)).pb(z.default.Da,this[O]).pb(z.default.qf,this[R][0]).pb(z.default.rj,this[R][1]||this[R][0]).pb(z.default.Ba,this[G]).pb(z.default.hd,d).oa(z.default.ue,g.default).oa(z.default.La,m.default).oa(z.default.jh,y.default).oa(z.default.zm,
r.default).oa(z.default.Wc,u.default).oa(z.default.tb,B.default).oa(z.default.xj,J.default).oa(z.default.Ma,t.default).oa(z.default.aj,e.default).pb(z.default.Qm,new C.default(k));this[V]?this[M].pb(z.default.re,this[V]):this[M].oa(z.default.re,Q.default);this[fa]?this[M].oa(z.default.Ib,(0,p.default)(F.default)).oa(z.default.dh,(0,p.default)(D.default)).oa(z.default.Vb,(0,p.default)(N.default)):this[M].oa(z.default.Ib,F.default).oa(z.default.dh,D.default).oa(z.default.Vb,N.default);return this[M].xv(n.default)};
a.prototype.createAdsManager=function(a){this.Nl(a);return this.Ll()};return a}();d.default=a},,function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var k=b(c);c=a(2);var l=b(c);c=a(1);var n=b(c);c=a(6);c=b(c);var e=a(120),f=b(e);a=a(350);a=b(a);var h=(0,c.default)(),g=(0,c.default)();a=function(a){function b(){(0,k.default)(this,b);var c=(0,l.default)(this,a.call(this));c[h]=f.default.Pk();return c}(0,n.default)(b,a);b.prototype.getPixelsLog=
function(){return this[h].Rq};b.prototype.Ll=function(){var b=this;return a.prototype.Ll.call(this).then(function(a){return b[g]=a})};b.prototype.invokeAdMethod=function(a,b){this[g].invokeAdMethod(a,b)};return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}c=a(352);c=b(c);d=a(190);d=b(d);var k=a(191);k=b(k);a=a(189);window.oath={ads:{sdk:{AdBreakEvent:k.default,AdEvent:d.default,AdManagerStarter:c.default,ContentEvent:b(a).default}}}}]);

vdb.c={};vdb.c.Za={};
vdb.c.Za.aZ=vdb.Za.wj.extend(function(){function c(){this.Bi={}}function d(a){this.Bi={adId:a.data.adImpressionId||a.data.adId||""}}function b(a){a.addEventListener(vdb.g.B.lb,d.bind(this));a.addEventListener(vdb.g.B.sc,c.bind(this))}function a(a){var b=a.data||{};a=b.interactionType;var c=this.Rg[a];a=this.uw[a];if(c){var b=b.interactionData,d=this.i.jl(),f=this.da.aa(),n=this.da.sb().currentTime,p=this.da.Op(),s={};this.gl({uid:d.uid,imid:d.imid,t:isNaN(n)?0:n,cd:"none",vpl:this.i.It(vdb.o.vk.ZJ)?1:
0,epl:d.epl||"0"},{vid:f&&f.id,asid:p&&p.getAsid(),acid:p&&p.getAcid(),rid:p&&p.getRuleId()},s);void 0!==c&&(s.ct=c);void 0!==b&&(s.cd=b);d.mpid&&(s.mpid=d.mpid);d.vcid&&(s.vcid=d.vcid);this.Nb("click.gif",s)}a&&(c=this.Bi,b=this.Eb.jd()?this.Eb.Ea():null,d=this.Eb.dz()?0:this.Eb.mF(),this.Zb.action(a,b,d,c))}var f=vdb.g.B;return{k:function(c,d){var k=d.ua();this._super(c);this.i=c;this.da=d;this.Eb=this.da.Dt();this.Zb=c.gd();this.Bi={};var l=vdb.o.Me,m=vdb.o.FW;this.Rg={};this.Rg[l.ff]=m.ff;this.Rg[l.gg]=
m.gg;this.Rg[l.yo]=m.yo;this.Rg[l.uj]=m.uj;this.Rg[l.Cc]=m.Cc;this.Rg[l.Lc]=m.Lc;this.Rg[l.yr]=m.yr;this.Rg[l.yj]=l.yj;this.Rg[l.OA]=l.OA;this.Rg[l.MA]=l.MA;this.Rg[l.NA]=l.NA;this.uw={};this.uw[l.Nv]=l.Nv;this.uw[l.cw]=l.cw;this.uw[l.Go]=l.Go;k.addEventListener(f.bd,a.bind(this));k.addEventListener(f.DK,a.bind(this));this.i.addEventListener(vdb.g.Sd.Ud,b.bind(this))}}}());vdb.c.o={};vdb.c.o.M1={M0:"SECOND",G_:"PERCENT"};vdb.c.o.QW={yj:"video",QI:"compass"};vdb.c.o.zj={tW:"CrossDomainModule360",aX:"DashModule",EX:"EnvrmntModule360",HX:"ErrorModule360",EY:"HLSModule",ZZ:"Module360",s_:"OathHLSModule",g3:"YoukuModule",h3:"YoutubeModule"};vdb.c.o.MK={eV:"animated",W0:"image"};vdb.c.o.kha={$ga:0,hha:1,y0:2};vdb.c.o.CL={W1:"UNMUTE_BUTTON_WITH_CONTROLS",V1:"UNMUTE_BUTTON",lX:"DISABLED"};vdb.c.o.bK={CX:13,JX:27,T0:32,AX:35,FY:36,kZ:37,Z1:38,z0:39,sX:40,cW:67,cY:70,fZ:75,UZ:77,z_:80};vdb.c.o.CV={yj:"video",xY:"gif"};vdb.c.o.Kr={ef:"auto",od:"click",uI:"auto_play_in_view",zk:"mouseover"};vdb.c.f={};vdb.c.f.L1=vdb.L.Class.extend({k:function(c,d,b,a,f){this.time=c;this.type=d;this.zl=b||0;this.aP=Boolean(a);this.JG=f},toString:function(){return"TimeQueueEntry{time="+this.time+", type="+this.type+", percent="+this.zl+", coalesce="+this.aP+"}"}});vdb.c.f.iB={Hda:function(c,d){var b=window.vdb.T;vdb.b.P(c,{position:"relative",overflow:"hidden",margin:b.bk||b.vf?"0":d.marginTop+"% 0 0 "+d.marginLeft+"%",height:"100%",width:"100%"})},cT:function(c,d){vdb.b.P(c,{height:"calc(100% - "+d+"px)"})}};vdb.c.f.II=vdb.L.Class.extend(function(){function c(a){[1,0].forEach(function(b){a[b]=a[b]||{};a[b].start=a[b].start||null;a[b].ly=0;a[b].total=0})}function d(a){var b=-1;[1,0].forEach(function(c){c>b&&a[c].total&&(b=c)});return b}function b(a){this.Rr[a].start=Date.now()}function a(a){var b=this.Rr[a];b.start&&(a=Date.now()-b.start,b.total+=a,b.ly+=a,b.start=null)}var f=vdb.j.so;return{k:function(c){this.Ia=c[vdb.o.ha.Kc];this.Rr={};this.reset();this.Ia.addEventListener(f.kf,b.bind(this,0));this.Ia.addEventListener(f.Ra,
a.bind(this,0));this.Ia.addEventListener(f.lo,b.bind(this,1));this.Ia.addEventListener(f.ko,a.bind(this,1))},nia:function(a,b){var c=b?this.QM:0,d,f=0;if(a)for(d=0;d<a.length;d++){var n=a.start(d),p=a.end(d);p>c&&(n=n>c?n:c,f+=p-n,c=p)}b&&(this.QM=c);return f},reset:function(){this.QM=0;c(this.Rr)},o8:function(a){var b=null,c=d(this.Rr);if(c=this.Rr[c])a?(b=c.ly||null,c.ly=0):b=c.total||null;return b},dispose:function(){this.Ia.removeEventListener(f.kf,b.bind(this,0));this.Ia.removeEventListener(f.Ra,
a.bind(this,0));this.Ia.removeEventListener(f.lo,b.bind(this,1));this.Ia.removeEventListener(f.ko,a.bind(this,1))}}}());vdb.c.f.II.Jg=[vdb.o.ha.Kc];vdb.c.f.h0=vdb.f.FV.extend(function(){var c=vdb.g.B,d=vdb.o.ha,b=vdb.o.Me,a=[b.JI,b.vJ,b.ff,b.tr,b.gg,b.Go,b.Mo];return{k:function(a,b){var h={};h[d.BB]=a;this._super(h);b.addEventListener(c.bd,this.onUserInteraction.bind(this))},onUserInteraction:function(b,c){(c||-1<a.indexOf(b.data.interactionType))&&this._super()}}}());vdb.c.f.NJ=vdb.L.Class.extend(function(){function c(b){b&&(this.hs+=b.KO||0,this.gs+=1)}var d=vdb.j.so;return{k:function(b){this.Ia=b[vdb.o.ha.Kc];this.gs=this.hs=0;this.Ia.addEventListener(d.Tl,c.bind(this))},j8:function(b){var a=null;this.hs&&this.gs&&(a=this.hs/this.gs/1024);b&&(this.gs=this.hs=0);return a},dispose:function(){this.Ia.removeEventListener(d.Tl,c.bind(this))}}}());vdb.c.f.NJ.Jg=[vdb.o.ha.Kc];vdb.c.ca={};
vdb.c.ca.vv=vdb.L.Class.extend(function(){function c(a){a="string"===typeof a.message?a.message:a;b.warn("Unhandled exception in subtitles parser : "+a);this.Wo.push(a)}function d(b){var c;b=b.trim();if(a.test(b)){for(var d=b.lastIndexOf(":"),n=~~(1E3*b.substring(d+1)/24)+"";3>n.length;)n="0"+n;b=b.substring(0,d)+this.separator+n}f.test(b)&&(c=b.split(this.separator),2===c.length?(d=c[0].split(":"),c=[0,+d[0],60*+d[0]+ +d[1],3600*+d[0]+60*+d[1]+ +d[2]][d.length]+ +("0."+c[1])):c=void 0);g.test(b)&&
(c=parseFloat(b),b=b.match(h)[0],c*={ms:.001,s:1,m:60,h:3600}[b]);isNaN(c)&&(c=void 0);return c}var b,a=/^(?:(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)?([0-5]?\d:)?)([01]?\d|2[0-4])$/,f=/^(?:(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)?([0-5]?\d))?[\.\,]\d?\d?\d$/,g=/^(((\d+)?\.\d?\d?\d?)|\d+)([hms]|ms)$/,h=/([mhs]|ms)$/;return{k:function(a){b=vdb.log.Q("Subtitles "+a);b.debug("init")},error:c,parse:function(){return{cues:this.Kw,Ip:this.Wo}},aS:function(){var a=this.Fm,b=d.call(this,a.Qx);if(isNaN(b))c.call(this,
"Invalid begin time found: "+a.Qx);else{var f;a.end?f=d.call(this,a.end):a.DP&&(f=b+d.call(this,a.DP));isNaN(f)||f<b?c.call(this,"Invalid timing found, begin: "+a.Qx+" end: "+a.end):this.Kw.push({startTime:b,endTime:f,text:a.text})}}}}());vdb.c.ca.Ll={l2:"subtitles-user-settings",Ck:{co:"active",Rv:"language-code",ir:"font-family",hr:"font-color",kr:"font-size",Rq:"bg-color",Sq:"bg-opacity",Nr:"window-color",Or:"window-opacity",Uq:"char-edge-style",jr:"font-opacity",Tq:"capitalization",nr:"location-on-screen"},GJ:{sI:"Arial, sans-serif",uY:"Georgia, serif",xZ:'"Lucida Sans", sans-serif',x1:"Tahoma, serif",C1:'"Times New Roman", serif',G1:"Trebuchet, sans-serif",n2:"Verdana, sans-serif"},eJ:{KL:"255, 255, 255",f3:"255, 255, 0",zY:"0, 128, 0",
vW:"0, 255, 255",PV:"0, 0, 255",WZ:"255, 0, 255",v0:"255, 0, 0",IA:"0, 0, 0"},aJ:{NONE:"",tX:"rgb(34, 34, 34) 2px 2px 3px, rgb(34, 34, 34) 2px 2px 4px, rgb(34, 34, 34) 2px 2px 5px",u0:"rgb(34, 34, 34) 1px 1px, rgb(34, 34, 34) 2px 2px, rgb(34, 34, 34) 3px 3px",dX:"rgb(204, 204, 204) 1px 1px, rgb(204, 204, 204) 0px 1px, rgb(34, 34, 34) -1px -1px, rgb(34, 34, 34) 0px -1px",yK:"rgb(34, 34, 34) 0px 0px 4px, rgb(34, 34, 34) 0px 0px 4px, rgb(34, 34, 34) 0px 0px 4px, rgb(34, 34, 34) 0px 0px 4px"},$I:{NONE:"none",
Y1:"uppercase"},gL:{E1:"top",KA:"bottom"},K0:["ar","iw"],TW:{aia:"en",sgp:"en",atg:"en",irl:"en",slb:"en",aus:"en",jam:"en",zaf:"en",bhs:"en",ken:"en",swz:"en",brb:"en",lso:"en",blz:"en",lbr:"en",ton:"en",bmu:"en",mwi:"en",tto:"en",bwa:"en",mlt:"en",tca:"en",mus:"en",uga:"en",cmr:"en",msr:"en",gbr:"en",can:"en",nam:"en",vut:"en",cym:"en",nzl:"en",dma:"en",nga:"en",zmb:"en",png:"en",zwe:"en",fji:"en",gmb:"en",gha:"en",gib:"en",grd:"en",guy:"en",sle:"en",usa:"en",bel:"fr",ben:"fr",bdi:"fr",caf:"fr",
tcd:"fr",com:"fr",cod:"fr",cog:"fr",dji:"fr",fra:"fr",gab:"fr",gin:"fr",hti:"fr",lux:"fr",mdg:"fr",mli:"fr",mco:"fr",ner:"fr",rwa:"fr",sen:"fr",syc:"fr",tgo:"fr",rus:"ru",isr:"iw",arg:"es",chl:"es",col:"es",cri:"es",cub:"es",dom:"es",ecu:"es",slv:"es",gnq:"es",gtm:"es",hnd:"es",mex:"es",nic:"es",pan:"es",pry:"es",per:"es",esp:"es",ury:"es",jpn:"ja",deu:"de",aut:"de",che:"de",lie:"de",bhr:"ar",irq:"ar",jor:"ar",kwt:"ar",lbn:"ar",omn:"ar",pse:"ar",qat:"ar",sau:"ar",syr:"ar",are:"ar",yem:"ar",chn:"zh",
hkg:"zh",mac:"zh",twn:"zh"},lL:{ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",de:"deutsch",en:"english",es:"espa\u00f1ol",fr:"fran\u00e7ais",it:"Italiano",iw:"\u05e2\u05d1\u05e8\u05d9\u05ea",ja:"\u65e5\u672c\u8a9e",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",zh_TW:"\u7e41\u9ad4\u4e2d\u6587",zh_CN:"\u7b80\u4f53\u4e2d\u6587"}};vdb.c.ca.NB=function(){var c=vdb.c.ca.Ll,d=c.Ck,b=c.GJ,a=c.eJ,f=c.aJ,g=c.$I,c=c.gL,h={};h[d.co]=!1;h[d.Rv]="en";h[d.ir]=b.sI;h[d.hr]=a.KL;h[d.kr]="1";h[d.Rq]=a.IA;h[d.Sq]=".5";h[d.Nr]=a.IA;h[d.Or]="0";h[d.Uq]=f.yK;h[d.jr]="1";h[d.Tq]=g.NONE;h[d.nr]=c.KA;return h};vdb.c.ca.Le={xL:"tt",yL:"ttml",Cv:"dfxp",Dr:"srt",pw:"vtt",Zq:"embedded",Vv:"m3u8"};vdb.c.ca.w1=vdb.L.Class.extend(function(){var c=vdb.log.Q("Subtitles"),d=vdb.f.W,b=vdb.b,a=vdb.c.ca.Ll.Ck,f={display:"none",position:"absolute",width:"90%",padding:".5% 5%",textAlign:"center",zIndex:"2"},g={lineHeight:"0"},h={display:"inline-block",padding:".5% 1%"};return{k:function(a,c,d){this.G=a;this.display=c;this.D=d;this.Hq=b.createElement("div",{style:f},this.G);this.yea=b.createElement("div",{style:g},this.Hq);this.Qu=b.createElement("div",{"class":"subtitles-text",style:h},this.yea)},Du:function(c){this.u=
c;b.P(this.Hq,{top:"",bottom:"",backgroundColor:"rgba("+c[a.Nr]+", "+c[a.Or]+")"});this.Hq.style[c[a.nr]]="9px";this.Hq.className="subtitles-"+c[a.nr]+"-container";b.P(this.Qu,{fontFamily:c[a.ir],color:"rgba("+c[a.hr]+", "+c[a.jr]+")",textShadow:c[a.Uq],textTransform:c[a.Tq],backgroundColor:"rgba("+c[a.Rq]+", "+c[a.Sq]+")"});this.Ku()},q5:function(){this.Rj=this.Rj||vdb.j.U.bind(this.D,vdb.g.B.Ad,this.Ku.bind(this))},Vca:function(){this.Rj&&this.Rj.Ma();this.Rj=null},mfa:function(a){this.Qu.innerHTML=
a.join(" <br /> ");this.show()},l6:function(){this.Z();this.Qu.innerHTML=""},show:function(){d.show(this.Hq)},Z:function(){d.Z(this.Hq)},Ku:function(){var c=this.display.fn();b.P(this.Qu,{fontSize:(12+(400<c?Math.ceil((c-400)/100):0))*+this.u[a.kr]+"px",lineHeight:"150%"})},Wda:function(a){a=a?"rtl":"ltr";c.debug("set language direction -",a);b.P(this.Qu,{direction:a})},Rj:null}}());vdb.c.ca.VZ=vdb.c.ca.vv.extend(function(){function c(c){-1!==c.indexOf(vdb.c.ca.Le.pw)?this.format=vdb.c.ca.Le.pw:-1!==c.indexOf(vdb.c.ca.Le.Dr)?this.format=vdb.c.ca.Le.Dr:-1!==c.indexOf(vdb.c.ca.Le.Cv)&&(this.format=vdb.c.ca.Le.Cv)}return{k:function(){this._super("M3U8")},parse:function(d){return new vdb.Promise(function(b,a){var f=[];d.replace(/(\r\n|\n|\r)/gm,"").replace("#EXT-X-ENDLIST","").split("#EXTINF:").forEach(function(a){a=a.split(",")[1];-1!==a.indexOf("http")&&(f.push(vdb.te.gn(a)),c(a))});
vdb.Promise.all(f).then(function(a){var c="";a.forEach(function(a){c+=a.text});b({format:this.format,text:c})}).catch(function(b){a(b)})})}}}());vdb.c.ca.vX=vdb.c.ca.vv.extend({k:function(){this._super("DFXP");this.separator="."},parse:function(c){this.Kw=[];this.Wo=[];c=c.replace(/\s+$/,"").replace(/>\s+</g,"><");var d;try{d=(new window.DOMParser).parseFromString(c,"text/xml").documentElement}catch(b){this.error.call(this,b);return}try{var a=d.getElementsByTagName("body")[0];if(0===a.length)throw Error("Invalid DFXP document: <body> tag is required.");var f=d.getElementsByTagName("div")[0],g=0<a.childNodes.length?a.childNodes:[],h=0<f.childNodes.length?
f.childNodes:g;for(d=0;d<h.length;d++){var k=h[d],l=k.getAttribute("begin")||"0",m=k.getAttribute("end"),n=k.getAttribute("dur"),p;if(!(p=k.innerHTML)){for(var a="",s=k.childNodes,f=0;f<s.length;f++){var q=s[f];switch(q.nodeType){case 3:a+=q.textContent;break;case 1:switch(q.tagName.toLowerCase()){case "br":a+="<br />";break;default:a+="<"+q.tagName+">"+q.textContent+"</"+q.tagName+">"}}}p=a}this.Fm={Qx:l,end:m,DP:n,text:p};this.aS.call(this)}}catch(r){this.error.call(this,r);return}return this._super()}});vdb.c.ca.Ck={tB:{sJ:"ENABLE_IF_MUTED",zX:"ENABLE",Aga:"DISABLE"},rJ:{EA:"AUTO_DETECT"}};vdb.c.ca.t1=vdb.L.Class.extend({k:function(c){this.id="";this.endTime=this.startTime=0;this.direction="horizontal";this.nea=!0;this.Kaa="auto";this.Fea=50;this.size=100;this.A5="middle";this.text="";for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d])}});vdb.c.ca.d3=vdb.c.ca.vv.extend(function(){function c(){var a="minutes",c,f,h;if("undefined"===typeof this.Bd[this.$a])b.call(this,"No timestamp found.");else if(/\d/.test(this.Bd[this.$a])){c=d.call(this,/\d/);if(2<c.length||59<parseInt(c,10))a="hours";if(":"!==this.Bd[this.$a])b.call(this,"No time unit separator found.",this.$a);else if(this.$a++,f=d.call(this,/\d/),2!==f.length)b.call(this,"Must be exactly two digits.",this.$a);else{if("hours"===a||":"===this.Bd[this.$a]){if(":"!==this.Bd[this.$a]){b.call(this,
"No seconds found or minutes is greater than 59.",this.$a);return}this.$a++;a=d.call(this,/\d/);if(2!==a.length){b.call(this,"Must be exactly two digits.",this.$a);return}}else a=f,f=c,c="0";if("."!==this.Bd[this.$a]&&(b.call(this,'No decimal separator (".") found.',this.$a),","!==this.Bd[this.$a]))return;this.$a++;h=d.call(this,/\d/);if(3!==h.length)b.call(this,"Milliseconds must be given in three digits.",this.$a);else if(59<parseInt(f,10))b.call(this,"You cannot have more than 59 minutes.",this.$a);
else if(59<parseInt(a,10))b.call(this,"You cannot have more than 59 seconds.",this.$a);else return 3600*parseInt(c,10)+60*parseInt(f,10)+parseInt(a,10)+parseInt(h,10)/1E3}}else b.call(this,"Timestamp must start with a character in the range 0-9.",this.$a)}function d(a){for(var b="";"undefined"!==typeof this.Bd[this.$a]&&a.test(this.Bd[this.$a]);)b+=this.Bd[this.$a],this.$a++;return b}function b(a,b){f.warn(a);this.Wo.push({message:a,zka:this.Fb+1,uia:b})}function a(a){for(;"undefined"!==typeof this.Bd[this.$a]&&
a.test(this.Bd[this.$a]);)this.$a++}var f=vdb.log.Q("Subtitles WebVttParser"),g=/[\u0020\t\f]/,h=/[^\u0020\t\f]/;return{k:function(){f.debug("init")},parse:function(d){this.Wo=[];this.Fb=0;var f=[];this.Kw=f;d=d.split(/\r\n|\r|\n/);var m=!1;(6>d[this.Fb].length||0!==d[this.Fb].indexOf("WEBVTT")||6<d[this.Fb].length&&" "!==d[this.Fb][6]&&"\t"!==d[this.Fb][6])&&b.call(this,'No valid signature. (File needs to start with "WEBVTT".)');for(this.Fb++;""!==d[this.Fb]&&"undefined"!==typeof d[this.Fb];){b.call(this,
"No blank line after the signature.");if(-1!==d[this.Fb].indexOf("--\x3e")){m=!0;break}this.Fb++}for(;"undefined"!==typeof d[this.Fb];){for(var n;!m&&""===d[this.Fb];)this.Fb++;if(!m&&"undefined"===typeof d[this.Fb])break;n=new vdb.c.ca.t1;if(-1===d[this.Fb].indexOf("--\x3e")&&(n.id=d[this.Fb],this.Fb++,""===d[this.Fb]||"undefined"===typeof d[this.Fb])){b.call(this,"Cue identifier cannot be standalone.");continue}var p=0;this.Bd=d[this.Fb];this.$a=0;m=!1;0<f.length&&(p=f[f.length-1].startTime);var s;
a:{s=n;a.call(this,g);s.startTime=c.call(this);if("undefined"!==typeof s.startTime)if(s.startTime<p&&b.call(this,"Start timestamp is not greater than or equal to start timestamp of previous cue."),h.test(this.Bd[this.$a])&&b.call(this,"Timestamp not separated from '--\x3e' by whitespace.",this.$a),a.call(this,g),"-"!==this.Bd[this.$a])b.call(this,"No valid timestamp separator found.",this.$a);else if(this.$a++,"-"!==this.Bd[this.$a])b.call(this,"No valid timestamp separator found.",this.$a);else if(this.$a++,
">"!==this.Bd[this.$a])b.call(this,"No valid timestamp separator found.",this.$a);else if(this.$a++,h.test(this.Bd[this.$a])&&b.call(this,"'--\x3e' not separated from timestamp by whitespace.",this.$a),a.call(this,g),s.endTime=c.call(this),"undefined"!==typeof s.endTime){s.endTime<=s.startTime&&b.call(this,"End timestamp is not greater than start timestamp.",this.$a);h.test(this.Bd[this.$a]);a.call(this,g);for(var p=this.Bd.substring(this.$a).split(g),q=[],r=0;r<p.length;r++)if(""!==p[r]){var t=p[r].indexOf(":"),
u=p[r].slice(0,t),t=p[r].slice(t+1);-1!==q.indexOf(u)&&b.call(this,"Duplicate setting.");q.push(u);if(""===t){b.call(this,"No value for setting defined.");break}if("vertical"===u)"rl"!==t&&"lr"!==t?b.call(this,"Writing direction can only be set to 'rl' or 'rl'."):s.direction=t;else if("line"===u)if(/\d/.test(t))if(-1!==t.indexOf("-",1))b.call(this,"Line position can only have '-' at the start.");else if(-1!==t.indexOf("%")&&t.indexOf("%")!==t.length-1)b.call(this,"Line position can only have '%' at the end.");
else if("-"===t[0]&&"%"===t[t.length-1])b.call(this,"Line position cannot be a negative percentage.");else{if("%"===t[t.length-1]){if(100<parseInt(t,10)){b.call(this,"Line position cannot be >100%.");continue}s.nea=!1}s.Kaa=parseInt(t,10)}else b.call(this,"Line position takes a number or percentage.");else"position"===u?"%"!==t[t.length-1]?b.call(this,"Text position must be a percentage."):100<parseInt(t,10)?b.call(this,"Size cannot be >100%."):s.Fea=parseInt(t,10):"size"===u?"%"!==t[t.length-1]?
b.call(this,"Size must be a percentage."):100<parseInt(t,10)?b.call(this,"Size cannot be >100%."):s.size=parseInt(t,10):"align"===u?"start"!==t&&"middle"!==t&&"end"!==t?b.call(this,"Alignment can only be set to 'start', 'middle', or 'end'."):s.A5=t:b.call(this,"Invalid setting.")}s=!0;break a}s=void 0}if(s){for(this.Fb++;""!==d[this.Fb]&&"undefined"!==typeof d[this.Fb];){if(0!==d[this.Fb].toLowerCase().indexOf("note")){if(-1<d[this.Fb].indexOf("WEBVTT")||-1<d[this.Fb].indexOf("X-TIMESTAMP")){b.call(this,
"No metadata");m=!0;break}if(-1!==d[this.Fb].indexOf("--\x3e")){b.call(this,"Blank line missing before cue.");m=!0;break}""!==n.text&&(n.text+="<br/>");n.text+=d[this.Fb]}this.Fb++}f.push(n)}else for(this.Fb++;""!==d[this.Fb]&&"undefined"!==typeof d[this.Fb];){if(-1!==d[this.Fb].indexOf("--\x3e")){m=!0;break}this.Fb++}}return this._super()}}}());vdb.c.ca.gw={tj:"LanguageSelected",eK:"LoadError"};vdb.c.ca.o1=vdb.c.ca.vv.extend(function(){function c(b){function a(a){return!isNaN(a)&&m<a}function c(a){return a&&""!==a}function d(){for(;""!==b[h]&&h<b.length;)h++}if(1>=b.length)throw Error("Invalid SRT document: no data found");var h,k,l,m=0;for(h=0;h<b.length;h++)this.Fm={},k=b[h],""!==k&&(a(l=+k)?(k=b[++h],-1===k.indexOf(" --\x3e ")?(this.error.call(this,"Timing cue not found for caption number - "+l),d()):(k=k.split(" --\x3e "),this.Fm.Qx=k[0].trim(),this.Fm.end=k[1].trim(),k=b[++h],c(k)&&
(this.Fm.text=k,c(b[h+1])&&(this.Fm.text+="<br />"+b[h+1],h++),this.aS.call(this),d(),m=l))):(this.error.call(this,"Bad caption number found - "+k),d()))}var d=/\r\n|\r|\n/;return{k:function(){this._super("SRT");this.separator=","},parse:function(b){this.Kw=[];this.Wo=[];b=b.split(d);try{c.call(this,b)}catch(a){this.error.call(this,a);return}return this._super()}}}());vdb.c.ca.u1=vdb.L.Class.extend(function(){function c(){for(var a=this.cues[0],b=1;b<this.cues.length;b++){var c=this.cues[b],d=c.endTime-c.startTime;c.startTime=a.endTime;c.endTime=c.startTime+d;a=c}return this}function d(){this.cues.sort(function(a,b){return a.startTime<b.startTime?-1:a.startTime>b.startTime?1:a.endTime>b.endTime?-1:a.endTime<b.endTime?1:0});return this}var b=vdb.log.Q("SubtitlesParser");return{k:function(a){b.debug("init");this.jaa=a===vdb.c.ca.Le.Vv;this.xf=this.oP(a)},parse:function(a){return new vdb.Promise(function(b){if(this.xf)if(this.jaa)this.xf.parse(a).then(function(a){a=
this.oP(a.format).parse(a.text);c.call(a);d.call(a);b(a)}.bind(this));else{var g=this.xf.parse(a);d.call(g);b(g)}}.bind(this))},oja:function(){var a;this.xf&&(a=this.xf.Wo);return a},oP:function(a){var c;switch(a){case vdb.c.ca.Le.xL:case vdb.c.ca.Le.yL:case vdb.c.ca.Le.Cv:c=new vdb.c.ca.vX;break;case vdb.c.ca.Le.Dr:c=new vdb.c.ca.o1;break;case vdb.c.ca.Le.pw:c=new vdb.c.ca.d3;break;case vdb.c.ca.Le.Vv:c=new vdb.c.ca.VZ;break;default:b.error("unsupported type of subtitles: "+a)}return c}}}());vdb.c.a={};vdb.c.a.video={};vdb.c.a.video.bi={};
vdb.c.a.video.bi.F0=vdb.Za.wj.extend(function(){function c(a){this.ka=a}function d(){var a=this.ka.sb()||{};return Math.floor(Math.min(3*a.videoLength,a.currentPlayTime))||0}function b(a){this.Tz(a);this.Uz(a);this.Kq(a);return a}var a=vdb.g.Sd;return{k:function(b){this._super(b);this.np=this.Rk.uL;this.i=b;b.J.H?this.ka=b.J.H:b.addEventListener(a.Ud,c.bind(this))},$ea:function(a){a={ec:a.errorCode,att:a.Ks,t:d.call(this),et:a.time};b.call(this,a);this.Nb("video-recovery-start.gif",a)},bfa:function(a){a=
{att:a.Ks,et:a.time};b.call(this,a);this.Nb("video-config-load.gif",a)},afa:function(a){a={att:a.Ks,t:d.call(this),et:a.time};b.call(this,a);this.Nb("video-recovery-success.gif",a)}}}());vdb.c.a.video.bi.Gk=vdb.xb.extend(function(){function c(){n.debug("stop recovering");this.la.Ma();this.Ij&&(this.Zb.afa({ag:(this.M.Be()||{}).id,Ks:this.Ur,time:+new Date-this.Zr}),clearTimeout(this.Ij),this.Ij=null);this.Zr=this.zm=null;this.hg&&(clearTimeout(this.hg),this.hg=null)}function d(){this.dispatchEvent(vdb.c.a.video.bi.Gk.BJ,this.zm);c.call(this)}function b(a){this.Zb.bfa({ag:(this.M.Be()||{}).id,Ks:this.Ur,time:+new Date-this.Zr});if(this.Ij){var b=this.M.Be()||{};a&&a.videos&&0<a.videos.length&&
a.videos[0].videoUrls?a.videos[0].videoId===b.id&&(b.videoUrls=a.videos[0].videoUrls,this.dispatchEvent(vdb.c.a.video.bi.Gk.FB,b)):d.call(this)}}function a(){setTimeout(function(){if(this.Ij){this.Zb.$ea({ag:(this.M.Be()||{}).id,errorCode:this.zm,Ks:this.Ur,time:+new Date-this.Zr});var a=this.M.Be()||{};this.UL=this.UL||new vdb.wf.no(this.i);this.UL.fl(a.id).then(b.bind(this)).catch(h.bind(this))}}.bind(this),this.wC)}function f(){var a=c.bind(this);n.debug("bind stop recovering events");this.la.Ma();
m.bind(this.M,vdb.j.Ba.eb,a).link(this.la);m.bind(this.M,vdb.j.Ba.yb,a).link(this.la);m.bind(this.M,vdb.j.Ba.zb,a).link(this.la)}function g(b){n.debug("video error: ",b);this.Ij||this.M.Vh()||(b=b||{},this.zm||b.ZP||(this.zm=b.code,b=window.MediaError||{},b=[b.MEDIA_ERR_SRC_NOT_SUPPORTED,b.MEDIA_ERR_DECODE,87,88,89,11,12,13,14],!((this.M.Be()||{}).id&&2>this.Ur)||-1===b.indexOf(this.zm)&&this.zm?87===this.zm?this.dispatchEvent(vdb.c.a.video.bi.Gk.FB,this.M.Be()||{}):d.call(this):(clearTimeout(this.hg),
this.Ur++,this.hg=null,this.Zr=+new Date,f.call(this),this.Ij=setTimeout(k.bind(this),this.XM),a.call(this))))}function h(){this.Ij&&g.call(this,{code:87})}function k(){this.Zr=this.Ij=null;g.call(this,{code:89})}function l(){n.debug("buffering");this.hg||(f.call(this),this.hg=setTimeout(function(){this.hg=null;g.call(this,{code:88})}.bind(this),this.WM))}var m=vdb.j.U,n=vdb.log.Q("VideoRecovery");return{k:function(a,b,c){this._super();this.wC=Math.random()*(c||1E4);this.WM=1E4*Math.random()+1E4;
this.XM=this.wC+1E4*Math.random();n.debug("init() dsBalancingTimeout: "+this.wC+", maxBufferingTime: "+this.WM+", maxRecoveryTime: "+this.XM);this.Ur=0;this.Zb=new vdb.c.a.video.bi.F0(b);this.M=a;this.i=b;this.Ij=null;this.la=m.empty();this.M.addEventListener(vdb.j.Ba.Jo,g.bind(this));this.M.addEventListener(vdb.j.Ba.kf,l.bind(this))}}}());vdb.c.a.video.bi.Gk.BJ="VideoRecovery.FatalError";vdb.c.a.video.bi.Gk.FB="VideoRecovery.Recovery";vdb.c.a.video.ia={};
vdb.c.a.video.ia.Ne=vdb.xb.extend({fp:null,k:function(c,d){this._super();this.M=d;this.i=c},yu:function(){},load:function(){this.fp||(this.fp=this.ex?vdb.F.Kd(this.i.ye("player/js/17.21.1380/lib/"+this.ex)).then(this.yu.bind(this)):vdb.Promise.resolve());return this.fp},detach:function(){this.i.Ef&&(this.i.Ef.destroy(),delete this.i.Ef)},Cja:function(){return this.Qe},iA:function(c){this.dispatchEvent(vdb.c.a.video.ia.Ne.Jo,{code:c})},tfa:function(){this.dispatchEvent(vdb.c.a.video.ia.Ne.mm)},E7:function(){this.dispatchEvent(vdb.c.a.video.ia.Ne.DJ)}});
vdb.c.a.video.ia.Ne.Jo="VideoAreaModule.VIDEO_ERROR";vdb.c.a.video.ia.Ne.mm="VideoAreaModule.VIDEO_CLICK";vdb.c.a.video.ia.Ne.DJ="VideoAreaModule.FINISH_VIDEO";vdb.c.a.video.ia.em=vdb.c.a.video.ia.Ne.extend(function(){function c(b){var c=b.detail,d=c&&c.stream;a.debug(b.type,c);d&&this.i.dispatchEvent(f.Tl,{KO:d.bitrate})}function d(b){a.debug(b.type,b.detail)}function b(a){a=a&&a.detail&&a.detail.value;"undefined"!==typeof a&&(a?this.M.dispatchEvent(vdb.j.Ba.EL):this.M.dispatchEvent(vdb.j.Ba.DL))}var a=vdb.log.Q("OathHLSModule"),f=vdb.g.B,g=vdb.c.o.zj;return{k:function(b,c){this._super(b,c);a.debug("init()");window.JsHls||(this.ex="oath.hls.min.js");this.Qe=
g.s_},yu:function(){this._super()},Ic:function(f){a.debug("setVideo()",f);this.oc&&(this.detach(),a.error("Go to next video w/o detach call"));this.oc=new window.JsHls(this.M.Na());this.M.HD("streamSwitched",d.bind(this));this.M.HD("streamUpdated",c.bind(this));this.M.HD("hlsWaiting",b.bind(this));this.oc.setSrc({url:f.$f});this.oc.play();return vdb.Promise.resolve()},detach:function(){this._super();this.oc&&(this.oc.unload(),this.oc.destroy(),this.oc=null)}}}());vdb.c.a.video.ia.em.JF=function(){return vdb.f.W.aG()};
vdb.c.a.video.ia.em.isSupported=function(c){return vdb.f.Ua.fc("oathHlsJs",vdb.f.Nc.fe())||c.pa(vdb.g.Xa.r_)};vdb.c.a.video.ia.em.hh=function(c,d){return c&&c.$f&&-1!==c.$f.indexOf(".m3u8")&&vdb.b.IF()&&vdb.c.a.video.ia.em.isSupported(d)};vdb.c.a.video.ia.em.$j=!0;vdb.c.a.video.ia.Bh=vdb.c.a.video.ia.Ne.extend(function(){function c(a,b){f.debug(a,b);var c=b.frag&&b.frag.level;if(c&&this.TM!==c){var d=this.oc.levels[c],d=d&&d.url[0];this.TM=c;this.i.dispatchEvent(g.oB,{level:c,url:d})}}function d(a,b){f.debug(a,b);this.i.dispatchEvent(g.nB,b);this.Cm&&0<this.Cm.length&&b&&b.level&&this.i.dispatchEvent(g.Tl,{KO:this.Cm[b.level].bitrate})}function b(a,b){f.debug(a,b);this.i.dispatchEvent(g.or,b);this.Cm=b&&b.levels}function a(a,b){var c=b.details,d=b.fatal;f.debug("Stream error ",
b.type,c,d);if(this.jp)this.iA(MediaError.MEDIA_ERR_DECODE);else if(this.jp=!1,d)switch(b.type){case window.Hls.ErrorTypes.NETWORK_ERROR:f.debug("fatal network error encountered, try to recover");this.oc.startLoad();"STOPPED"===this.oc.streamController.state?this.iA(MediaError.MEDIA_ERR_DECODE):this.jp=!0;break;case window.Hls.ErrorTypes.MEDIA_ERROR:f.debug("fatal media error encountered, try to recover");this.jp=!0;this.oc.recoverMediaError();break;default:this.iA(MediaError.MEDIA_ERR_DECODE)}else c===
window.Hls.ErrorDetails.BUFFER_STALLED_ERROR&&"ENDED"===this.oc.streamController.state&&this.iA(MediaError.MEDIA_ERR_NETWORK)}var f=vdb.log.Q("HLSModule"),g=vdb.g.B,h=vdb.c.o.zj;return{k:function(a,b){this._super(a,b);f.debug("init()");this.jp=!1;this.Qe=h.EY;window.Hls||(this.ex="hls.min.js")},yu:function(){this._super()},Ic:function(h){f.debug("setVideo()",h);this.jp=!1;this.oc&&(this.detach(),f.error("Go to next video w/o detach call"));this.oc=new window.Hls;this.oc.on(window.Hls.Events.ERROR,
a.bind(this));this.oc.on(window.Hls.Events.MANIFEST_LOADED,b.bind(this));this.oc.on(window.Hls.Events.LEVEL_LOADED,d.bind(this));this.oc.on(window.Hls.Events.FRAG_CHANGED,c.bind(this));this.i.Ga.dispatchEvent(new vdb.j.Event(g.lw,{hls:this.oc}));vdb.c.a.video.ia.Bh.B$=this.oc;return new vdb.Promise(function(a){this.oc.loadSource(h.$f);this.oc.attachMedia(this.M.Na());this.TM=this.oc.currentLevel;this.oc.on(window.Hls.Events.MANIFEST_PARSED,a)}.bind(this))},detach:function(){this._super();this.jp=
!1;this.oc&&(this.oc.destroy(),this.oc=null)}}}());vdb.c.a.video.ia.Bh.JF=function(){return vdb.f.W.aG()};vdb.c.a.video.ia.Bh.isSupported=function(){return"undefined"!==typeof window.Hls&&window.Hls.isSupported()||vdb.c.a.video.ia.Bh.JF()};vdb.c.a.video.ia.Bh.hh=function(c,d){return c&&c.$f&&-1!==c.$f.indexOf(".m3u8")&&!vdb.c.a.video.ia.Bh.JF()&&vdb.b.IF()&&!vdb.c.a.video.ia.em.isSupported(d)};vdb.c.a.video.ia.Bh.$j=!0;vdb.c.a.video.ia.NL=vdb.c.a.video.ia.Ne.extend(function(){function c(a){window.YKU&&(this.a=new window.YKU.Player(this.OU,{styleid:"0",client_id:this.ay,vid:a,autoplay:"autoplay"===this.i.Ga.A.playerTemplate.initialization,show_related:!1,events:{onPlayerReady:d.bind(this)}}))}function d(){null==this.hv&&(this.hv=this.a.player()._player,this.a.hd=b.bind(this),this.He=this.i.gd(),this.dispatchEvent({type:a.$c,data:{}}),this.i.Ga.dispatchEvent(new vdb.j.Event(a.lw)));this.M.dispatchEvent(vdb.j.Ba.zi)}
function b(){return{width:this.tA.offsetWidth,height:this.tA.offsetHeight}}var a=vdb.g.B,f=vdb.log.Q("YoukuModule"),g=vdb.c.o.zj,h=vdb.b,k={};return{k:function(a,b){this._super(a,b);f.debug("init");var d=vdb.b.ge,k=this.i.J.ya.videos[0].externalId;this.Qe=g.g3;this.cG=!1;this.Cs=document.getElementById("videos-container");this.Se=this.i.J.Qd;this.ya=new vdb.u.mo(this.i.J.ya);this.He=null;this.ay=d(this.i.J.ya.videos[0].externalContentId,d(this.i.pa("ykucid"),"24e38390de550346"));this.OU="vdb-youku-player-"+
k;this.tA=h.createElement("div",{id:this.OU,style:{width:"100%",height:"100%",position:"absolute",zIndex:"9"}});this.Cs.insertBefore(this.tA,this.Cs.firstChild);d=c.bind(this,k);vdb.F.Kd("//player.youku.com/jsapi").then(d)},addEventListener:function(a,b){null!=this.hv&&this.hv.addEventListener(k[a]||a,b);this._super(a,b)},dispatchEvent:function(a,b){this._super(a,b);this.i.dispatchEvent(a,b)},removeEventListener:function(a,b){null!=this.hv&&this.hv.removeEventListener(k[a]||a,b);this._super(a,b)},
oq:function(){},Yj:function(){},pu:function(){},play:function(){this.a&&(this.a.Lka(),this.cG=!0)},pause:function(){this.a&&(this.a.cS(),this.cG=!1)},mute:function(){},volume:function(){},caption:function(){},Ge:function(a){this.a&&this.a.Ge(a)},NS:function(){},TP:function(){this.a&&this.a.Bea()},exitFullscreen:function(){this.a&&this.a.Bea()},sb:function(){var a={};a.sellerId=this.Se.ownerId;return a},aa:function(){return this.ya.Be(0)},yc:function(){return 0},getVolume:function(){},aF:function(){return null},
Th:function(){return"youku"},jd:function(){return!1},Dka:function(){},dispose:function(){var a=this.tA;a&&a.parentNode&&a.parentNode.removeChild(a)},isPlaying:function(){return this.cG}}}());vdb.c.a.video.ia.NL.hh=function(c,d){c=c||vdb.b.vg(d.Ga.ya,["videos",0]);return!!c&&(c.videoSourceType||c.jA||"").toLowerCase()===vdb.o.aC.ML};vdb.c.a.video.ia.ZA=vdb.c.a.video.ia.Ne.extend(function(){var c=vdb.log.Q("ErrorModule360"),d=vdb.c.o.zj;return{k:function(b,a){c.debug("init");this._super(b,a);this.Qe=d.HX},play:function(){},pause:function(){},Ic:function(){var b=this.i.getPlayer(),b=b&&b.a&&b.a.Gd();c.debug("setVideo");this.i.Ef=new vdb.vr.Player({container:this.M.R.parentNode,panel:{customColor:b}});return vdb.Promise.resolve()},detach:function(){c.debug("detach");this._super()}}}());
vdb.c.a.video.ia.ZA.hh=function(c,d){return!!(c&&c.Of&&d.bv)};vdb.c.a.video.ia.ZA.$j=!1;vdb.c.a.video.ia.EI=vdb.c.a.video.ia.Ne.extend(function(){function c(a){this.aN=!0;this.Zb.action("360_scroll",null,this.M.Ea(),null,null,{Ax:a})}function d(a){this.aN||(this.bN&&this.bN.Ma(),a===g.yj&&this.tfa())}function b(b){this.aN=!1;this.bN=a.Ca(this.i,f.sB,c.bind(this,b))}var a=vdb.j.U,f=vdb.j.Ah,g=vdb.c.o.QW;return{k:function(b,c){this._super(b,c);this.Zb=this.i.gd();this.la=a.empty()},Pi:function(){a.bind(this.i,f.mw,b.bind(this,g.yj)).link(this.la);a.bind(this.i,f.nw,d.bind(this,g.yj)).link(this.la);
a.bind(this.i,f.RI,b.bind(this,g.QI)).link(this.la);a.bind(this.i,f.SI,d.bind(this,g.QI)).link(this.la)},detach:function(){this._super();this.la.Ma()}}}());vdb.c.a.video.ia.sw=vdb.c.a.video.ia.Ne.extend(function(){function c(a){k.error("Player error:"+a.data);this.Ih&&this.Ih.reject()}function d(a,b){var c=this.ya.Be(0);c&&(b=b||{},b.id=c.id,b.name=b.name||c.title,b.url=this.ud.getVideoUrl(),this.i.J.ah().then(function(c){c.dispatchEvent({type:a,data:b})}))}function b(){this.Hj=!0;this.ya=new vdb.u.mo(this.i.J.ya);this.Wa?this.Ic(this.Wa):(this.Wa=this.ya.aa(),this.ud.cueVideoById(this.Wa.el));this.ud.setSize("100%","100%");this.mute(this.bD);this.setVolume(this.yD);
document.getElementById(this.IC).removeAttribute("allowfullscreen");this.He=this.i.gd();this.He.display({width:this.ae.offsetWidth,height:this.ae.offsetHeight});this.Ih.resolve();this.i.Ga.dispatchEvent(new vdb.j.Event(vdb.g.B.lw))}function a(){this.R4=setInterval(function(){var a=this.Ea();a!==this.h4&&(this.h4=a,this.M.dispatchEvent(vdb.j.Ba.zb,{currentTime:a,duration:this.getDuration(),buffered:this.M.Ct(),Ph:this.getDuration()}))}.bind(this),500)}function f(){var b=this.a.l.Wp();b?b.wu():(this.M.dispatchEvent(vdb.j.Ba.kw),
this.M.dispatchEvent(vdb.j.Ba.Jr,{Ph:this.getDuration(),duration:this.getDuration(),playbackRate:this.p9(),width:this.ae.offsetWidth,height:this.ae.offsetHeight}),this.M.dispatchEvent(vdb.j.Ba.Lo,{duration:this.getDuration()}),a.call(this),this.Wa.metadata.duration=1E3*this.ud.getDuration(),d.call(this,"youtubevideoselected",{videoId:this.Wa.id,name:this.Wa.title,overlayURL:this.Wa.metadata.overlayUrl||"",duration:this.getDuration()}))}function g(a){switch(a.data){case window.YT.PlayerState.PLAYING:this.Oc||
(this.Oc=!0,this.oM=!1,f.call(this));this.Ec?(this.Ec=!1,this.M.dispatchEvent(vdb.j.Ba.zi,{duration:this.getDuration()})):this.M.dispatchEvent(vdb.j.Ba.Ra,{duration:this.getDuration()});this.He.action("play",void 0,this.ud.getDuration());break;case window.YT.PlayerState.ENDED:this.oM=!0;this.M.dispatchEvent(vdb.j.Ba.eb,{currentTime:this.Ea(),complete:!0});this.ae.style.zIndex="9";break;case window.YT.PlayerState.PAUSED:this.Ec=!0;this.M.dispatchEvent(vdb.j.Ba.yb);break;case window.YT.PlayerState.BUFFERING:break;
case window.YT.PlayerState.CUED:break;default:k.info("YouTube event.data:",a.data)}}function h(){this.M.dispatchEvent(vdb.j.Ba.Dc,{muted:this.bD,volume:this.yD})}var k=vdb.log.Q("YoutubeModule"),l=vdb.c.o.zj,m=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\u200c\u200b\&\?]*).*/;return{k:function(a,d,f){this._super(a,d);this.Qe=l.h3;this.IC="vdb-youtube-player-"+this.i.id;this.Cs=document.getElementById("videos-container");this.Ih=new vdb.bc;this.ae=document.createElement("div");this.ae.setAttribute("id",
"youtubeContainer");this.ae.style.width="100%";this.ae.style.height="100%";this.ae.style.position="absolute";this.ae.style.zIndex="9";this.Cs.insertBefore(this.ae,this.Cs.firstChild);this.M.Z();a=document.createElement("div");a.setAttribute("id",this.IC);this.ae.appendChild(a);a=document.createElement("script");a.src=f?f.Ila:"https://www.youtube.com/iframe_api";this.ae.insertBefore(a,this.ae.firstChild);f=function(){this.ud=new window.YT.Player(this.IC,{height:this.M.R.clientHeight,width:this.M.R.clientWidth,
playerVars:{controls:0},events:{onReady:b.bind(this),onStateChange:g.bind(this),onError:c.bind(this)}});this.a=this.i.Ga.a}.bind(this);window.YT&&window.YT.Player?f():window.onYouTubeIframeAPIReady=f},Ic:function(a){this.Wa=a;this.Hj&&(this.ae.style.zIndex="4",this.ae.style.display="",this.M.Z(),a=(a=this.ud.getVideoUrl())&&a.match(m),(a&&a[2])!==this.Wa.el||this.oM?this.ud.cueVideoById(this.Wa.el):f.call(this));return this.Ih.qb()},detach:function(){this._super();this.ae.style.zIndex="9";this.ae.style.display=
"none";this.M.show();clearInterval(this.R4);this.Oc=!1},play:function(){this.Hj&&this.ud.playVideo()},pause:function(){this.Hj&&this.ud.pauseVideo()},getDuration:function(){return this.Hj&&this.ud.getDuration()},p9:function(){return this.Hj&&this.ud.getPlaybackRate()},Ea:function(){return this.Hj&&this.ud.getCurrentTime()},isPlaying:function(){return this.Hj&&this.ud.getPlayerState()===window.YT.PlayerState.PLAYING},seek:function(a){this.Hj&&this.ud.seekTo(a)},Sf:function(){return this.Oc},setVolume:function(a){this.yD=
a;this.ud&&this.ud.setVolume(Math.round(100*a));h.call(this)},mute:function(a){var b=a?"mute":"unMute";if(this.ud&&this.ud[b])this.ud[b]();this.bD=a;h.call(this)},muted:function(){return this.bD},getVolume:function(){return this.yD||this.Hj&&this.ud.getVolume()/100}}}());vdb.c.a.video.ia.sw.hh=function(c,d){c=c||vdb.b.vg(d.Ga.ya,["videos",0]);return!!c&&(c.videoSourceType||c.jA||"").toLowerCase()===vdb.o.aC.eC};vdb.c.a.video.ia.sw.$j=!0;vdb.c.a.video.ia.sw.Haa=!0;vdb.c.a.video.ia.WA=vdb.c.a.video.ia.Ne.extend(function(){var c=vdb.log.Q("DashModule"),d=vdb.c.o.zj;return{k:function(b,a){c.debug("init");this._super(b,a);this.Qe=d.aX;this.ex="dash.all.js"},yu:function(){this._super();var b=new window.Dash.di.DashContext;this.K=new window.MediaPlayer(b);b.debug.setLogToBrowserConsole(!1);this.K.startup()},Ic:function(b){this.K.attachView(this.M.Na());this.K.attachSource(b.$f);return new vdb.Promise(function(a){a()})},detach:function(){this._super();this.K.reset()}}}());
vdb.c.a.video.ia.WA.hh=function(c){if(!c||!c.$f)return!1;var d=vdb.b.Da;return!(d.Xe()||d.safari||vdb.b.Hd)&&-1!==c.$f.indexOf(".mpd")};vdb.c.a.video.ia.WA.$j=!0;vdb.c.a.video.Z0=function(){function c(a,b){b=b||1;return function(c,d){return-1!=c.indexOf(a)?-1!=d.indexOf(a)?0:-b:-1!=d.indexOf(a)?b:0}}function d(b,d){vdb.f.W.isSupported(b)?a.sort(c(d)):a.sort(c(d,-1))}var b,a,f;return function(g,h){f=h;b=g;a=b.videoUrls;if(!a)return[];d.call(this,"video/ogg",".ogg");d.call(this,"video/mp4",".mp4");var k="maybe"===vdb.f.W.hQ("application/vnd.apple.mpegurl"),l=vdb.b.Is();l&&(4.4>l||5.1>=l&&k)||!vdb.c.a.video.ia.Bh.isSupported()?a.sort(c(".m3u8",-1)):a.sort(c(".m3u8"));
b.Of&&d.call(this,"video/webm",".webm");if("function"!==typeof f)b.vH(a[0]);else{for(k=0;k<a.length;k++)if(b.vH(a[k]),f(b))return a;b.vH(null)}return a}}();vdb.c.a.video.ofa={};vdb.c.a.video.ofa.mga=vdb.L.Class.extend(function(){var c=vdb.log.Q("AbstractUrlProcessor");return{k:function(d){c.debug("init");this.Wa=d},LE:function(){}}}());vdb.c.a.video.ZB={pP:function(c){return"string"===typeof c?new vdb.u.pm({videoUrls:[c],title:"Video"}):c},P6:function(c){var d=vdb.o.a.ui,b=vdb.b.xz(c&&c.pa(vdb.g.Xa.RY)),d=c&&(c.jj===d.ef||c.jj===d.rv),a=vdb.b.Da,f={preload:"none",style:"display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; padding: 0; margin: 0; z-index: 1;"};a.Xe()&&("safari"===a.name&&10<=a.version||"chrome"===a.name&&54<=a.version||"fban"===a.name)&&(f.playsinline=!0);c&&c.Tf()?d&&(f.autoplay=!0):b&&
(f["webkit-playsinline"]=!0);return f}};vdb.c.a.video.N2=vdb.xb.extend(function(){function c(){return!vdb.c.a.Yp&&vdb.c.a.yT}function d(a){z.debug("onLoad",this.R.readyState,a);this.dispatchEvent(B.kw)}function b(){this.dispatchEvent(B.Jr,{Ph:this.ze(),duration:this.getDuration(),playbackRate:this.R.playbackRate,width:this.R.videoWidth,height:this.R.videoHeight})}function a(){var a;z.debug("onLoadedMetadata",this.R.readyState);this.getDuration()?b.call(this):(a=function(){this.getDuration()&&(this.dd.removeEventListener("durationchange",
a),b.call(this))}.bind(this),this.dd.addEventListener("durationchange",a))}function f(){z.debug("onWaiting",this.R.readyState);this.dispatchEvent(B.kf)}function g(){(this.Ec=this.Ec||this.R.paused&&!this.R.ended)||this.ig!==this.ap?(this.hg=null,this.ap=this.ig):this.hg&&1E3<Date.now()-this.hg?f.call(this):null==this.hg&&(this.hg=Date.now());this.dispatchEvent(B.om,{FU:3>this.R.readyState,buffered:this.R.buffered,duration:this.getDuration()})}function h(a){z.debug("onCanPlay",this.R.readyState,a);
this.Oc&&!this.R.paused||!this.kC||this.Ec||this.mx||this.R.play()}function k(){this.mx=!0}function l(a){z.debug("Play",a);this.Oc||(this.ig=0,this.Oc=!0,this.Ec=!1,this.tD=!0,this.dispatchEvent(B.Lo,{duration:this.getDuration()}));this.Ec?(this.Ec=!1,z.debug("onPlaying",this.R.readyState,"resume"),this.dispatchEvent(B.zi,{duration:this.getDuration()})):(z.debug("onPlaying",this.R.readyState,"play"),this.dispatchEvent(B.Ra,{duration:this.getDuration()}));this.R.controls=c.call(this)&&this.ep&&"1"!==
vdb.T.pa(vdb.g.Xa.JJ);this.R.poster&&this.R.removeAttribute("poster")}function m(){if(this.Oc){var a=this.getDuration();this.ig=this.R.currentTime;this.ig>a&&(this.ig=a);this.dispatchEvent(B.zb,{currentTime:this.ig,buffered:this.R.buffered,duration:a,Ph:this.ze()})}}function n(){z.debug("onPause",this.R.readyState);(this.Ec=this.R.paused&&!this.R.ended)&&this.dispatchEvent(B.yb)}function p(){z.debug("onSeeking",this.R.readyState);this.dispatchEvent(B.Ai,{currentTime:this.ig})}function s(){z.debug("onSeeked",
this.R.readyState);this.dispatchEvent(B.jf)}function q(){z.debug("onVolumeChange");this.dispatchEvent(B.Dc,{muted:this.R.muted,volume:this.R.volume})}function r(){z.debug("onClick");this.dispatchEvent(B.mm)}function t(){this.dispatchEvent(B.rB)}function u(){this.dispatchEvent(B.XB)}function v(){this.TC=!0;this.dispatchEvent(B.GL)}function w(){this.TC=!1;this.dispatchEvent(B.HL)}var z=vdb.log.Q("VideoArea"),B=vdb.j.Ba;return{Wa:null,mx:!1,Oc:!1,Ec:!1,tD:!1,ap:0,ig:0,kC:!1,hg:null,TC:!1,k:function(b){this._super();
this.R=vdb.b.createElement("video",b);this.ep=vdb.b.Ve()?c.call(this):!0;this.dd=vdb.j.JU(this.R);this.dd.xd("loadstart",d.bind(this));this.dd.xd("loadedmetadata",a.bind(this));this.dd.xd("progress",g.bind(this));this.dd.xd("play",k.bind(this));this.dd.xd("canplay canplaythrough",h.bind(this));this.dd.xd("timeupdate",m.bind(this));this.dd.xd("pause",n.bind(this));this.dd.xd("seeking",p.bind(this));this.dd.xd("seeked",s.bind(this));this.dd.xd("waiting",f.bind(this));this.dd.xd("ended abort",this.BG.bind(this));
this.dd.xd("error stalled",this.gj.bind(this));this.dd.xd("volumechange",q.bind(this));this.dd.xd("click",r.bind(this));this.dd.xd("touchstart",u.bind(this));this.dd.xd("webkitbeginfullscreen",v.bind(this));this.dd.xd("webkitendfullscreen",w.bind(this));this.dd.xd("mouseenter",t.bind(this));this.dd.xd("playing",l.bind(this))},Bg:function(a){this.ep=!!a},BG:function(a){z.debug("onEnded",this.R.readyState,a);this.complete(a);this.mx=this.Oc=!1},complete:function(a){z.debug("onComplete",this.R.readyState,
a);this.Oc&&this.dispatchEvent(B.eb,{currentTime:this.ig,complete:"ended"===a.type})},Vs:function(a){if(this.Wa||a){vdb.F.empty(this.R);this.R.setAttribute("src","");this.R.removeAttribute("src");if(vdb.b.Hd||vdb.b.baa)this.vD=!0;a||(this.kC=this.tD=this.mx=this.Oc=!1)}},gj:function(a){this.vD?this.vD=!1:(a=a&&a.data&&a.data.code?a.data.code:this.R.error?this.R.error.code:null,this.Jz(a))},Jz:function(a,b,c){if(!b){b="";switch(a){case MediaError.MEDIA_ERR_ABORTED:b="You aborted the video playback.";
break;case MediaError.MEDIA_ERR_NETWORK:b="A network error caused the video download to fail part-way.";break;case MediaError.MEDIA_ERR_DECODE:b="The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:b="The video could not be loaded, either because the server or network failed or because the format is not supported.";break;default:b="An unknown error occurred."}b=a+":"+b}b="Can't play video "+
this.R.currentSrc+": "+b;z.debug(b);this.dispatchEvent(B.Jo,{code:a,message:b,ZP:c})},oh:function(){this.ep=!1;this.R&&(this.R.controls=this.ep)},Sa:function(){this.ep=c.call(this);this.R&&(this.R.controls=this.ep)},$t:function(a){var b;return this.R.getAttribute("src")||this.R.getElementsByTagName("source").length?(b=this.R.currentSrc)&&this.Wa===a&&0<=a.videoUrls.indexOf(b):!1},reset:function(){this.Vs()},cda:function(){this.ap=this.ig},xH:function(a){this.Wa=a},Ic:function(a,b){var c=a,d,f,h,k,
g,l;if(c){if(c=vdb.c.a.video.ZB.pP(c),!this.$t(c)){this.xH(c);this.Vs();this.dT(b);d=c.videoUrls.length;if(1===d)this.R.setAttribute("src",c.videoUrls[0]);else{f=[];h=[];for(l=0;l<d;l++)if(k=c.videoUrls[l])(g=vdb.b.LR(k))?vdb.f.W.isSupported(g)?f.push({type:g,url:k}):z.warn("Unsupported media type",k):h.push({type:g,url:k});c=f=f.concat(h);d=vdb.F.createDocumentFragment();var m;for(f=0;f<c.length;++f)m=c[f].type,h=vdb.F.createElement("source"),m&&(h.type=m),m=h,d.appendChild(m),m.setAttribute("src",
c[f].url);vdb.j.JU(m).xd("error",this.gj.bind(this));this.R.appendChild(d)}try{this.R.load()}catch(n){}}}else this.reset()},dT:function(a){a?this.R.setAttribute("crossorigin","anonymous"):this.R.removeAttribute("crossorigin")},yd:function(){if(!this.tD){z.debug("touch");try{this.R.load()}catch(a){z.error(a)}}},Z:function(a){this.nN=this.R.style.zIndex;this.R.style.visibility="hidden";this.R.style.display="none";a&&(this.R.style.zIndex="-1000")},show:function(a){this.R.style.visibility="";this.R.style.display=
"block";a&&this.nN&&(this.R.style.zIndex=this.nN)},ND:function(){this.kC=!0},play:function(){z.debug("play");this.ND();this.R.play()},pause:function(){this.R.pause()},isPlaying:function(){return this.Oc&&!this.Ec},Vh:function(){return this.Ec},Sf:function(){return this.Oc},Lt:function(){return this.R?this.R.videoHeight:0},Mt:function(){return this.R?this.R.videoWidth:0},stop:function(){this.R.pause();this.Vs();this.R.load()},Be:function(){return this.Wa},seek:function(a){if(0<=a){a=isNaN(this.getDuration())?
0:Math.min(a,this.getDuration()-.5);try{this.R.currentTime=a}catch(b){}}},getDuration:function(){var a=this.R.duration;return a&&Infinity!==a?a:0},ze:function(){return this.getDuration()-this.Dy()},Bq:function(a){this.p3=a},Dy:function(){return this.p3||0},Ea:function(){return this.R.currentTime||0},Rp:function(){var a=this.Ea()/this.getDuration();return isNaN(a)?0:a},Ct:function(){return this.R.buffered},fn:function(){return this.R.offsetWidth||this.R.parentNode&&this.R.parentNode.offsetWidth||0},
Tp:function(){return this.R.offsetHeight||this.R.parentNode&&this.R.parentNode.offsetHeight||0},setVolume:function(a){try{this.R.volume=a,this.R.muted=!a}catch(b){}},getVolume:function(){return this.R.volume},mute:function(a){try{this.R.muted=a}catch(b){}},muted:function(){return this.R.muted},fla:function(a){a?this.R.poster=a:this.R.removeAttribute("poster")},Ija:function(){return this.R.parentNode},Na:function(){return this.R},webkitEnterFullscreen:function(){try{this.R.webkitEnterFullscreen()}catch(a){}},
Fy:function(){return this.R.currentSrc},hja:function(){return this.R.clientHeight},ija:function(){return this.R.clientWidth},HD:function(a,b){this.R.addEventListener(a,b)},webkitExitFullscreen:function(){try{this.R.webkitExitFullscreen()}catch(a){}},ck:function(){return this.TC},uR:function(){return!0},DG:d,EG:a,AG:h,Cka:n,qba:r,GE:function(a){this.R.style.cursor=a?"pointer":""}}}());vdb.c.a.ow=vdb.L.Class.extend({k:function(){this.EU=new vdb.bc;this.CR=!1},load:function(){this.CR||(this.CR=!0,vdb.b.aq(document,vdb.T.ye("player/js/17.21.1380/lib/vr.js"),this.EU.resolve));return this.EU.qb()}});vdb.c.a.ow.pb=function(){var c;return function(){return c=c||new vdb.c.a.ow}}();vdb.c.a.cC=vdb.L.Class.extend(function(){function c(a){return function(b){b=b||{};b.type=a;vdb.T.dispatchEvent(a,b)}}var d=vdb.j.U,b=vdb.j.Ah,a=vdb.g.B,f={setOrientation:b.$K,resetOrientation:b.SK,toggleGyro:b.oL,toggleSkin:b.pL,toggleStereoscopic:b.SB,createTooltip:a.tL,pauseTooltip:a.sL,showTooltipIcon:a.cL,hideTooltipIcon:a.MJ,openTooltipIcon:a.xK,closeTooltipIcon:a.NI,showTooltip:a.bL,hideTooltip:a.LJ};return{k:function(g,h,k){var l=vdb.vr.Events,m,n;this.jg={};this.jg[l.MOVED]=b.sB;this.jg[l.VIDEO_PRESS]=
b.mw;this.jg[l.VIDEO_RELEASE]=b.nw;this.jg[l.COMPASS_PRESS]=b.RI;this.jg[l.COMPASS_RELEASE]=b.SI;this.jg[l.TOOLTIP_BUTTON_CLICK]=a.qL;this.jg[l.TOOLTIP_CLICK]=a.rL;if(g){for(m in this.jg)Object.prototype.hasOwnProperty.call(this.jg,m)&&d.bind(g,m,c(this.jg[m]));k||(k=function(a,b){g[a](b&&b.data)})}for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&d.bind(vdb.T,f[n],k.bind(null,n)).link(h)},nba:function(a){var b=this.jg[a.type];b&&c(b).call(null,a)},Hja:function(){return this.jg}}}());vdb.c.a.video.ia.wo=vdb.c.a.video.ia.EI.extend(function(){var c=vdb.log.Q("Module360"),d=vdb.g.Xa,b=vdb.c.o.zj;return{k:function(a,d){c.debug("init");this._super(a,d);this.Qe=b.ZZ},yu:function(){c.debug("prepareModule");this._super()},Ic:function(a){a=a&&a.Of||{};var b=this.i.Ga.a;c.debug("setVideo");this.i.Ef=new vdb.vr.Player({rendererType:vdb.b.Hd?"frame":"video",width:vdb.b.Hd?960:null,height:vdb.b.Hd?540:null,container:this.M.R.parentNode,projectionType:a.Bu,tilt:a.Vu,centeredFishEye:this.i.pa(d.PA),
fishEyeAngle:this.i.pa(d.dB),panel:{customColor:b&&b.Gd()}});new vdb.c.a.cC(this.i.Ef,this.la);this.i.Ef.render(this.M.Na());this.M.Z(!0);this.Pi();return vdb.Promise.resolve()},ug:function(){return this.i.Ef&&this.i.Ef.getOrientation()},detach:function(){c.debug("detach");this._super();this.M.show(!0)}}}());vdb.c.a.video.ia.wo.hh=function(c,d){return!!c&&!!c.Of&&d.oA!==vdb.o.Mr.br&&!d.bv&&!vdb.b.Da.Xe()&&!vdb.b.Da.safari&&!(vdb.b.Hd&&!vdb.c.a.video.ia.Bh.hh(c,d))};vdb.c.a.video.ia.wo.$j=!1;vdb.c.a.video.ia.YA=vdb.c.a.video.ia.EI.extend(function(){function c(a){a=a.yaw;var b=Math.abs(a)%(2*Math.PI),b=b>Math.PI?b-2*Math.PI:b;this.i.Ef.rotateCompass(0>a?-b:b);this.i.dispatchEvent(y.sB)}function d(){B.call(this,"touchstart");this.M.dispatchEvent(vdb.j.Ba.XB);this.i.dispatchEvent(y.mw)}function b(){z.call(this,"touchend");this.i.dispatchEvent(y.nw)}function a(){z.call(this,"mouseup");this.i.dispatchEvent(y.nw)}function f(){B.call(this,"mousemove")}function g(){z.call(this,"mouseout")}function h(){B.call(this,
"mouseover");this.M.dispatchEvent(vdb.j.Ba.rB)}function k(){this.i.dispatchEvent(y.mw)}function l(){this.K.dispatchEvent(J.bd,{interactionType:vdb.o.Me.Go});this.i.Ef.toggleSkin()}function m(a){this.M.Jz.call(this.M,a.code,a.message,!0)}function n(){this.Oc=!1;this.M.dispatchEvent(vdb.j.Ba.eb,{currentTime:this.Ea(),complete:!0});this.E7()}function p(){this.M.dispatchEvent(vdb.j.Ba.Dc,{muted:this.muted(),volume:this.getVolume()})}function s(){this.M.dispatchEvent(vdb.j.Ba.jf)}function q(){this.M.dispatchEvent(vdb.j.Ba.Ai,
{currentTime:this.Ea()})}function r(){(this.Ec=!this.Ja.isEnded())&&this.M.dispatchEvent(vdb.j.Ba.yb)}function t(){this.Ec?(this.Ec=!1,this.M.dispatchEvent(vdb.j.Ba.zi,{duration:this.getDuration()})):this.M.dispatchEvent(vdb.j.Ba.Ra,{duration:this.getDuration()})}function u(){this.M.dispatchEvent(vdb.j.Ba.om,{FU:this.Ja.getReadyState(),buffered:this.Ja.getBuffered(),duration:this.getDuration()})}function v(){var a=this.getDuration();this.M.dispatchEvent(vdb.j.Ba.zb,{currentTime:this.Ea(),buffered:this.Ja.getBuffered(),
duration:a,Ph:a})}function w(){this.M.dispatchEvent(vdb.j.Ba.kf)}function z(a){var b=this.X.ownerDocument,c=b.createEvent("Events");c.initEvent(a,!0,!0);b.dispatchEvent(c)}function B(a){var b=this.X.ownerDocument.createEvent("Events");b.initEvent(a,!0,!0);this.X.dispatchEvent(b)}function x(){this.eba=(new vdb.Ac.oK({G:this.X,Hn:"//cloud-watch.envrmnt.com/kelvin/client/libs/kelvin-api.js",aR:["ENVRMNT","createPlayer"]})).zO('<div id="envrmnt-360-player" style="width: 100%; height: 100%;"></div>').gT(!0).P("width: 100%; height: 100%; position: absolute; top: 0; left: 0; border: 0;").load(function(a){a=
a.ENVRMNT;this.Zc=a.PlayerEvent;a.createPlayer(this.hS,"#envrmnt-360-player").then(C.bind(this))}.bind(this))}function C(a){I.debug("onPlayerReady",a);this.i.Hv&&this.i.Hv.k(a,this.Zc);this.Ja=a;this.Pi();a=this.getDuration();this.Ja.hasUnmuteOverlay()&&(this.K.dispatchEvent(J.KJ),this.i.Ef.toggleSkin());this.M.dispatchEvent(vdb.j.Ba.kw);this.M.dispatchEvent(vdb.j.Ba.Jr,{Ph:a,duration:a,playbackRate:this.Ja.getPlaybackRate(),width:this.X.clientWidth,height:this.X.clientHeight});this.Ih.resolve()}
var I=vdb.log.Q("EnvrmntModule360"),J=vdb.g.B,S=vdb.c.o.zj,y=vdb.j.Ah,K=vdb.j.U,aa=Math.PI/2;return{k:function(a,b){I.debug("init");this._super(a,b);this.Qe=S.EX;this.X=b.R.parentNode;this.K=this.i.getPlayer().a;this.Oc=!1;"1"===vdb.f.Ua.fc("debug-envrmnt")&&(this.fp=this.i.gu(vdb.g.KK.DX))},Pi:function(){var B=vdb.vr.Events;new vdb.c.a.cC(this.i.Ef,this.la);K.bind(this.i.Ef,B.MOVE,this.uda.bind(this)).link(this.la);K.bind(this.i.Ef,B.RESET,this.ada.bind(this)).link(this.la);K.bind(this.i,J.SB,this.Oea.bind(this)).link(this.la);
K.bind(this.Ja,this.Zc.CAMERA_ROTATION,c.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.ERROR,m.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.UNMUTE_BUTTON_CLICK,l.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_ABORT,n.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_ENDED,n.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_MOUSEDOWN,k.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_MOUSEENTER,h.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_MOUSELEAVE,g.bind(this)).link(this.la);
K.bind(this.Ja,this.Zc.VIDEO_MOUSEMOVE,f.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_MOUSEUP,a.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_PAUSE,r.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_PLAYING,t.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_PROGRESS,u.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_SEEKED,s.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_SEEKING,q.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_TIMEUPDATE,v.bind(this)).link(this.la);
K.bind(this.Ja,this.Zc.VIDEO_TOUCHEND,b.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_TOUCHSTART,d.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_VOLUMECHANGE,p.bind(this)).link(this.la);K.bind(this.Ja,this.Zc.VIDEO_WAITING,w.bind(this)).link(this.la);this._super()},Ic:function(a){var b=this.K.Gd(),c=this.i.CQ();this.hS={autoplay:!1,defaultCameraRotation:{pitch:0,yaw:Math.PI,roll:0},mute:this.M.muted(),volume:this.M.getVolume(),unmuteOverlay:{fill:b,url:c},uuid:a.el};I.debug("setVideo",
this.hS);this.i.Ef=new vdb.vr.Player({container:this.X,panel:{customColor:b}});this.M.Z();this.Ih=new vdb.bc;x.call(this);return this.Ih.qb()},play:function(){this.Ja&&(this.Ja.play(),this.Oc||(this.Oc=!0,this.Ec=!1,this.M.dispatchEvent(vdb.j.Ba.Lo,{duration:this.getDuration()})))},pause:function(){this.Ja&&this.Ja.pause()},mute:function(a){if(this.Ja)this.Ja[a?"mute":"unmute"]()},seek:function(a){this.Ja&&this.Ja.seekTo(a)},uda:function(a){if(this.Ja){var b=this.Ja.getCameraRotation(),c=Math.max(Math.min(b.pitch-
a.data.y/60,aa),-1*aa);this.Ja.setCamera(c,b.yaw-a.data.x/60,0)}},ada:function(){this.Ja&&this.Ja.resetCamera()},Oea:function(){this.Ja&&this.Ja.toggleVR()},Sf:function(){return this.Oc},isPlaying:function(){return this.Oc&&!this.Ec},Ea:function(){var a=0;this.Ja&&(a=this.Ja.getCurrentTime()||0);return a},getDuration:function(){var a=0;this.Ja&&(a=this.Ja.getDuration()||0);return a},setVolume:function(a){this.Ja&&this.Ja.setVolume(Math.round(100*a)/100)},getVolume:function(){var a=0;this.Ja&&(a=this.Ja.getVolume()||
0);return a},muted:function(){var a=!1;this.Ja&&(a=this.Ja.isMuted()||!this.getVolume());return a},detach:function(){I.debug("detach");this._super();this.Oc=!1;this.eba.dispose();this.M.show()}}}());vdb.c.a.video.ia.YA.hh=function(c,d){return!!c&&!!c.Of&&d.oA===vdb.o.Mr.br&&!d.bv};vdb.c.a.video.ia.YA.$j=!0;vdb.c.a.x_=vdb.L.Class.extend(function(){var c=vdb.b;return{k:function(d,b){this.a=d;this.Ld=b.Ld;this.vz=c.createElement("div",{id:"vdb-player-overlay-container-"+this.Ld,"class":"vdb-player-overlay-container",style:{position:"absolute",width:"100%",height:"100%",left:"0",top:"0",zIndex:"2",pointerEvents:"none"}},this.a.G)}}}());vdb.c.a.M2=vdb.L.Class.extend(function(){var c=window.oath.ads.sdk.AdEvent,d=vdb.g.B;return{k:function(b,a,f){this.f4=b;this.yw=0;var g=this;vdb.j.U.bind(a,c.STARTED,function(){g.yw+=1});vdb.j.U.bind(f,d.Wd,function(){g.yw=0})},sR:function(){return this.yw<this.f4}}}());vdb.c.a.r0=vdb.L.Class.extend(function(){var c=vdb.b,d=vdb.o.ha,b=vdb.log.Q("PseudoFullscreenController"),a=vdb.g.B;return{k:function(a){this.i=a.getContext();this.X=this.i.Ga.$b();this.qp=this.i.Ga.Ug;this.a=a.ua();this.kd=!1;this.i.Ub().La(d.rj);vdb.F.OP(".vdb-fullscreen{width:100%!important;height:100%!important;padding:0!important;max-width:none!important;max-height:none!important;position:fixed;top:0;left:0;background-color:black;z-index:999999;-webkit-overflow-scrolling:touch}.vdb-fullscreen-wrapper{width:100%!important;height:100%!important;padding-bottom:0!important;position:fixed!important;top:0!important;left:0!important}",
this.X)},Yf:function(d){d!==this.kd&&("undefined"===typeof d&&(d=!this.kd),d?(b.debug("enterFullscreen"),c.C([this.X],"vdb-fullscreen"),c.C([this.qp],"vdb-fullscreen-wrapper"),this.a.dispatchEvent(a.Cc,{userInitiated:!0}),this.kd=!0):(b.debug("exitFullscreen"),c.N([this.X],"vdb-fullscreen"),c.N([this.qp],"vdb-fullscreen-wrapper"),this.a.dispatchEvent(a.Lc,{userInitiated:!0}),this.kd=!1))}}}());vdb.c.a.V2=vdb.L.Class.extend(function(){function c(c){if(this.Ay){var b=c&&c.data&&c.data.volume,b=isNaN(b)?1:b,b=0===b%1?""+b:b.toFixed(2);c=c&&c.data&&c.data.muted;"undefined"===typeof c&&(c=!(0<b));vdb.sessionStorage.setItem("o2playervolume",b);vdb.sessionStorage.setItem("o2playermute",c)}}return{k:function(c,b,a){this.a=c;this.D=a;this.Ay=this.zH=!1;this.D.bk||this.D.Uf||b===vdb.o.a.PB.zk||b===vdb.o.a.PB.jK||this.D.pa(vdb.g.Xa.oX)||(this.Ay=this.zH=!0)},Lf:function(){this.zH&&(this.a.addEventListener(vdb.g.B.zh,
c.bind(this)),this.a.addEventListener(vdb.g.B.Dc,c.bind(this)),this.zH=!1)},getVolume:function(){if(this.Ay){var c=vdb.sessionStorage.getItem("o2playervolume");if(null!==c)return c=+c,0>c||1<c?void 0:c}},j9:function(){return this.Ay&&null!==vdb.sessionStorage.getItem("o2playermute")?"true"===vdb.sessionStorage.getItem("o2playermute"):void 0}}}());vdb.bb={};vdb.bb.Ya={};vdb.c.a.UW=vdb.L.Class.extend(function(){function c(){this.gE.resolve()}return{k:function(d,b){this.gE=new vdb.bc;if("skin5"===d)this.gE.resolve();else{var a=b.ye("player/js/17.21.1380/coverings/%s.js".replace("%s",d))+"?cb="+vdb.version();vdb.b.aq(document,a,c.bind(this))}},jQ:function(){return this.gE.qb()}}}());vdb.c.a.tV=vdb.xb.extend(function(){function c(){if(this.gR){d.call(this);var a=this.$T&&!this.XG&&this.f5;this.XG||this.a.S$()||a?k.C(this.a.G,"small-ad-info-bar"):this.G.clientWidth>=this.XU?k.C(this.a.G,"expand-ad-info-bar"):k.C(this.a.G,"tiny-ad-info-bar")}}function d(){k.N(this.a.G,["small-ad-info-bar","expand-ad-info-bar","tiny-ad-info-bar"])}function b(){this.Rj&&this.Rj.Ma();this.gR=!1;d.call(this)}function a(){k.N(this.Kx,"in-progress");this.vw&&this.vw.parentNode===this.Lm&&this.Lm.removeChild(this.vw)}
function f(a){if(!this.l.Wt()){var b=a.data.timeRemaining;k.P(this.Kx,{width:a.data.progressPercent+"%"});0<b&&(this.Lx.innerHTML=h.kb(b),a=parseInt(b),this.UT.innerHTML="Video will play in "+(10>a?"0"+a:a))}}function g(a){if(a.data.type!==vdb.o.nd.fg){this.f5=a.data.parameters&&a.data.parameters.minibar;var b=this.D.bF().zla;b&&b.resolve(this.Lm.offsetHeight);b=this.l.aa();this.gR=!0;this.Rj=l.bind(this.D,m.Ad,c.bind(this));this.g5.innerHTML=this.mO.replace(this.FL,b&&b.title||"Your video");this.Lx.innerHTML=
"";k.P(this.Kx,{width:"0"});k.C(this.Kx,"in-progress");this.UT.innerHTML="";this.l.Wt()&&k.C(this.G,"branded-player");a.data.adIconsContainer&&(this.vw=a.data.adIconsContainer,this.kO.appendChild(this.vw));c.call(this)}}var h=vdb.f.W,k=vdb.b,l=vdb.j.U,m=vdb.g.B,n=!!k.za();return{k:function(c){this.l=c;this.D=c.getContext();this.a=c.ua();this.G=c.$b();this.XG=this.D.pa(vdb.g.Xa.iv);this.D.pa(vdb.g.Xa.Ofa);this.$T=!0;this.mO='"'+this.FL+'" will play after the ad';this.Lm=k.createElement("div",{"class":"ad-info-bar"});
this.kO=k.createElement("div",{"class":"ad-icons-layer-container"});this.k5=k.createElement("div",{"class":"ad-progress-bar"},this.Lm);this.Kx=k.createElement("div",{"class":"ad-progress"},this.k5);this.RH=k.createElement("div",{"class":"top-ad-container"});this.lO=k.createElement("div",{"class":"ad-info-container"},this.RH);this.g5=k.createElement("div",{"class":"ad-info-caption"},this.lO);this.Lx=k.createElement("div",{"class":"ad-time-remaining"},this.lO);this.UT=k.createElement("div",{"class":"tiny-ad-info-container"},
this.RH);this.a.G.appendChild(this.kO);this.a.G.appendChild(this.Lm);this.a.G.appendChild(this.RH);vdb.F.na(".ad-info-bar{position:absolute;bottom:100%;width:100%;-moz-transform:translateY(-37px);-webkit-transform:translateY(-37px);transform:translateY(-37px);-moz-transition:-moz-transform .5s;-webkit-transition:-webkit-transform .5s;transition:transform .5s;z-index:4}.top-ad-container{position:absolute;top:4px;width:100%;z-index:1}.ad-progress-bar{bottom:-4px;height:4px;background-color:rgba(34,34,34,0.15);position:relative;display:none}.expand-ad-info-bar .ad-progress-bar,.small-ad-info-bar .ad-progress-bar{display:block}.expand-ad-info-bar .ad-info-bar,.small-ad-info-bar .ad-info-bar,.tiny-ad-info-bar .ad-info-bar{-moz-transform:translateY(0);-webkit-transform:translateY(0);transform:translateY(0);-moz-transition:-moz-transform .5s;-webkit-transition:-webkit-transform .5s;transition:transform .5s;display:block}.ad-progress{position:absolute;top:0;left:0;height:100%;width:0;background-color:#customColor}.in-progress{-webkit-transition:width .3s linear;-moz-transition:width .3s linear;transition:width .3s linear}.ad-info-container{color:#d0d0d0;font:12px/13px Arial;background-color:rgba(34,34,34,0.85);padding:10px 15px;display:none;table-layout:fixed;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.expand-ad-info-bar .ad-info-container{display:table}.tiny-ad-info-container{color:#d0d0d0;padding:2px 6px 3px;font:11px Arial;background-color:rgba(34,34,34,0.6);width:auto;border-color:rgba(153,153,153,0.6);border-width:1px;border-style:solid;display:inline-block;position:absolute;right:0;opacity:0;pointer-events:none;-webkit-transition:opacity .5s;-moz-transition:opacity .5s;transition:opacity .5s}.tiny-ad-info-bar .tiny-ad-info-container{opacity:1;display:inline-block;pointer-events:auto}.ad-info-caption{display:table-cell;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ad-time-remaining{display:table-cell;text-align:right;width:40px}.ad-icons-layer-container{width:inherit;height:inherit;position:absolute;top:0;pointer-events:none}.ad-icons-layer-container .ad-icons-layer{pointer-events:auto}".replace(/#customColor/g,
this.a.Gd()));n&&k.C(this.Lm,"mobile");this.xc=this.xc||new vdb.j.ne(l.bind(this.a,m.lb,g.bind(this)),l.bind(this.a,m.md,f.bind(this)),l.bind(this.a,m.sc,a.bind(this)),l.bind(this.a,vdb.g.B.BA,b.bind(this)));this.Lx.innerHTML="&nbsp;"},dispose:function(){this.xc&&(this.xc.Ma(),this.xc=null);vdb.b.je(this.Lm)},XU:400,FL:"{videotitle}"}}());vdb.c.a.VB=vdb.L.Class.extend(function(){function c(){switch(this.zg){case "right":b.P(this.Wn,{left:this.xq.offsetLeft+this.xq.offsetWidth+8+3+"px"});d(this.Wn,this.xq,"horizontal");break;case "top":b.P(this.Wn,{top:"-"+this.xq.offsetHeight+"px"}),d(this.Wn,this.xq,"vertical")}}function d(a,c,d){switch(d){case "vertical":b.P(a,{left:c.offsetLeft+(c.offsetWidth-a.offsetWidth)/2+"px"});break;case "horizontal":b.P(a,{top:c.offsetTop+(c.offsetHeight-a.offsetHeight)/2+"px"})}}var b=vdb.b,a=vdb.o.ha;return{k:function(d,
g,h){var k=vdb.T.Ub().La(a.rj).tf();this.xq=d;this.zg=g;this.title=h;this.Wn=b.createElement("div",{style:{display:"block",height:"auto",position:"absolute",borderRadius:"3px",backgroundColor:"white",boxShadow:"0 0 4px 0 rgba(0,0,0,0.5)",padding:"3px",textOverflow:"ellipsis",zIndex:"2",maxWidth:"40%",visibility:"hidden"},"class":"tooltip"},this.xq.parentNode);this.Mea=b.createElement("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},this.Wn);d=this.Kea=b.createElement("span",
{style:{"font-family":"Aktiv, Arial","line-height":"16px","font-size":"11.5px",color:"#262626","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}},this.Mea,this.title);g=this.zg;h=b.createElement("div",{style:{position:"absolute",border:"4px solid",borderColor:"transparent transparent white white",transformOrigin:"0 0",boxShadow:"-3px 3px 3px 0 rgba(0, 0, 0, 0.4)"}});switch(g){case "right":b.P(h,
{top:"calc(50% - 5px)",left:"0",transform:"rotate(45deg)"});break;case "top":b.P(h,{top:"calc(100% - 2px)",left:"calc(50% - 5px)",transform:"rotate(-45deg)"})}d.appendChild(h);c.call(this);k.addEventListener("resize",c.bind(this))},show:function(){b.P(this.Wn,{visibility:"visible"});this.visible=!0},Z:function(){b.P(this.Wn,{visibility:"hidden"});this.visible=!1},Jd:function(){return this.visible}}}());vdb.c.a.wX={NONE:"none",yv:"content",uc:"preroll",Rb:"midroll"};vdb.c.a.l0=vdb.L.Class.extend({tea:function(){this.Gj||(this.Gj=(new Date).getTime())},KT:function(){if(this.Gj){var c=Date.now();this.Fx=(this.Fx?this.Fx:0)+c-this.Gj;this.Wr=(this.Wr?this.Wr:0)+c-this.Gj;this.Gj=0}},GG:function(){this.QN=0},yn:function(){this.QN++},Aba:function(){this.Wr=0},wba:function(c,d){this.Sk=c.duration?c.duration:0;var b=d&&d.metadata&&d.metadata.duration;b&&(this.Sk=Math.min(this.Sk,b))},pq:function(c){this.ig=Math.min(c||0,this.DF());this.F3=this.Sk?this.ig/this.Sk:0},
S9:function(c){c=c||Date.now();return((this.Fx?this.Fx:0)+(this.Gj?c-this.Gj:0))/1E3},z8:function(c){c=c||Date.now();return((this.Wr?this.Wr:0)+(this.Gj?c-this.Gj:0))/1E3},T9:function(){return this.QN||0},DF:function(){return this.Sk||0},Ea:function(){return this.ig||0},Rp:function(){return this.F3||0},L9:function(){var c=Date.now();return{currentTime:this.Ea(),currentPlayTime:this.z8(c),currentPercent:this.Rp(),videoLength:this.DF(),totalPlayTime:this.S9(),totalVideoCount:this.T9(c)}}});vdb.c.a.oj={};vdb.c.a.oj.iJ={zP:function(c){return{length:c.length,start:function(d){return d<this.length?c[d].start:void 0},end:function(d){return d<this.length?c[d].end:void 0}}}};vdb.c.a.oj.hJ={RJ:{"http://cdn.vidible.tv":"http://cdn.vidible.tv/prod/player/js/17.21.1380/xdomain360embed.html","https://cdn-ssl.vidible.tv":"https://cdn-ssl.vidible.tv/prod/player/js/17.21.1380/xdomain360embed.html","http://videos.vidible.tv":"http://cdn.vidible.tv/prod/player/js/17.21.1380/xdomain360embed.html".replace("http://cdn.vidible.tv","http://videos.vidible.tv"),"https://videos.vidible.tv":"https://cdn-ssl.vidible.tv/prod/player/js/17.21.1380/xdomain360embed.html".replace("https://cdn-ssl.vidible.tv",
"https://videos.vidible.tv"),"http://content.uplynk.com":"http://content.uplynk.com/_aol/xdomain360.html","https://content.uplynk.com":"https://content.uplynk.com/_aol/xdomain360.html",U_:"hls.adylevy.com/_aol/xdomain360.html",wZ:"{bcid}.cdn.aolon.com/prod/player/js/17.21.1380/xdomain360.html"}};vdb.c.a.oj.VV=vdb.xb.extend(function(){function c(a){Object.defineProperty(a,"currentTime",{get:function(){return this.$d.currentTime},set:function(a){this.I4(a)}});Object.defineProperty(a,"duration",{get:function(){return this.$d.duration}});Object.defineProperty(a,"readyState",{get:function(){return this.$d.readyState}});Object.defineProperty(a,"buffered",{get:function(){return this.$d.buffered}});Object.defineProperty(a,"paused",{get:function(){return this.$d.paused}});Object.defineProperty(a,
"ended",{get:function(){return this.$d.ended}});Object.defineProperty(a,"src",{get:function(){return this.se}});Object.defineProperty(a,"muted",{set:function(a){this.HN(a)},get:function(){return this.e4()}});Object.defineProperty(a,"volume",{set:function(a){this.L4(a)},get:function(){return this.L3()}});Object.defineProperty(a,"playbackRate",{get:function(){return this.$d.playbackRate}});Object.defineProperty(a,"videoWidth",{get:function(){return this.$d.videoWidth}});Object.defineProperty(a,"videoHeight",
{get:function(){return this.$d.videoHeight}});Object.defineProperty(a,"orientation",{set:function(a){this.J4(a)},get:function(){return this.$d.orientation}})}function d(){this.volume=1;this.muted=!1;this.duration=this.currentTime=0;this.paused=!0;this.ended=!1;this.waiting=!0;this.readyState=HTMLMediaElement.HAVE_NOTHING;this.buffered=a.zP({length:0})}var b=vdb.log.Q("BaseVideo360Adapter"),a=vdb.c.a.oj.iJ;return{k:function(){this._super();this.$d=new d;this.U3=document.createElement("canvas").getContext("2d").createImageData(1,
1);this.Gm=vdb.Promise.reject(Error("not attached yet"));c(this)},Ic:function(a){if(!this.X)throw Error("BaseVideo360Adapter: Unable to set video url before adding to DOM");this.se=a.url},getImageData:function(){return this.U3},MD:function(a){b.debug("append to container");this.X=a}}}());vdb.c.a.oj.WW=vdb.c.a.oj.VV.extend(function(){function c(a,b){this.Wg(a,b&&b.data)}function d(){var a=this,b={};(function(){b.ready=function(){a.Ih.resolve()};b.disableemulatedaudio=function(){a.cc&&(a.cc.pause(),delete a.cc)}})();(function(){function c(b){return function(){a.dispatchEvent(b)}}for(var d="loadstart loadedmetadata progress play pause timeupdate seeking seeked volumechange ended abort".split(" "),f=0,h=d.length;f<h;++f)b[d[f]]=c(d[f]);b.waiting=function(){a.cc&&!a.cc.paused&&a.cc.pause();
a.dispatchEvent("waiting")};b.playing=function(){a.dispatchEvent("playing");a.cc&&a.cc.paused&&!a.Bw&&(l.debug("resume audio"),a.cc.currentTime=a.$d.currentTime,a.cc.play())};b.error=function(b){l.error("iframe error: "+b.error);a.dispatchEvent("error")}})();(function(){function c(a){return function(){var b=document.createEvent("Events"),c=a.Xp();c&&(b.initEvent(a.event,!0,!0),c.dispatchEvent(b))}}function d(){return a.X&&a.X.ownerDocument}function f(){return a.X}for(var h=[{event:"mouseup",Xp:d},
{event:"mousemove",Xp:f},{event:"mouseover",Xp:f},{event:"mouseout",Xp:d},{event:"touchstart",Xp:f},{event:"touchend",Xp:d}],k=0,g=h.length;k<g;++k)b[h[k].event]=c(h[k])})();(function(){var c=a.eO.jg,d;b[vdb.vr.Events.MOVED]=function(b){a.$d.orientation=b&&b.data};for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b[d]=function(b){a.eO.nba(b)})})();return b}function b(a){this.Wg("keydown",{data:{keyCode:a.keyCode}})}function a(){this.Wg("orientationchange",{data:window.orientation})}function f(a){a=
{accelerationIncludingGravity:vdb.b.wc(a.accelerationIncludingGravity),rotationRate:vdb.b.wc(a.rotationRate),timeStamp:a.timeStamp};this.Wg("devicemotion",{data:a})}function g(){var a=vdb.f.Ua.hk(this.Lk);this.Ww=a.protocol+"//"+a.hostname}function h(){t=this.X.ownerDocument.createElement("iframe");t.setAttribute("allowtransparency","true");t.setAttribute("allow","autoplay");s.P(t,{position:"absolute",width:"100%",height:"100%",top:0,left:0,border:0,margin:0,zIndex:1,backgroundColor:"transparent"});
t.onload=function(){try{m.bind(t.contentWindow.parent,"message",k.bind(this)).link(this.la),t.contentWindow.postMessage({event:"ready"},this.Ww)}catch(a){l.error("Unable to receive messages",a)}}.bind(this);t.onerror=function(a){l.error("iframe error",a);this.Ih.reject(a)};t.src=this.Lk;this.X.appendChild(t)}function k(a){a.origin===this.Ww?(a.preventDefault(),this.N3(a)):l.debug("Ignore message from "+a.origin)}var l=vdb.log.Q("CrossDomainVideo360Adapter"),m=vdb.j.U,n=vdb.c.a.oj.iJ,p=vdb.c.a.oj.hJ.RJ,
s=vdb.b,q=s.Da,r=q.Xe(),t;return{k:function(a){l.debug("init");this._super();this.la=m.empty();this.eO=new vdb.c.a.cC(null,this.la,c.bind(this));this.P3=d.call(this);this.Bw=r&&(vdb.T.jj===vdb.o.a.ui.ef||a)},I4:function(a){l.debug("currentTime="+a);this.cc&&(this.cc.paused||(l.debug("pause audio"),this.cc.pause()),this.cc.currentTime=a);this.Wg("seek",{time:a})},Ic:function(a,b){this._super(a);var c=a.url,d=vdb.f.Ua.hk(c),f=d.protocol+"//"+d.hostname;r&&(this.cc=b,this.cc.src=c,this.cc.load());this.Lk=
p[f];!this.Lk&&(f=d.hostname.match(new RegExp("(.*)."+"cdn.aolon.com".replace(/\./g,"\\."))))&&(this.Lk=d.protocol+"//"+p.wZ.replace("{bcid}",f[1]));this.Lk?g.call(this):(this.Lk=d.protocol+"//"+p.U_,g.call(this),c=this.Ww+"/serve?url="+encodeURIComponent(c));this.Lk+="?e=prod&v="+vdb.version()+"&log="+(0===vdb.log.eg.lF())+"&seek="+(q.Xe()&&10>+(s.xg()||s.Zi()))+"&ios="+q.Xe()+"&ie="+s.Hd;this.Ih=new vdb.bc;this.Gm=this.Ih.qb();h.call(this);this.y3();d=vdb.T.Ga.a;this.Wg("init",{url:c,projectionType:a.Bu,
tilt:a.Vu,centeredFishEye:vdb.T.pa(vdb.g.Xa.PA),fishEyeAngle:vdb.T.pa(vdb.g.Xa.dB),windowOrientation:window.orientation,customColor:d&&d.Gd()});this.dispatchEvent("volumechange");return this.Gm},J4:function(a){this.Wg("orientation",{value:a})},HN:function(a){this.cc?this.Bw!==a&&((this.Bw=a)?this.cc.pause():this.$d.waiting||this.$d.paused||(this.cc.currentTime=this.$d.currentTime,this.cc.play()),this.dispatchEvent("volumechange")):this.Wg("muted",{value:a})},Z:function(){t.style.visibility="hidden";
t.style.display="none"},show:function(){t.style.visibility="";t.style.display="block"},e4:function(){return this.cc?this.Bw:this.$d.muted},L4:function(a){this.cc?(this.cc.volume=a,this.HN(!a)):this.Wg("volume",{value:a})},L3:function(){return this.cc?this.cc.volume:this.$d.volume},load:function(){this.Gm.then(function(){this.Wg("load")}.bind(this));this.cc&&this.cc.load()},play:function(){l.debug("play");this.Wg("play")},pause:function(){l.debug("pause");this.Wg("pause");this.cc&&this.cc.pause()},
je:function(){this.Gm&&(this.Gm.then(function(){s.je(t)}),this.Gm=vdb.Promise.reject(Error("detached")),this.la.Ma())},H4:function(a){this.Gm.then(function(){t.contentWindow.postMessage(a,this.Ww)}.bind(this)).catch(function(b){l.error("Unable to send message",a,b)})},Wg:function(a,b){var c=b||{};c.type=a;this.H4(c)},y3:function(){m.bind(window,"devicemotion",f.bind(this)).link(this.la);m.bind(window,"orientationchange",a.bind(this)).link(this.la);m.bind(document,"keydown",b.bind(this)).link(this.la)},
N3:function(a){a=a.data;var b=this.P3[a.type];a.videoData&&this.O3(a.videoData);b&&b.call(this,a)},O3:function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=this.H3[b];this.$d[b]=c?c(a[b]):a[b]}},H3:{buffered:n.zP.bind(n)}}}());vdb.c.a.video.ia.qi=vdb.c.a.video.ia.wo.extend(function(){function c(a){s.debug("error",a);this.M.gj(a)}function d(){this.M.dispatchEvent(vdb.j.Ba.eb,{currentTime:this.Qa.currentTime,complete:!0})}function b(){this.M.dispatchEvent(vdb.j.Ba.Dc,{muted:this.Qa.muted,volume:this.Qa.volume})}function a(){(this.Ec=!this.Qa.ended)&&this.M.dispatchEvent(vdb.j.Ba.yb)}function f(){this.Oc||(this.Oc=!0,this.Ec=!1,this.M.dispatchEvent(vdb.j.Ba.Lo,{duration:this.getDuration()}));this.Ec?(this.Ec=!1,this.M.dispatchEvent(vdb.j.Ba.zi,
{duration:this.getDuration()})):this.M.dispatchEvent(vdb.j.Ba.Ra,{duration:this.getDuration()})}function g(){this.M.dispatchEvent(vdb.j.Ba.om,{FU:this.Qa.readyState,buffered:this.Qa.buffered,duration:this.Qa.duration})}function h(){this.M.dispatchEvent(vdb.j.Ba.jf)}function k(){this.M.dispatchEvent(vdb.j.Ba.Ai,{currentTime:this.Qa.currentTime})}function l(){this.M.dispatchEvent(vdb.j.Ba.zb,{currentTime:this.Qa.currentTime,buffered:this.Qa.buffered,duration:this.Qa.duration,Ph:this.Qa.duration})}function m(){this.M.dispatchEvent(vdb.j.Ba.kf)}
function n(){this.M.dispatchEvent(vdb.j.Ba.Jr,{Ph:this.Qa.duration,duration:this.Qa.duration,playbackRate:this.Qa.playbackRate,width:this.Qa.videoWidth,height:this.Qa.videoHeight})}function p(){this.M.dispatchEvent(vdb.j.Ba.kw)}var s=vdb.log.Q("CrossDomainModule360"),q=vdb.c.o.zj,r=vdb.j.U;return{k:function(a,b){this._super(a,b);this.Qe=q.tW;this.Qa=new vdb.c.a.oj.WW(b.muted())},Pi:function(){var q=d.bind(this);r.bind(this.Qa,"loadstart",p.bind(this)).link(this.la);r.bind(this.Qa,"loadedmetadata",
n.bind(this)).link(this.la);r.bind(this.Qa,"waiting",m.bind(this)).link(this.la);r.bind(this.Qa,"timeupdate",l.bind(this)).link(this.la);r.bind(this.Qa,"seeking",k.bind(this)).link(this.la);r.bind(this.Qa,"seeked",h.bind(this)).link(this.la);r.bind(this.Qa,"progress",g.bind(this)).link(this.la);r.bind(this.Qa,"playing",f.bind(this)).link(this.la);r.bind(this.Qa,"pause",a.bind(this)).link(this.la);r.bind(this.Qa,"volumechange",b.bind(this)).link(this.la);r.bind(this.Qa,"ended",q).link(this.la);r.bind(this.Qa,
"abort",q).link(this.la);r.bind(this.Qa,"error",c.bind(this)).link(this.la);this._super()},Ic:function(a){var b=(vdb.c.a.video.ia.qi.$S(a)[0]||"").replace("http://content.uplynk.com","https://content.uplynk.com");this.Qa.MD(this.M.R.parentNode);this.M.Z(!0);this.Pi();return this.Qa.Ic({url:b,Bu:a.Of.Bu,Vu:a.Of.Vu},vdb.c.a.video.ia.qi.RN)},play:function(){this.Qa.play()},pause:function(){this.Qa.pause()},mute:function(a){this.Qa.muted=a},seek:function(a){this.Qa.currentTime=a},isPlaying:function(){return!this.Qa.paused&&
!this.Qa.ended},Ea:function(){return this.Qa.currentTime},getDuration:function(){return this.Qa.duration},setVolume:function(a){this.Qa.volume=a},getVolume:function(){return this.Qa.volume},muted:function(){return this.Qa.muted},ug:function(){return this.Qa.orientation},detach:function(){s.debug("detach");this._super();this.Oc=!1;this.Qa.je();this.M.show(!0)},Sf:function(){return this.Oc},Z:function(){this.Qa.Z()},show:function(){this.Qa.show()}}}());
vdb.c.a.video.ia.qi.$S=function(){function c(b){b=vdb.f.Ua.hk(b);return Object.prototype.hasOwnProperty.call(d,b.protocol+"//"+b.hostname)}var d=vdb.c.a.oj.hJ.RJ;return function(b){b=b.videoUrls;var a;if(!vdb.b.Hd||10>=vdb.b.Da.version)a=b.filter(c),0<a.length&&(b=a);return b}}();
vdb.c.a.video.ia.qi.hh=function(c,d){return!!c&&!!c.Of&&d.oA!==vdb.o.Mr.br&&!d.bv&&(vdb.b.Da.Xe()||vdb.b.Da.safari||vdb.b.Hd&&10<vdb.b.Da.version)&&0<vdb.c.a.video.ia.qi.$S(c).length&&!(vdb.b.Hd&&vdb.c.a.video.ia.wo.hh(c,d))};vdb.c.a.video.ia.qi.$j=!0;vdb.c.a.video.ia.qi.RN=document.createElement("audio");vdb.c.a.video.ia.qi.yd=function(){this.RN.load()};vdb.c.a.video.qw=vdb.L.Class.extend(function(){function c(a){this.xs=null;for(var b=0;b<this.pe.length;b++){var c=this.pe[b];a&&c.constructor.Haa||(c.ib.detach(),this.pe[b]=null)}this.pe=vdb.b.FS(this.pe,null)}function d(a){this.M.cda();a=a?a.code:MediaError.MEDIA_ERR_DECODE;c.call(this);this.gj({data:{code:a}})}function b(){c.call(this);this.complete({type:"ended"})}function a(a){for(var c=[],f=0;f<this.dm.length;f++){var h=this.dm[f];-1===this.pe.indexOf(h)&&h.constructor.hh(a,this.i)&&(h.ib||(h.ib=
new h.constructor(this.i,this.M),h.ib.addEventListener(vdb.c.a.video.ia.Ne.Jo,d.bind(this)),h.ib.addEventListener(vdb.c.a.video.ia.Ne.mm,this.M.qba.bind(this)),h.ib.addEventListener(vdb.c.a.video.ia.Ne.DJ,b.bind(this)),this.Zb.action("LoadModule",null,null,null,null,{c1:h.ib.Qe})),c.push(h.ib.load()),this.pe.push(h))}return vdb.Promise.all(c)}function f(){for(var a=0;a<this.dm.length;a++){var b=this.dm[a];b.constructor.yd&&b.constructor.yd()}}function g(a){return a.constructor.$j}function h(a){for(var b=
0;b<this.dm.length;b++){var c=this.dm[b];if(c.constructor.$j&&c.constructor.hh(a,this.i))return!0}return vdb.f.W.isSupported(vdb.b.LR(a&&a.$f||""))}function k(a){return this.pe&&0<this.pe.filter(function(b){return b.constructor===a}).length}function l(a){function b(a){return!vdb.b.cz(a)}var c;!vdb.b.za()&&!vdb.b.Hd||a.metadata.live||(c=a.videoUrls.filter(b),0<c.length&&(a.videoUrls=c))}function m(a){this.M.Jz(a,null,!0)}function n(a){this.jD=!0;this.Ic(a);this.play()}function p(b,d){var f=b&&b.Of;
if(b){b=vdb.c.a.video.ZB.pP(b);var m;a:{if(this.ZM){if(b&&b.videoUrls&&0<b.videoUrls.length){m=!0;break a}this.M.Jz(MediaError.MEDIA_ERR_NETWORK)}m=!1}if(this.$t(b)&&!m)return vdb.Promise.resolve();this.M.pause();f&&l.call(this,b);vdb.c.a.video.Z0(b,h.bind(this))}this.xs=null;this.ZM=!1;this.jD?(this.M.xH(null),c.call(this),this.M.Vs(!0)):(this.Sf()&&c.call(this),this.M.Vs());return(f?vdb.c.a.ow.pb().load().then(function(){return a.call(this,b)}.bind(this)):a.call(this,b)).then(function(){for(var a=
[],c=0;c<this.pe.length;++c)a.push(this.pe[c].ib.Ic(b));0===this.pe.filter(g).length?(a=k.call(this,vdb.c.a.video.ia.wo)||k.call(this,vdb.c.a.video.ia.qi),this.M.Ic(b,a?!0:d)):(this.M.xH(b),this.M.dT(d),this.xs=vdb.Promise.all(a));this.jD=!1}.bind(this))}var s=vdb.log.Q("VideoAreaWrapper");return{k:function(a,b,c){s.debug("init");this.i=a;this.M=new vdb.c.a.video.N2(b);a=[vdb.c.a.video.ia.em,vdb.c.a.video.ia.Bh,vdb.c.a.video.ia.WA,vdb.c.a.video.ia.wo,vdb.c.a.video.ia.qi,vdb.c.a.video.ia.ZA,vdb.c.a.video.ia.YA,
vdb.c.a.video.ia.sw,vdb.c.a.video.ia.NL];this.dm=[];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&this.dm.push({constructor:a[d],ib:null});this.pe=[];this.ym=this.xs=null;this.Zb=this.i.gd();c&&(this.aO=new vdb.c.a.video.bi.Gk(this.M,this.i),this.aO.addEventListener(vdb.c.a.video.bi.Gk.BJ,m.bind(this)),this.aO.addEventListener(vdb.c.a.video.bi.Gk.FB,n.bind(this)))},addEventListener:function(a,b){this.M.addEventListener(a,b)},removeEventListener:function(a,b){this.M.removeEventListener(a,
b)},dispatchEvent:function(a,b){this.M.dispatchEvent(a,b)},oh:function(){this.M.oh()},Sa:function(){this.M.Sa()},Bg:function(a){this.M.Bg(a)},reset:function(){c.call(this,!0);this.M.reset()},Na:function(){return this.M.Na()},fn:function(){return this.M.fn()},Tp:function(){return this.M.Tp()},Mt:function(){return this.M.Mt()},Lt:function(){return this.M.Lt()},Fy:function(){return this.M.Fy()},Ct:function(){return this.M.Ct()},Rp:function(){return this.M.Rp()},webkitEnterFullscreen:function(){this.M.webkitEnterFullscreen()},
webkitExitFullscreen:function(){this.M.webkitExitFullscreen()},ck:function(){return this.M.ck()},GE:function(a){this.M.GE(a)},DG:function(){this.M.DG()},EG:function(){this.M.EG()},AG:function(){this.M.AG()},Bq:function(a){this.M.Bq(a)},Ic:function(a,b){s.debug("set video",a);this.ym=p.call(this,a,b)},BG:function(a,b){this.Sf()&&(b||c.call(this),this.M.BG(a))},complete:function(a){this.jD||this.M.complete(a)},stop:function(){this.M.stop()},play:function(){this.ym?(this.Sf()||f.call(this),this.ym.then(function(){var a=
function(){var a=this.Jf();a&&a.ib.play?(this.M.ND(),a.ib.play()):this.M.play()}.bind(this);0===this.pe.filter(g).length?a():this.xs.then(a)}.bind(this))):this.M.ND()},pause:function(){this.ym&&this.ym.then(function(){var a=this.Jf();a&&a.ib.pause&&a.ib.pause();0===this.pe.filter(g).length?this.M.pause():this.xs.then(this.M.pause.bind(this.M))}.bind(this))},seek:function(a){if(this.ym){var b=this.Jf();b&&b.ib.seek?b.ib.seek(a):this.M.seek(a)}},Vh:function(){return this.M.Vh()},isPlaying:function(){if(!this.ym)return this.M.isPlaying();
var a=this.Jf();return a&&a.ib.isPlaying?a.ib.isPlaying():this.M.isPlaying()},Ea:function(){var a=this.Jf();return a&&a.ib.Ea?a.ib.Ea():this.M.Ea()},getDuration:function(){var a=this.Jf();return a&&a.ib.getDuration?a.ib.getDuration():this.M.getDuration()},Dy:function(){return this.M.Dy()},ze:function(){return this.getDuration()-this.Dy()},setVolume:function(a){var b=this.Jf();return b&&b.ib.setVolume?b.ib.setVolume(a):this.M.setVolume(a)},getVolume:function(){var a=this.Jf();return a&&a.ib.getVolume?
a.ib.getVolume():this.M.getVolume()},mute:function(a){var b=this.Jf();return b&&b.ib.mute?b.ib.mute(a):this.M.mute(a)},muted:function(){var a=this.Jf();return a&&a.ib.muted?a.ib.muted():this.M.muted()},Z:function(){var a=this.Jf();a&&a.ib.Z&&a.ib.Z();return this.M.Z()},show:function(){var a=this.Jf();a&&a.ib.show&&a.ib.show();return this.M.show()},Sf:function(){var a=this.Jf();return a&&a.ib.Sf?a.ib.Sf():this.M.Sf()},$t:function(a){return this.M.$t(a)},ug:function(){var a=this.Jf();return a&&a.ib.ug?
a.ib.ug():this.M.ug()},yd:function(){this.M.yd();f.call(this)},Jf:function(){return this.pe&&this.pe[this.pe.length-1]||null},Qaa:a,gj:function(a){var b;b=this.M.Be();if(!this.M.vD&&!this.Sf()&&b&&b.$f&&1<b.videoUrls.length){var c=b.videoUrls;c.splice(c.indexOf(b.$f),1);this.ZM=!0;this.Ic(b,!1);this.play();b=!0}else b=!1;b||this.M.gj(a)}}}());vdb.c.a.Jc=function(){var c=vdb.j.Ba,d=vdb.L.Class.extend(function(){function a(){this.Wb.Z();this.re.Z();this.sd.Z()}function b(){var a=this;return{addEventListener:function(){a.m5.apply(a,arguments)},removeEventListener:function(){a.Pca.apply(a,arguments)}}}function d(){var a=this;return{addEventListener:function(){a.Sc.apply(a,arguments)},removeEventListener:function(){a.ES.apply(a,arguments)}}}function h(a){q.debug("attach internal listener for "+a);var b=this;this.Wb.addEventListener(a,function(){l(b.Ro,
a,arguments)});this.sd.addEventListener(a,function(){l(b.sm,a,arguments)});this.re.addEventListener(a,function(){l(b.sm,a,arguments)})}function k(a,b){q.debug("set video: ",b);this.Mb=a;a.show();b&&("string"===typeof b?b=new vdb.u.pm({videoUrls:[b],title:"Video"}):null!=b.length&&(b=new vdb.u.pm({videoUrls:b,title:"Video"})));a.Ic(b)}function l(a,b,c){if(a=a[b])for(a=vdb.b.by(a),b=0;b<a.length;b++)a[b].apply({},c)}function m(a,b,c){var d=a[b];d||(d=[],a[b]=d);d.push(c)}function n(a,b,c){if(a=a[b])for(b=
0;b<a.length;b++)if(a[b]===c){a.splice(b,1);break}}function p(b){q.debug("set midroll:",b);this.Zd=r.Rb;this.ak()||(this.Wb.pause(),a.call(this),k.call(this,this.re,b));return!1}function s(b){var c=this.sd;q.debug("set preroll:",b);this.ak()?c=this.Wb:this.Wb.pause();a.call(this);vdb.c.a.Yp?this.sd.oh():(this.sd.Sa(),this.sd.Bg(vdb.b.xg()));this.Zd=r.uc;k.call(this,c,b);return!1}var q=vdb.log.Q("Display"),r=vdb.c.a.wX;return{k:function(a){q.debug("created");this.i=a;this.Zd=r.NONE;this.LN=!1;this.Ro=
{};this.ZL=d.call(this);this.sm={};this.l3=b.call(this);this.sx=new vdb.f.QK;a=vdb.c.a.video.ZB.P6(this.i);this.sd=new vdb.c.a.video.qw(this.i,a);this.Wb=new vdb.c.a.video.qw(this.i,a,!0);this.re=new vdb.c.a.video.qw(this.i,a);this.Mb=this.Wb;vdb.b.xg()||(this.sd.oh(),this.re.oh());this.Wb.Qaa();for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&h.call(this,c[k])},Kda:function(a){this.Mb.Bg(a)},Sa:function(){this.Mb.Sa()},oh:function(){this.Mb.oh()},play:function(){q.debug("play "+this.Zd);
this.Mb.play()},isPlaying:function(){return this.Mb.isPlaying()},Vh:function(){return this.Mb.Vh()},Sf:function(){return this.Mb.Sf()},setVolume:function(a){q.debug("set volume:",a);this.sd.setVolume(a);this.Wb.setVolume(a);this.re.setVolume(a)},getVolume:function(){return this.Mb.getVolume()},mute:function(a){q.debug(a?"mute":"unmute");this.sd.mute(a);this.Wb.mute(a);this.re.mute(a)},getDuration:function(){return this.Mb.getDuration()},ze:function(){return this.Mb.ze()},Vja:function(){return this.getDuration()-
this.Ea()},Ea:function(){return this.Mb.Ea()},mF:function(){return this.Wb.Ea()},Rp:function(){return this.Mb.Rp()},Ct:function(){return this.Mb.Ct()},isMuted:function(){return this.Mb.muted()},seek:function(a){q.debug("seek "+this.Zd);this.Mb.seek(a)},show:function(){q.debug("show "+this.Zd);this.Z();this.Mb.show()},Z:function(){q.debug("hide");a.call(this)},stop:function(){q.debug("stop "+this.Zd);this.Mb.stop()},reset:function(){q.debug("reset");this.sd.reset();this.Wb.reset();this.re.reset();
this.kT(!1)},pause:function(){q.debug("pause "+this.Zd);this.Mb.pause()},fn:function(){return this.Mb.fn()},Tp:function(){return this.Mb.Tp()},addEventListener:function(a,b){m(this.sm,a,b);m(this.Ro,a,b)},removeEventListener:function(a,b){n(this.sm,a,b);n(this.Ro,a,b)},jja:function(){return this.ZL},Via:function(){return this.l3},bda:function(){this.isPlaying()&&this.pause();this.Zd=r.NONE;this.sx.next()},Kia:function(){this.sx.empty()},Uda:function(a){return this.sx.add(s.bind(this,a))},Pda:function(a){return this.sx.add(p.bind(this,
a))},Lt:function(){return this.Mb?this.Mb.Lt():0},Mt:function(){return this.Mb?this.Mb.Mt():0},kT:function(a){q.debug("set ssai:",a);this.LN=a},Bq:function(a){this.Wb.Bq(a)},jd:function(){return this.dz()||this.saa()},dz:function(){return this.Zd===r.uc},saa:function(){return this.Zd===r.Rb},ak:function(){return this.LN},m5:function(a,b){q.debug("attach ad listener for "+a);m(this.sm,a,b)},Pca:function(a,b){q.debug("detach ad listener for "+a);n(this.sm,a,b)},Qca:function(){this.sm={}},Ida:function(b){q.debug("set content:",
b);this.sd.pause();this.re.pause();a.call(this);var c=!(this.ak()&&(this.jd()||this.Sf()));this.Zd=r.yv;c?k.call(this,this.Wb,b):this.V4||(this.Wb.DG(),this.Wb.EG(),this.Wb.AG());this.V4=!0},az:function(){return this.Zd===r.yv},g$:function(){return this.Zd!==r.NONE},Sc:function(a,b){q.debug("attach content listener for "+a);m(this.Ro,a,b)},ES:function(a,b){q.debug("detach content listener for "+a);n(this.Ro,a,b)},Tca:function(){this.Ro={}},webkitEnterFullscreen:function(){this.Mb.webkitEnterFullscreen()},
webkitExitFullscreen:function(){this.Mb.webkitExitFullscreen()},ck:function(){return this.Mb.ck()},zja:function(){return this.Wb},Pja:function(){return this.sd},Bja:function(){return this.re},Na:function(){return this.Wb.Na()},vQ:function(){return this.sd.Na()},h9:function(){return this.re.Na()},O5:function(){this.Wb.isPlaying()&&this.Wb.pause();a.call(this);this.Mb=this.sd;this.show();this.Zd=r.uc;return this.Mb},N5:function(){this.Wb.pause();a.call(this);this.Mb=this.re;this.show();this.Zd=r.Rb;
return this.Mb},mda:function(){this.sd.pause();this.sd.Z();this.re.pause();this.re.Z();this.Mb=this.Wb;this.Wb.Sa();this.Wb.show();this.Zd=r.yv;this.play()},Uka:function(){this.Zd!==r.yv&&(this.Zd=r.NONE)},ug:function(){return this.Mb.ug()},yd:function(){this.sd.yd();this.Wb.yd();this.re.yd()},MD:function(a){this.X=a;this.X.appendChild(this.sd.Na());this.X.appendChild(this.Wb.Na());this.X.appendChild(this.re.Na())},detach:function(){this.Tca();this.Qca();this.X.removeChild(this.sd.Na());this.X.removeChild(this.Wb.Na());
this.X.removeChild(this.re.Na())},d8:function(){return this.sd.Fy()||this.re.Fy()}}}()),b;return{pb:function(a){b||(a=a||window.vdb.getContext(window.vdb.T.id),b=new d(a),a.Ub().ai(vdb.o.ha.Yq,b));return b}}}();vdb.Za.IY=vdb.Za.wj.extend(function(){function c(){k.debug("bindLiveEvents");this.K.addEventListener(l.Ra,b.bind(this));this.K.addEventListener(l.yb,a.bind(this));this.K.addEventListener(l.cm,f.bind(this));this.K.addEventListener(l.cm,d.bind(this))}function d(){k.debug("unbindLiveEvents");this.K.removeEventListener(l.Ra,b.bind(this));this.K.removeEventListener(l.yb,a.bind(this));this.K.removeEventListener(l.cm,f.bind(this));this.K.removeEventListener(l.cm,d.bind(this))}function b(){this.Zb.resume()}
function a(){this.Zb.pause()}function f(){this.Zb.stop();this.Zb.XO()}function g(){this.Zb.yaa()||(this.Zb.WS(h.bind(this),2E4,!0,!0),this.mC.reset())}function h(){var a={};this.Os(a,!0);this.zU(a);this.Kq(a);this.Tz(a);this.Uz(a);this.gv(a);this.Nb("heartbeat.gif",a)}var k=vdb.log.Q("HeartBeatTracker"),l=vdb.g.B;return{k:function(a,b){k.debug("init");this._super(b);this.da=a;this.i=b;this.K=a.ua();this.np=b.mc.F1;this.Zb=new vdb.f.zL;k.debug("bindEvents");this.K.addEventListener(l.vo,g.bind(this));
this.K.addEventListener(l.vo,c.bind(this))}}}());vdb.c.ca.Hr=vdb.xb.extend(function(){function c(){this.a.addEventListener(x.Kg,h.bind(this));this.a.addEventListener(x.Db,u.bind(this));this.a.addEventListener(x.lb,a.bind(this));this.a.addEventListener(x.zb,g.bind(this));this.addEventListener(L.tj,f.bind(this));this.a.addEventListener(vdb.g.B.Ko,function(){var a=this.l.$g();if(a){var c=window.oath.ads.sdk.AdBreakEvent;a.addEventListener(c.STARTED,b.bind(this));a.addEventListener(c.FINISHED,d.bind(this))}}.bind(this))}function d(){this.isEnabled&&
this.view.show()}function b(){this.isEnabled&&this.view.Z()}function a(){this.l.Wt()&&u.call(this)}function f(a){this.view.Wda(-1!==V.K0.indexOf(a&&a.tl))}function g(){for(var a=this.display.Na(),a=a&&a.textTracks||[],b,c=0;c<a.length;c++){"hidden"!==a[c].mode&&(a[c].mode="hidden");var d;a:{d=a[c];if(d.cues&&d.cues.length)for(var f=0;f<d.cues.length;f++)if(d.cues[f].text&&1<d.cues[f].text.length){d=!0;break a}d=!1}if(d){b=a[c];break}}b&&(!this.cues||this.cues.length<=b.cues.length)&&(this.oD=b,b=
this.oD.language||"en",a=this.ca&&this.ca[b],a&&a.formats&&a.formats[W.Zq]===W.Zq||(this.ca=this.ca||{},this.ca[b]||(this.ca[b]={displayText:"Embedded",formats:{embedded:W.Zq}},this.Fp=this.Fp||{},this.Jia=!0,k.call(this),u.call(this))))}function h(){var a=this.l.aa(),a=a&&a.ca&&vdb.b.wc(a.ca)||{},b;for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b]&&a[b].formats||{},c=vdb.b.wc(c),d;for(d in c)(0===d.length||Object.prototype.hasOwnProperty.call(c,d)&&0===c[d].length)&&delete c[d];
0===z.pF(c)?delete a[b]:a[b].formats=c}this.BC=a;this.ca=vdb.b.wc(this.BC);k.call(this)}function k(){this.ag=this.l.Qf();this.wl[this.ag]=this.wl[this.ag]||{};this.IQ()?(w.debug("Found subtitles",this.ca),this.a.dispatchEvent(x.fw),this.Yg&&(l.call(this,this.Yg),this.dispatchEvent(vdb.c.ca.gw.tj,{tl:this.Yg,dA:!1}))):this.ca={}}function l(a){w.debug("getSubtitles",this.ag,a);if(this.wl[this.ag]&&this.wl[this.ag][a])w.debug("Loading from memory"),this.cues=this.wl[this.ag][a],t.call(this),this.enable(),
r.call(this);else{var b=this.ca,c=S,d=[];if(b=b&&b[a]&&b[a].formats)for(var f=0;f<c.length;f++){var h=c[f];b[h]&&d.push({format:h,url:b[h],status:vdb.c.ca.Hr.HT.IDLE})}this.Nl=d;this.sourceIndex=-1;0<this.Nl.length?m.call(this):(w.debug("prepareAutoTranslatedSubtitles:",a),this.Nl.push({format:W.Dr,url:this.D.Qp("subs")+"?id="+this.ag+"&target="+a,status:J.IDLE}),0<this.Nl.length?m.call(this):w.warn("No supported formats found for language code '"+a+"'",this.ca))}}function m(){w.debug("loadSubtitles");
if(++this.sourceIndex<this.Nl.length){var a=this.sourceIndex;this.Fp=this.Nl[a];if(this.Fp.format===W.Zq&&this.oD)w.debug("Loading embedded subtitles"),q.call(this,this.oD);else{var b=this.Fp.url;b&&(w.debug("Loading from "+b),vdb.te.get(b,null,p.bind(this,a),n.bind(this,a)))}}else w.warn("All sources failed to load!",this.Nl)}function n(a,b){w.warn("Load error!",b);this.Yg=null;this.dispatchEvent(L.eK);s.call(this,a)}function p(a,b){var c=b.format||this.Fp.format;(new vdb.c.ca.u1(c)).parse(b.text).then(function(d){d?
0===d.cues.length?(w.warn("No cues found for format '"+c+"'",d),s.call(this,a)):(w.debug("Load succeeded",b),q.call(this,d)):(w.warn("Failed to parse subtitles for format '"+c+"'"),s.call(this,a))}.bind(this)).catch(function(b){s.call(b,a)})}function s(a){this.Nl[a].status=J.dY;m.call(this)}function q(a){w.debug("Parse succeeded",a);this.Fp.status=J.MB;this.cues=a.cues;this.wl[this.ag]&&(this.wl[this.ag][this.Yg]=B.by(this.cues));t.call(this);this.enable();r.call(this)}function r(){for(var a=this.display.Ea(),
b=a||this.display.Ea(),c=this.cues.length-1,d=this.mE-1;++d<c&&this.cues[d].endTime<b;);this.mE=d;b=this.cues;c=[];for(d=this.mE;d<b.length&&!(a<b[d].startTime);d++)a<b[d].endTime&&c.push(b[d].text);c.length?this.view.mfa(c):this.view.l6()}function t(){for(var a=this.display.Ea(),b=this.cues.length-1,c=-1;++c<b&&this.cues[c].endTime<a;);this.mE=c}function u(){var a=K===U.tB.sJ&&this.l.isMuted(),b=B.n8(),c=V.lL,d=B.vg(E,["subtitleSettings","defaultLanguage"],U.rJ.EA);w.debug("select language on start");
a&&(this.UR=v.bind(this),this.a.addEventListener(x.Dc,this.UR));if(this.xh[O.Rv]&&this.xh[O.co])this.Eg=this.xh[O.Rv];else if(this.kz&&c[this.kz])this.Eg=this.kz;else if(K===U.tB.zX||a)if(d===U.rJ.EA?(w.debug("use auto detection"),this.Eg=null,c[N]?(w.debug("use browser language auto detection -",N),this.Eg=N):c[b]?(w.debug("use browser language settings -",b),this.Eg=b):(a=V.TW,b=this.D.Ga.Ym,w.debug("use geo data:",b),(a=(b=b&&b.country)?a[b]:null)?(w.debug("use geo language -",a),this.Eg=a):w.debug("country language is not supported"))):
c[d]&&(w.debug("use default language from subtitle settings -",d),this.Eg=d),!this.Eg||!aa&&this.ca&&!this.ca[this.Eg])w.debug("use english or any available subtitle from human translation"),this.Eg=this.ca.en?"en":Object.keys(this.ca)[0];this.kz=null;w.debug("language on start:",this.Eg);this.Eg&&this.dispatchEvent(vdb.c.ca.gw.tj,{tl:this.Eg,dA:!1})}function v(){this.l.isMuted()||(this.sz(),this.a.removeEventListener(x.Dc,this.UR))}var w=vdb.log.Q("SubtitlesManager"),z=vdb.f.W,B=vdb.b,x=vdb.g.B,
C=vdb.o.Me,I=vdb.c.ca.Ll.l2,J,S,y=vdb.j.U,K,aa,V=vdb.c.ca.Ll,O=vdb.c.ca.Ll.Ck,W=vdb.c.ca.Le,L=vdb.c.ca.gw,U=vdb.c.ca.Ck,E,N;return{k:function(a){var b=vdb.localStorage.getItem(I),d=a.$b();w.debug("init");this._super();J=vdb.c.ca.Hr.HT;S=vdb.c.ca.Hr.zea;this.l=a;this.D=a.getContext();this.a=a.ua();this.display=vdb.c.a.Jc.pb();this.W6=new vdb.c.ca.NB;this.xh=b?JSON.parse(b):new vdb.c.ca.NB;this.view=new vdb.c.ca.w1(d,this.display,this.D);this.view.Du(this.xh);this.wl={};this.kz=this.D.pa(vdb.g.Xa.X0);
c.call(this);E=this.D.Ga.Qd;w.debug("initSubscriptSettings");K=B.vg(E,["subtitleSettings","mode"],U.tB.sJ);w.debug("SubscriptSettings:",E.ula);aa=B.vg(E,["subtitleSettings","machineTranslation"],!0);N=E.languageAutoDetection;w.debug("language auto detection:",N)},i6:function(a){this.ca=a;k.call(this)},sz:function(){w.debug("off");this.Yg=null;this.disable()},pH:function(a,b){if(a){w.debug("setLanguage",a);this.Yg=a;l.call(this,a);var c={interactionType:C.OA,interactionData:a+(this.rR(a)?"":"_auto")};
b&&this.a.dispatchEvent(x.bd,c)}},enable:function(a){this.isEnabled||(!this.Yg&&a?this.pH(a):(w.debug("enable",a),a=y.bind,this.ue=this.ue||this.display.jd()?y.group(a(this.a,x.md,r.bind(this)),a(this.a,x.sc,this.disable.bind(this))):y.group(a(this.a,x.zb,r.bind(this)),a(this.a,x.jf,t.bind(this)),a(this.a,x.eb,this.disable.bind(this))),this.view.q5(),this.view.Ku(),this.isEnabled=!0,this.a.dispatchEvent(x.LB)))},disable:function(){this.isEnabled&&(w.debug("disable"),this.view.Z(),this.ue&&(this.ue.Ma(),
this.ue=null),this.view.Vca(),this.isEnabled=!1,this.a.dispatchEvent(x.ew))},toggle:function(){var a;this.isEnabled?(this.vca=this.Yg,this.dispatchEvent(L.tj,{tl:""})):(a=this.vca||"",this.dispatchEvent(L.tj,{tl:a}))},enabled:function(){return this.isEnabled},Z:function(){w.debug("hide");this.view.Z()},N9:function(){return this.ca},IQ:function(){return this.ca&&0<z.pF(this.ca)},$u:function(a,b){this.xh[a]=b;vdb.localStorage.setItem(I,JSON.stringify(this.xh));this.view.Du(this.xh)},xF:function(){return this.xh},
G9:function(a){return this.xh[a]},LS:function(){vdb.localStorage.removeItem(I);this.xh=new vdb.c.ca.NB;this.view.Du(this.xh)},XF:function(){var a=this.BC||{},b,c;for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)&&(c=Object.keys(this.BC[b].formats).filter(function(a){return a!==vdb.c.ca.Le.Vv}),c.length))return!0;return!1},cka:function(){return this.Eg},rR:function(a){return"undefined"!==typeof this.ca[a]},isEnabled:!1,Yg:null,Nl:[],wl:{},ue:null}}());var yb=vdb.c.ca.Hr,zb=vdb.c.ca.Le;
yb.HT={IDLE:0,dY:1,MB:2};yb.zea=[zb.xL,zb.yL,zb.Cv,zb.Dr,zb.pw,zb.Zq,zb.Vv];vdb.c.a.tY=vdb.L.Class.extend(function(){function c(a){this.ra=a.data.ra}function d(){this.a.addEventListener(f.hm,c.bind(this));b.enabled()?b.r5(function(){!b.kd()||b.element()!==this.a.G&&b.element()!==this.frameElement?(this.a.dispatchEvent(f.Lc,{userInitiated:!this.Mp}),this.Mp=!1,this.Vf&&this.G.setAttribute("style",this.Vf),this.VS&&this.Yc.setAttribute("style",this.VS),this.US&&this.ra.setAttribute("style",this.US),g.debug("Exit fullscreen")):(this.a.dispatchEvent(f.Cc),g.debug("Enter fullscreen"))}.bind(this)):
a.au&&(this.display.addEventListener(vdb.j.Ba.GL,function(){this.a.dispatchEvent(f.Cc);g.debug("Enter fullscreen")}.bind(this)),this.display.addEventListener(vdb.j.Ba.HL,function(){this.a.dispatchEvent(f.Lc,{userInitiated:!this.Mp});this.Mp=!1;g.debug("Exit fullscreen")}.bind(this)))}var b=vdb.f.qj,a=vdb.f.W,f=vdb.g.B,g=vdb.log.Q("FullscreenController");return{k:function(a){this.l=a;this.a=a.ua();this.display=vdb.c.a.Jc.pb();this.G=this.a.G;this.Yc=this.a.Yc;this.Mp=!1;try{this.frameElement=window.frameElement}catch(b){this.frameElement=
null}d.call(this)},kd:function(){return b.enabled()&&b.kd()},Yf:function(c,d){if(c)this.zN||(this.zN=new vdb.c.a.r0(this.l)),this.zN.Yf(d);else{var f=d;b.enabled()?f!==b.kd()&&("undefined"===typeof f&&(f=!b.kd()),f?(f=[],this.Vf=this.G.getAttribute("style"),this.VS=this.Yc.getAttribute("style"),this.US=this.ra&&this.ra.getAttribute("style"),this.G&&f.push(this.G),this.Yc&&f.push(this.Yc),this.ra&&f.push(this.ra),vdb.b.P(f,{padding:"0",margin:"0",width:"100%",height:"100%",left:"0",top:"0"}),b.p7(this.G)):
b.VP()):a.au&&f!==this.display.ck()&&("undefined"===typeof f&&(f=!this.display.ck()),f?this.display.webkitEnterFullscreen():this.display.webkitExitFullscreen())}},BO:function(){b.enabled()?b.kd()&&(this.Mp=!0,b.VP()):a.au&&this.display.ck()&&(this.Mp=!0,this.display.webkitExitFullscreen())}}}());vdb.c.a.hZ=vdb.L.Class.extend(function(){function c(a){switch(a.keyCode){case b.z_:this.da.ni();break;case b.fZ:this.da.ni();break;case b.T0:this.s3.P$()||this.da.ni();break;case b.CX:a.ctrlKey&&this.da.Yf();break;case b.AX:a.preventDefault();a=this.Eb.getDuration();this.da.Ge(a-1);break;case b.FY:a.preventDefault();this.da.Ge(0);break;case b.kZ:a.ctrlKey||a.shiftKey?this.da.gba():(a=this.Eb.Ea(),this.da.Ge(5>=a?0:a-5));break;case b.Z1:a.preventDefault();d.call(this,!0);break;case b.z0:a.ctrlKey||
a.shiftKey?this.da.xG():(a=this.Eb.Ea()+5,this.da.Ge(a));break;case b.sX:a.preventDefault();d.call(this);break;case b.cW:this.da.zF().toggle();break;case b.cY:this.da.Yf();break;case b.UZ:this.da.Xu()}}function d(a){var b=this.da.getVolume();this.da.setVolume(a?1<=b+.05?1:b+.05:0>=b-.05?0:b-.05)}var b=vdb.c.o.bK;return{k:function(a,b){this.da=a;this.K=a.ua();this.R=this.K.Na();this.s3=b;this.Eb=vdb.c.a.Jc.pb();this.R.setAttribute("tabindex","0");this.R.setAttribute("aria-label","This is the AOL video player, press Space to toggle play and pause");
document.addEventListener("keydown",c.bind(this))}}}());vdb.c.a.TZ=vdb.xb.extend(function(){var c=vdb.b;return{k:function(d){this.K=d;this.X=d.Yc;this.rp=c.createElement("div",{"class":"look-ahead-ad-panel"});this.pO=c.createElement("div",{"class":"look-ahead-ad-panel-element"},this.rp);this.i5=c.createElement("span",{"class":"look-ahead-ad-panel-span"},this.pO);this.j5=c.createElement("span",{"class":"look-ahead-ad-panel-time-span"},this.pO);this.qO=c.createElement("div",{"class":"look-ahead-ad-panel-skip"},this.rp);this.h5=c.createElement("span",{"class":"look-ahead-ad-panel-skip-span"},
this.qO);c.createElement("div",{"class":"look-ahead-ad-panel-skip-icon"},this.qO,'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 6.3 10.3" xml:space="preserve"><path class="st0" d="M6.1,5.8c-0.4,0.4-1,0.4-1.4,0L0.3,1.7c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0L6,4.4 C6.4,4.8,6.5,5.4,6.1,5.8z"/><path class="st0" d="M6,5.9L1.7,10c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-1,0-1.4l4.3-4.1c0.4-0.4,1-0.4,1.4,0C6.5,4.8,6.4,5.5,6,5.9z"/></svg> ');vdb.F.na(".look-ahead-ad-panel{position:absolute;bottom:60px;right:0;width:125px;height:45px;z-index:6;color:#d0d0d0;font:12px/13px Arial;background-color:rgba(34,34,34,0.85);padding:8px 15px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid black;border-top-left-radius:35px;border-bottom-left-radius:35px;text-align:right;-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%);cursor:pointer}.look-ahead-ad-panel:hover .look-ahead-ad-panel-skip{text-decoration:underline}.look-ahead-ad-panel:hover .look-ahead-ad-panel-skip .player-icon{fill:#customColor}.fullscreen-mode .look-ahead-ad-panel{width:165px;height:55px;bottom:98px;font-size:18px}.fullscreen-mode .look-ahead-ad-panel-skip{margin-top:10px}.look-ahead-ad-panel-skip{margin-top:5px;text-transform:uppercase}.look-ahead-ad-panel-element{width:100%}.look-ahead-ad-panel-time-span{font-weight:bold}.look-ahead-ad-panel-skip-icon{width:7px;height:7px;margin-left:5px;display:inline-block}.expand-skip-button{opacity:1;-moz-animation:expand-skip-button .7s;-webkit-animation:expand-skip-button .7s;animation:expand-skip-button .7s;-moz-transform:translateX(0);-webkit-transform:translateX(0);transform:translateX(0)}.collapse-skip-button{opacity:0;-moz-animation:collapse-skip-button .7s;-webkit-animation:collapse-skip-button .7s;animation:collapse-skip-button .7s}@keyframes expand-skip-button{from{-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%)}to{-moz-transform:translateX(0);-webkit-transform:translateX(0);transform:translateX(0)}}@-moz-keyframes expand-skip-button{from{-moz-transform:translateX(100%);transform:translateX(100%)}to{-moz-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes expand-skip-button{from{-webkit-transform:translateX(100%);transform:translateX(100%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes collapse-skip-button{from{opacity:1;-moz-transform:translateX(0);-webkit-transform:translateX(0);transform:translateX(0)}to{opacity:1;-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%)}}@-moz-keyframes collapse-skip-button{from{opacity:1;-moz-transform:translateX(0);transform:translateX(0)}to{opacity:1;-moz-transform:translateX(100%);transform:translateX(100%)}}@-webkit-keyframes collapse-skip-button{from{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}to{opacity:1;-webkit-transform:translateX(100%);transform:translateX(100%)}}".replace(/#customColor/g,
this.K.Gd()));this.i5.innerText="Ad will start in ";this.h5.innerText="Skip ad";this.Tg=!1},update:function(c){this.j5.innerText=c},Jd:function(){return this.Tg},show:function(){c.Jb(this.rp,"collapse-skip-button","expand-skip-button");this.Tg=!0},Z:function(){c.Jb(this.rp,"expand-skip-button","collapse-skip-button");this.Tg=!1},H5:function(){this.X.appendChild(this.rp)}}}());vdb.c.a.SZ=vdb.L.Class.extend(function(){function c(b){this.Ry()&&(b=b&&b.data&&b.data.currentTime||0,this.nb.update(Math.max(Math.round(5-b),1)),5<=b&&(this.YC.resolve(),a.call(this)))}function d(){this.GC=!1}function b(){this.Ry()&&!this.eN&&setTimeout(function(){this.nb.show()}.bind(this),1E3)}function a(){this.Ry()&&this.nb.Jd()&&this.nb.Z()}function f(a){this.YC=new vdb.bc;this.Hk=this.da.$g();(this.GC=0===this.da.yc()&&a.data&&a.data[0]&&"LOOKAHEAD"===a.data[0].$ia())&&this.nb.H5()}function g(){this.Hk.skip();
this.YC.reject();this.nb.Z();this.da.Qt()}var h=vdb.j.U,k=vdb.g.B;return{k:function(l,m){this.da=l;this.K=l.ua();this.nb=new vdb.c.a.TZ(this.K);this.eN=m||!1;this.nb.update(5);this.If=this.If||new vdb.j.ne(h.bind(this.K,k.lb,a.bind(this)),h.bind(this.K,k.eb,a.bind(this)),h.bind(this.K,k.Db,b.bind(this)),h.bind(this.K,k.zb,c.bind(this)),h.bind(this.K,k.Sl,f.bind(this)),h.bind(this.K,k.zA,d.bind(this)),h.bind(this.nb.rp,"click",g.bind(this)))},Ry:function(){return this.GC||this.eN},Zaa:function(){this.da.Rba();
return this.YC.qb()}}}());vdb.c.a.jL=vdb.L.Class.extend(function(){var c=vdb.b,d=vdb.f.W;return{k:function(b){this.G=b;this.Nu=c.createElement("div",{"class":"player-spinner"},this.G,c.Iu('<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 66 66"><linearGradient id="thin-spinner-gradient" gradientUnits="userSpaceOnUse" x1="55.6484" y1="14.5625" x2="-28.5724" y2="85.2322" gradientTransform="matrix(0 1 1.5 .1 0 -2)"><stop offset="0" stop-color="currentColor" stop-opacity="1"/><stop offset="0.5" stop-color="currentColor" stop-opacity="0"/></linearGradient><path id="thin-spinner-path" fill="url(@func-iri-prefix#thin-spinner-gradient)" d="M-0.014,33c0,18.193,14.813,32.992,33.006,32.992 C51.188,65.992,66,51.193,66,33C66,14.809,51.188,0.008,32.992,0.008C14.799,0.008-0.014,14.809-0.014,33z M61.986,33 c0,15.996-13.006,29.01-28.992,29.01S4.002,48.996,4.002,33S17.008,3.99,32.994,3.99S61.986,17.004,61.986,33z"/><clipPath id="thin-spinner-clip-path"><use xlink:href="@func-iri-prefix#thin-spinner-path"/></clipPath><rect x="0" y="0" clip-path="url(@func-iri-prefix#thin-spinner-clip-path)" fill="currentColor" width="33" height="66"/></svg>'));
this.visible=!0},show:function(){this.visible||(d.show(this.Nu),this.visible=!0)},Z:function(){this.visible&&(d.Z(this.Nu),this.visible=!1)}}}());vdb.c.a.d_=vdb.L.Class.extend(function(){function c(b){var a=b.data&&b.data.split(":");if(a&&"event"===a[0])switch(b=a[1],a=JSON.parse(decodeURIComponent(a[2])),b){case "devicemotion":b=vdb.f.W.IR(b,a),window.dispatchEvent(b)}}var d=vdb.o.ha;return{k:function(b){b.Ub().La(d.rj).tf().addEventListener("message",c,!1)}}}());vdb.c.a.k1=vdb.L.Class.extend(function(){function c(){a.debug("Loading skin by type",this.Qn);var c=this.D.ye("player/js/17.21.1380/skins/%s.js".replace("%s",this.Qn))+"?cb="+vdb.version(),d=c.split("?"),h=d.length-2;vdb.b.aq(document,c,b.bind(this));c=d[h].match(/.*\/(.*)?\.js$/);this.Zb.action("LoadSkin",null,null,null,null,{c1:c&&c[1]?c[1]:""})}function d(b){if(b&&window.oath&&window.oath.skin)try{var d=this.l.getContext().getPlayer(),h=new window.oath.skin(d,d.getPlayerContainer());a.debug("Created skin from external script successfully",
h);h.render();vdb.c.a.Yp=!0;this.l.ua().dispatchEvent(vdb.g.B.hm,h)}catch(k){a.error("Error loading external skin from script",k),c.call(this)}else a.warn("External skin script didn't initialized the oath skin object"),c.call(this)}function b(b){b&&window.vdb&&window.vdb.I&&window.vdb.I[this.Qn]?(b=new window.vdb.I[this.Qn](this.l,this.D),a.debug("Created skin by type successfully",b),vdb.c.a.Yp=!0,this.l.ua().dispatchEvent(vdb.g.B.hm,b)):(a.warn("Error loading skin by type",this.Qn),this.l.ua().dispatchEvent(vdb.g.B.IK))}
var a=vdb.log.Q("SkinsManager");return{k:function(a,b){this.l=a;this.D=b;this.Zb=this.D.gd()},Taa:function(b){this.Qn=b;vdb.c.a.Yp||((b=vdb.f.Ua.fc("skinscript"))?(a.debug("Loading skin from external script",b),vdb.b.aq(document,b,d.bind(this))):c.call(this))}}}());vdb.c.a.EV=vdb.L.Class.extend(function(){function c(a){a.type===m.Ra||a.type===m.Ff?this.ea.setAttribute("aria-label","Pause"):this.ea.setAttribute("aria-label","Play")}function d(a){var b=a.data;a=b.volume;b=b.muted;!+a||b?(this.Rd.setAttribute("aria-label","Unmute"),f(this.Kb,"100","0","Volume muted")):(this.Rd.setAttribute("aria-label","Mute"),f(this.Kb,"100",Math.round(100*a),Math.round(100*a)+"% volume"))}function b(a){var b=a.data;a=a.type===m.zb?Math.round(b.durationWithoutAds):Math.round(b.duration);
b=Math.round(b.currentTime);f(this.Y,a,b,n.kb(b)+" of "+n.kb(a))}function a(){var a=k.call(this);f(this.Y,a.max,a.now,a.text)}function f(a,b,c,d){a.setAttribute("aria-valuemax",b);a.setAttribute("aria-valuenow",c);a.setAttribute("aria-valuetext",d)}function g(a,b,c,d){a.addEventListener("focus",function(){d();b.forEach(function(a){this.a.addEventListener(a,c)}.bind(this))}.bind(this));a.addEventListener("blur",function(){b.forEach(function(a){this.a.removeEventListener(a,c)}.bind(this))}.bind(this))}
function h(a,b,c,d,f){a.setAttribute("tabindex","0");a.setAttribute("role","slider");a.setAttribute("aria-label",b);a.setAttribute("aria-valuemin",0);a.setAttribute("aria-valuemax",c);a.setAttribute("aria-valuenow",d);a.setAttribute("aria-valuetext",f)}function k(){var a=this.display.jd()?Math.round(this.display.getDuration()):Math.round(this.display.ze()),b=Math.round(this.display.Ea());return{max:a,now:b,text:n.kb(b)+" of "+n.kb(a)}}function l(f){var l=f.data;f=l.ea;var n=l.Ta.Rd,r=l.gb,t=l.Y,l=
l.Ta.Kb,u=k.call(this),v=this.l.getVolume(),w=[m.zb,m.md],z=[m.zh,m.Dc],B=[m.Ra,m.yb,m.Ff,m.df],x=[f,n,r];this.Y=t;this.Kb=l;this.Rd=n;this.ea=f;this.gO=x;f.setAttribute("aria-label","Play");r.setAttribute("aria-label","Fullscreen");n.setAttribute("aria-label","Mute");h(t,"Timeline seek",u.max,u.now,u.text);l&&(+v?h(l,"Volume",100,Math.round(100*v),Math.round(100*v)+"% volume"):h(l,"Volume",100,0,"Volume muted"),g.call(this,l,z,d.bind(this),function(){d.call(this,{data:{volume:this.l.getVolume()}})}.bind(this)));
g.call(this,t,w,b.bind(this),a.bind(this));g.call(this,n,z,d.bind(this),function(){this.l.isMuted()?this.Rd.setAttribute("aria-label","Unmute"):this.Rd.setAttribute("aria-label","Mute")}.bind(this));g.call(this,f,B,c.bind(this),function(){this.l.isPlaying()?this.ea.setAttribute("aria-label","Pause"):this.ea.setAttribute("aria-label","Play")}.bind(this))}var m=vdb.g.B,n=vdb.f.W;return{k:function(a){this.a=a.ua();this.l=a;this.display=vdb.c.a.Jc.pb();this.a.addEventListener(m.hm,l.bind(this))},P$:function(){for(var a=
!1,b=0;b<this.gO.length;b++)if(document.activeElement===this.gO[b]){a=!0;break}return a}}}());vdb.c.a.nK=vdb.L.Class.extend(function(){function c(a){a.forEach(function(a){this.xE.push({element:a,cssText:a.style.cssText,className:a.className})}.bind(this))}function d(a,b,c){this.Ke=a;this.content=b;this.y5=c||[]}function b(b,c){var d;b.forEach(function(b){d=b.getBoundingClientRect();c&&b.removeAttribute("style");f.P(b,{position:"fixed",height:d.height+"px",width:d.width+"px",top:d.top+"px",left:d.left+"px",zIndex:"999999999"});a(b)})}function a(a){["transitionend","webkitTransitionEnd","otransitionend"].forEach(function(b){a.addEventListener(b,
function(){f.P(a,{"-webkit-transition":"none","-moz-transition":"none","-o-transition":"none",transition:"none"})},!1)})}var f=vdb.b,g=!1;return{k:function(){this.xE=[];this.width="70%";this.height="initial"},iT:function(a,b){this.width=a;this.height=b;this.content&&f.P(this.content,{width:this.width,height:this.height})},hO:function(a,k,l,m){g||(g=!0,d.call(this,a,k,l),a=[this.Ke,this.content].concat(this.y5),c.call(this,a),b.call(this,[this.Ke,this.content],m),setTimeout(function(){f.P(this.Ke,
{position:"fixed",zIndex:"999999999",height:"100%",width:"100%",top:"0",left:"0",background:"rgba(0,0,0,0.75)",webkitTransition:"background 0.15s ease-in",ek:"background 0.15s ease-in",PR:"background 0.15s ease-in",transition:"background 0.15s ease-in"});f.P(this.content,{position:"absolute",top:"50%",left:"50%",width:this.width,height:this.height,webkitTransform:"translate(-50%, -50%)",mq:"translate(-50%, -50%)",msTransform:"translate(-50%, -50%)",transform:"translate(-50%, -50%)",webkitTransition:"all 0.35s ease-in-out",
ek:"all 0.35s ease-in-out",PR:"all 0.35s ease-in-out",transition:"all 0.35s ease-in-out"})}.bind(this),50))},wP:function(){g&&(g=!1,this.xE.forEach(function(a){a.element.style.cssText=a.cssText;a.element.className=a.className}),this.xE=[])}}}());vdb.c.a.f2=vdb.L.Class.extend(function(){function c(){var a=this;h.Bb(a.Pd,"fadeInRight")||h.Bb(a.Pd,"fadeOutRight")||(h.C(a.Pd,"fadeInRight"),setTimeout(function(){h.Jb(a.Pd,"fadeInRight","fadeOutRight")},3E3),["animationend","oAnimationEnd","mozAnimationEnd","webkitAnimationEnd"].forEach(function(b){a.Pd.addEventListener(b,function(){h.N(a.Pd,"fadeOutRight")},!1)}))}function d(a){a&&a.data.muted||this.a.l.isMuted()||this.G.removeChild(this.Zu)}function b(){this.Zu=h.createElement("div",{"class":"unmute-button-wrapper"},
this.G);return vdb.te.gn(this.a.l.getContext().CQ()).then(function(a){this.Zu.innerHTML=a.text;this.hfa=this.Zu.querySelector(".unmute-button-container");this.Pd=this.Zu.querySelector(".tooltip")}.bind(this))}function a(){this.hfa.addEventListener(h.za()?"touchend":"click",f.bind(this));this.a.addEventListener(g.zh,d.bind(this));this.a.addEventListener(g.Dc,d.bind(this));vdb.j.U.Ca(this.a,g.ac,function(){this.type===vdb.c.o.CL.W1&&this.a.dispatchEvent(g.IB)}.bind(this));this.G.addEventListener("mousemove",
c.bind(this))}function f(a){a&&(a.preventDefault(),a.stopPropagation(),this.G.removeChild(this.Zu),this.a.dispatchEvent(g.bd,{interactionType:vdb.o.Me.Go}))}var g=vdb.g.B,h=vdb.b;return{k:function(c,d){this.a=c;this.type=d;this.G=c.l.$b();b.call(this).then(a.bind(this));vdb.F.na(".unmute-button-wrapper{width:9.2%;position:absolute;top:8%;left:4.5%;z-index:9}@media(max-width:500px){.unmute-button-wrapper{width:13.8%}.unmute-button-wrapper .tooltip{width:32.25vw;height:13.2vh;left:calc(102.5%)}}")}}}());vdb.c.a.AV=vdb.L.Class.extend(function(){function c(){this.VN=vdb.b.fQ(this.Po);var a=this.xD,b;a:{for(b=0;b<k.length;b++)if(this.Rw===vdb.b.KR("vdb_aol_gate_prefix-"+k[b])){b=k[b];break a}b=0}if(a>b){g.debug("block video");vdb.c.a.Jc.pb().stop();a=vdb.F.createElement("div");b=vdb.F.createElement("div");var c=vdb.F.createElement("div");this.Kj=vdb.F.createElement("div");f(this.Kj);h.P(a,{color:"rgb(208, 208, 208)",marginTop:"20%",textAlign:"center",fontFamily:"Arial, sans-serif"});b.innerText="Video is blocked";
b.textContent="Video is blocked";h.P(b,{fontSize:"2rem"});var d="To view this video\nyou must be over "+this.xD+" years old";c.innerText=d;c.textContent=d;h.P(c,{fontSize:"1.4rem"});a.appendChild(b);a.appendChild(c);this.Kj.appendChild(a);this.Nk.appendChild(this.Kj)}else this.da.cP()}function d(a){return(a=document.getElementById(a))?a.value:null}function b(a){g.debug("close Birthday widget");a.type===vdb.g.B.HA?this.Po=a.data:(a=[],a.push(d("bd-year")),a.push(d("bd-month")),a.push(d("bd-date")),
this.Po=a.length&&a.join("-"));if(this.Po&&0!==this.Po.length&&!isNaN(Date.parse(this.Po))){this.VN=vdb.b.fQ(this.Po);a:{for(a=1;a<k.length;a++)if(this.VN<k[a]){a=k[a-1];break a}a=k[k.length-1]}this.Rw=vdb.b.KR("vdb_aol_gate_prefix-"+a);this.dM.set("gate",this.Rw,{ut:604800});this.Kj.parentNode.removeChild(this.Kj);c.call(this)}}function a(a,b,c){var d="bd-year"===c;a.id=c;var f={color:"rgb(17, 17, 17)",display:"inline-block",fontFamily:"Arial, sans-serif",fontSize:"15px",lineHeight:"15px",height:"26px",
borderRadius:"2px",width:"84px",backgroundColor:"rgb(255, 255, 255)"};f.marginLeft="bd-month"===c?"0px":"15px";h.P(a,f);for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(c=vdb.F.createElement("option"),c.value=9<k?k:"0"+k,c.text=b[k],d?a.insertBefore(c,a.firstChild):a.appendChild(c))}function f(a){h.P(a,{width:"100%",height:"100%",top:"0",display:"table",position:"absolute",zIndex:"100",background:"rgb(26, 26, 26)",color:"white"})}var g=vdb.log.Q("Age Gate"),h=vdb.b,k=[0,7,10,14,17,21];return{k:function(a){if(this.X3)throw Error("Only one Age Gate object may be created.");
g.debug("init");this.X3=this;this.da=a;this.K=a.getContext().J;this.dM=new vdb.f.gJ;this.K.addEventListener(vdb.g.B.HA,b.bind(this))},Zx:function(){var d=this.da.aa();d&&(this.xD=d.metadata&&d.metadata.commonRating&&d.metadata.commonRating.minAge?d.metadata.commonRating.minAge:-1,0<this.xD?(this.Nk=this.da.ua().Na(),(this.Rw=this.dM.get("gate"))?c.call(this):setTimeout(function(){vdb.c.a.Jc.pb().stop();g.debug("show Birthday widget");this.Kj=vdb.F.createElement("div");var c=vdb.F.createElement("div"),
d=vdb.F.createElement("span"),k=vdb.F.createElement("p"),l=vdb.F.createElement("select"),q=vdb.F.createElement("select"),r=vdb.F.createElement("select"),t=vdb.F.createElement("span"),u=vdb.F.createElement("p"),v=vdb.F.createElement("span"),w={},z;for(z=1;31>=z;z++)w[z]=z;var B={},x=(new Date).getFullYear();for(z=0;80>z;z++){var C=x-z;B[C]=C}f(this.Kj);h.P(c,{position:"relative",display:"block",margin:"20% auto",width:"285px"});d.innerText="Please enter your date of birth";d.textContent="Please enter your date of birth";
h.P(d,{color:"rgb(208, 208, 208)",display:"block",fontFamily:"Arial, sans-serif",fontSize:"16px",lineHeight:"20px",marginBottom:"20px"});h.P(t,{display:"block",height:"1px",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"rgb(85, 85, 85)"});h.P(u,{marginTop:"10px"});h.P(v,{cursor:"pointer",display:"inline-block",borderRadius:"12px",color:"rgb(0, 0, 0)",fontSize:"12px",textTransform:"uppercase",padding:"5px 8px",fontWeight:"bold",styleFloat:"right",cssFloat:"right",backgroundColor:"rgb(255, 255, 255)",
fontFamily:"Arial, sans-serif"});v.innerHTML="Submit";v.addEventListener("click",b.bind(this));h.P(k,{display:"block",marginBottom:"20px",fontWeight:"bold"});a(l,{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},"bd-month");a(q,w,"bd-date");a(r,B,"bd-year");c.appendChild(d);k.appendChild(l);k.appendChild(q);k.appendChild(r);c.appendChild(k);c.appendChild(t);u.appendChild(v);c.appendChild(u);this.Kj.appendChild(c);this.Nk.appendChild(this.Kj);this.K.dispatchEvent(vdb.g.B.pI)}.bind(this),
100)):this.da.cP())}}}());vdb.c.a.J1=vdb.L.Class.extend(function(){var c=vdb.log.Q("TimeParamManager"),d=vdb.g.B,b=vdb.f.Ua;return{k:function(a){function f(g){g=Math.floor(g.data.duration);var h;a:{var k=b.fc("t");try{var l;if(""===k)l=void 0;else{var m;if(isNaN(k)){var n;-1!==k.indexOf("h")&&(n=3600*parseInt(k.substring(0,k.indexOf("h"))),k=k.substring(k.indexOf("h")+1));if(-1!==k.indexOf("m")){var p=60*parseInt(k.substring(0,k.indexOf("m")));n=n?n+p:p;k=k.substring(k.indexOf("m")+1)}if(-1!==k.indexOf("s")){var s=parseInt(k.substring(0,
k.indexOf("s")));n=n?n+s:s}m=n}else m=parseInt(k);l=m}h=l;break a}catch(q){c.debug('Error while parsing "t" param',q)}h=void 0}if(l=h&&g&&h<g)l=/.*aol\.com\/.*/g,l=(m=vdb.f.Nc.fe())&&l.test(m)?!0:!1;l&&a.l.Ge(h);a.removeEventListener(d.Mc,f)}c.debug("init");a.addEventListener(d.Mc,f)}}}());vdb.c.a.poster={};
vdb.c.a.poster.FI=vdb.xb.extend(function(){var c=vdb.b;return{k:function(d){this.Cl=c.createElement("div",{"class":"poster-outer-container"},d);this.sa=c.createElement("div",{"class":"poster-inner-container"},this.Cl);this.xc=new vdb.j.ne;this._super();c.za()&&c.C(this.Cl,"mobile")},Lf:function(){this.xc.Li(vdb.j.U.bind(this.Cl,"click",this.click.bind(this)))},Ju:function(c){this.mN=c},lT:function(c){this.remove();this.xc.Li(vdb.j.U.bind(c,"click",this.click.bind(this)))},wu:function(d){c.dq(this.mN)&&this.mN(d)},
click:function(){this.wu(!0)},remove:function(){this.xc.Ma();c.je(this.Cl)},Sa:function(){}}}());vdb.F.na(".ad-mode video::-webkit-media-controls{display:none}.poster-outer-container{width:100%;height:100%;position:absolute;left:0;top:0;z-index:8;cursor:pointer}.poster-outer-gray{background-color:#333}.poster-inner-container{width:100%;height:100%;position:absolute;left:0;top:0;z-index:2;background-repeat:no-repeat;background-position:center;background-size:cover}");vdb.c.a.poster.mb=vdb.c.a.poster.FI.extend({k:function(c){this._super(c);this.Sa();this.Lf()}});vdb.bb.Ya.mb=vdb.c.a.poster.mb.extend({Sa:function(){var c=vdb.b.createElement("div",{"class":["skin5-poster-play-button","skin5-poster-resume-ad-button"]},this.sa,'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="36.813 0 22 22"><path d="M47.813,1.126c5.424,0,9.862,4.431,9.862,9.874s-4.438,9.873-9.862,9.873s-9.862-4.43-9.862-9.873 S42.39,1.126,47.813,1.126 M47.813,0c-6.069,0-11,4.918-11,11s4.931,11,11,11s11-4.918,11-11S53.883,0,47.813,0L47.813,0z"/><g class="medium-ring-arc"><clipPath id="medium-ring-clip-path"><path d="M47.813,1.126c5.424,0,9.862,4.431,9.862,9.874s-4.438,9.873-9.862,9.873s-9.862-4.43-9.862-9.873 S42.39,1.126,47.813,1.126 M47.813,0c-6.069,0-11,4.918-11,11s4.931,11,11,11s11-4.918,11-11S53.883,0,47.813,0L47.813,0z"/></clipPath><polygon points="36.813,0 36.813,22 47.813,11" fill="currentColor" clip-path="url(@func-iri-prefix#medium-ring-clip-path)"/></g></svg> ');
vdb.b.createElement("div",{"class":["skin5-poster-play-icon","poster-control"]},c,'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 10"><path d="M0,9.5C0,9,0,0.9,0,0.6c0-0.4,0.3-0.7,0.7-0.5c0.3,0.2,5.6,4.1,6.1,4.4c0.3,0.2,0.3,0.7,0,1 C6.4,5.7,1.1,9.7,0.7,9.9C0.4,10.2,0,9.9,0,9.5z"/></svg>')}});vdb.c.a.poster.wI=vdb.L.Class.extend(function(){function c(a){b.call(this,a);this.dispose();this.hN()}function d(a){b.call(this,a);vdb.b.je(this.Dj);delete this.Dj;h.call(this)}function b(a){clearTimeout(this.zw);m.error("Failed to load animated poster",a)}function a(){var a=this;clearTimeout(this.zw);this.i4();this.Gi&&setTimeout(function(){vdb.b.N(a.X,"animated-poster-loading");setTimeout(function(){vdb.b.C(a.X,"animated-poster-loaded")},1E3)},1)}function f(){var a=Math.max(~~(this.X.clientWidth/
30),12);vdb.b.P(this.o4,{"font-size":a+"px","line-height":a+"px","text-shadow":"0px 0 "+~~(a/6)+"px #000"})}function g(){vdb.b.C(this.Dj,"animated-poster-media-element");this.X.appendChild(this.Dj);this.Q3||this.Gi||(vdb.b.C(this.X,"animated-poster-loading"),this.Gi=vdb.b.createElement("div",{"class":"animated-poster-overlay"},this.X),this.R3||(this.o4=vdb.b.createElement("div",{"class":"click-to-play"},this.Gi,"Click to "+(this.Id?"re":"")+"play full video"),this.DN=vdb.j.U.bind(window,"resize",
f.bind(this)),f.call(this)),vdb.b.createElement("div",{"class":["poster-curtain","top-left-curtain","inner-curtain"]},this.Gi),vdb.b.createElement("div",{"class":["poster-curtain","top-left-curtain","outer-curtain"]},this.Gi),vdb.b.createElement("div",{"class":["poster-curtain","bottom-right-curtain","inner-curtain"]},this.Gi),vdb.b.createElement("div",{"class":["poster-curtain","bottom-right-curtain","outer-curtain"]},this.Gi))}function h(){var b=l.call(this,n.xY);if(b){var d=new Image,f=c.bind(this,
b);this.Dj=vdb.b.createElement("div",{style:'background-image: url("'+b+'")'});this.zw=setTimeout(f,4E3);d.onload=a.bind(this);d.onerror=f;d.src=b;g.call(this)}else this.dispose(),this.hN()}function k(b){var c=d.bind(this,b);this.Dj=vdb.b.createElement("video",{src:b,autoplay:"true",loop:"true",muted:"true",playsinline:"true","webkit-playsinline":"true"});this.Dj.onerror=c;this.zw=setTimeout(c,4E3);vdb.j.U.Ca(this.Dj,"play",a.bind(this));g.call(this)}function l(a){var b=this.N4||(426<this.X.clientWidth||
240<this.X.clientHeight?"large":"small");a=this.U4[a+"s"]||[];for(var c={},d,f=a.length,h=-1;++h<f;)d=a[h],d.size&&(c[d.size.toLowerCase()]=d.url);return"large"===b?c.large||c.small:c.small}var m=vdb.log.Q("AnimatedPoster"),n=vdb.c.o.CV;return{k:function(a){this.X=a.G;this.U4=a.video&&a.video.cfa||{};this.N4=a.size;this.Q3=a.s$;this.R3=a.t$;this.i4=a.nq||function(){};this.hN=a.gj||function(){};a=l.call(this,n.yj);vdb.b.Da.Tf()&&a?k.call(this,a):h.call(this)},HS:function(){this.DN&&this.DN.Ma();vdb.b.je(this.Gi);
delete this.Gi;vdb.b.N(this.X,["animated-poster-loading","animated-poster-loaded"])},dispose:function(){clearTimeout(this.zw);vdb.b.je(this.Dj);delete this.Dj;this.Gi&&this.HS()}}}());vdb.F.na(".animated-poster-media-element{width:100%;height:100%;opacity:1;-webkit-transition:opacity .9s;-moz-transition:opacity .9s;-ms-transition:opacity .9s;-o-transition:opacity .9s;transition:opacity .9s}div.animated-poster-media-element{background-repeat:no-repeat;background-position:center;background-size:cover}video.animated-poster-media-element{object-fit:cover}.animated-poster-loading .animated-poster-media-element{opacity:0}.animated-poster-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;opacity:1;-webkit-transition:opacity .1s;-moz-transition:opacity .1s;-ms-transition:opacity .1s;-o-transition:opacity .1s;transition:opacity .1s}.animated-poster-loading .animated-poster-overlay{opacity:0}.click-to-play{position:absolute;top:11px;left:11px;display:inline-block;font-family:Arial;color:rgba(255,255,255,0.8);z-index:3;-webkit-transition:opacity 1s;-moz-transition:opacity 1s;-ms-transition:opacity 1s;-o-transition:opacity 1s;transition:opacity 1s;opacity:0}.animated-poster-loaded .click-to-play{opacity:1}.inner-curtain,.outer-curtain{position:absolute;top:0;width:100%;height:100%;overflow:hidden;background-color:rgba(0,0,0,0.3);-webkit-transform:skew(-23deg);-moz-transform:skew(-23deg);-ms-transform:skew(-23deg);-o-transform:skew(-23deg);transform:skew(-23deg)}.inner-curtain{z-index:1}.outer-curtain{z-index:2}.top-left-curtain{-webkit-transition:left 1s;-moz-transition:left 1s;-ms-transition:left 1s;-o-transition:left 1s;transition:left 1s}.bottom-right-curtain{-webkit-transition:right 1s;-moz-transition:right 1s;-ms-transition:right 1s;-o-transition:right 1s;transition:right 1s}.animated-poster-loaded .top-left-curtain{-webkit-transition:left .3s;-moz-transition:left .3s;-ms-transition:left .3s;-o-transition:left .3s;transition:left .3s}.animated-poster-loaded .bottom-right-curtain{-webkit-transition:right .3s;-moz-transition:right .3s;-ms-transition:right .3s;-o-transition:right .3s;transition:right .3s}.animated-poster-loading .top-left-curtain{left:-50%!important}.animated-poster-loading .bottom-right-curtain{right:-50%!important}.top-left-curtain.outer-curtain{left:-76%}.top-left-curtain.inner-curtain{left:-88%}.bottom-right-curtain.outer-curtain{right:-76%}.bottom-right-curtain.inner-curtain{right:-88%}.hover-enabled .animated-poster-loaded:hover .top-left-curtain.outer-curtain{left:-80%}.hover-enabled .animated-poster-loaded:hover .top-left-curtain.inner-curtain{left:-90%}.hover-enabled .animated-poster-loaded:hover .bottom-right-curtain.outer-curtain{right:-80%}.hover-enabled .animated-poster-loaded:hover .bottom-right-curtain.inner-curtain{right:-90%}");vdb.c.a.poster.cb=vdb.c.a.poster.FI.extend(function(){function c(){var b,g,m;this.Eaa?vdb.b.P(this.Cl,{display:"none"}):(vdb.b.C(this.Cl,"poster-outer-gray"),this.hR?this.Ox=new vdb.c.a.poster.wI({G:this.Cl,video:this.video,t$:"0"===this.D.pa(vdb.g.Xa.fV),nq:function(){this.a.dispatchEvent(h.Eh,this)}.bind(this),gj:function(){this.hR=!1;c.call(this)}.bind(this)}):(b=this.video.xe||"",g=this.sa.clientWidth,m=this.sa.clientHeight,g&&m&&(this.VF&&(g=Math.max(2*g,1440),m=g/2),b=vdb.f.W.cn(null,b,g,m,
this.D.mc.Ce())),this.VF&&vdb.c.a.ow.pb().load().then(function(){var a=this.video&&this.video.Of;this.TG=new vdb.vr.Poster({container:this.sa,url:b,projectionType:a&&a.Bu,tilt:a&&a.Vu,centeredFishEye:this.D.pa(f.PA),fishEyeAngle:this.D.pa(f.dB)});this.TG.render()}.bind(this)).catch(function(b){a.warn("Failed to create 360 poster ",b)}),this.YR(b),d.call(this,b)))}function d(a){var b=new Image;a?b.onload=this.a.dispatchEvent.bind(this.a,h.Eh,this):this.a.dispatchEvent(h.Eh,this);b.src=a}function b(){if((this.video.metadata||
this.video.metadata||{}).videoType===vdb.o.video.AL.mL&&!(vdb.b.Hd&&11>vdb.b.Da.version)&&vdb.b.IU)switch(this.D.pa(f.jX)){case "mobile":return!vdb.b.za();case "desktop":return!vdb.b.Ve();case "1":case "all":break;default:return!0}return!1}var a=vdb.log.Q("PlayPoster"),f=vdb.g.Xa,g=vdb.o.Me,h=vdb.g.B;return{k:function(a,d,h,g,p,s,q){this.D=q.getContext();this.a=a;this.video=h||{};this.wG=g;this.VF=b.call(this);this.Eaa=this.video&&(this.video.videoSourceType||this.video.jA||"").toLowerCase()===vdb.o.aC.eC;
this.hR="1"===vdb.f.Ua.fc("animatedposter")||p&&!this.VF;this.Id=s;this.ke="button_only"===this.D.pa(f.Q_);this.kl="true"===this.D.pa(f.CY);this.Tf=vdb.b.Da.Tf();this.l=q;this._super(d);c.call(this);this.Sa();this.mj(this.video.title||"",(this.video.metadata||{}).duration,this.video.Pu||"",this.video.description);this.Lf()},$k:function(){this.ea=this.ea||this.sa.firstChild;this.nh=this.D.y8();var a=this.ea.clientHeight/this.ea.clientWidth,b=this.nh.w,c=this.nh.w*a;this.nh.hasOwnProperty("w")&&this.nh.hasOwnProperty("h")&&
this.nh.hasOwnProperty("x")&&this.nh.hasOwnProperty("y")&&this.nh.w<this.sa.clientWidth&&this.nh.h<this.sa.clientHeight&&(0===b&&(b=this.nh.h/a,c=this.nh.h),vdb.b.P(this.ea,{width:b+"px",height:c+"px",margin:"0px",left:this.nh.x+"px",top:this.nh.y+"px","min-width":0,"min-height":0,"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none",transform:"none"}))},oh:function(){this.UG=!0;this.sa.innerHTML="";this.Ox&&this.Ox.HS()},YR:function(a){this.sa.style.backgroundImage='url("'+a+
'")'},wu:function(a){this.TG&&this.TG.destroy();this._super(a)},Lf:function(){vdb.b.Ve()&&this.wG&&this.xc.Li(vdb.j.U.bind(this.sa,"mouseover",this.wu.bind(this)));this.a.addEventListener(h.Cc,function(){this.cq=!0}.bind(this));this.a.addEventListener(h.Lc,function(){this.cq=!1}.bind(this));this._super()},mj:function(a,b,c,d){this.hc=a||this.hc;this.Pa=b?Math.round(b/1E3):this.Pa;this.rk=c||this.rk;this.Yn=d||this.Yn;this.hc&&!this.ke?this.rh():this.Gg&&this.Gg.removeAttribute("style");this.Pa&&!this.kl&&
this.mk();this.rk&&!this.ke&&this.qH();this.Yn&&!this.ke&&this.mH()},mH:function(){},rh:function(){},mk:function(){},qH:function(){},Jda:function(){this.UG=!1;this.Sa();this.mj()},remove:function(){this.Ox&&this.Ox.dispose();this._super()},sH:function(a){this.Id&&(vdb.f.qj.enabled()&&vdb.f.qj.kd()||vdb.f.W.au&&vdb.b.Da.Xe()&&this.cq)&&(this.hb=vdb.b.createElement("div",{"class":"fullscreen-cell"},this.vh),this.gb=vdb.b.createElement("div",{"class":"fullscreen-button-replay"},this.hb),vdb.b.createElement("div",
{"class":"exit-fullscreen-icon-replay"},this.gb,a),this.gb.addEventListener(vdb.b.za()?"touchend":"click",function(){this.l.Yf()}.bind(this)))},dla:function(){},click:function(){this._super();this.D.dispatchEvent(h.tr);this.a.dispatchEvent(h.bd,{interactionType:g.tr})},vka:function(){return this.UG}}}());vdb.bb.Ya.cb=vdb.c.a.poster.cb.extend(function(){var c=vdb.b,d=vdb.f.W;return{Sa:function(){if(this.ke)this.ea=c.createElement("div",{"class":["skin5-poster-play-button","skin5-poster-corner-button"]},this.sa);else{var b={"class":"skin5-poster-title-ribbon"};c.xg()&&(b.style="bottom: 0;");this.Vn=c.createElement("div",b,this.sa);this.Gg=c.createElement("div",{"class":"skin5-poster-title-ribbon-table",style:"visibility: hidden;"},this.Vn);this.vh=c.createElement("div",{"class":"skin5-poster-title-ribbon-row"},
this.Gg);this.Va=c.createElement("div",{"class":"skin5-poster-play-button-cell"},this.vh);this.ea=c.createElement("div",{"class":"skin5-poster-play-button"},this.Va,'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="36.813 0 22 22"><path d="M47.813,1.126c5.424,0,9.862,4.431,9.862,9.874s-4.438,9.873-9.862,9.873s-9.862-4.43-9.862-9.873 S42.39,1.126,47.813,1.126 M47.813,0c-6.069,0-11,4.918-11,11s4.931,11,11,11s11-4.918,11-11S53.883,0,47.813,0L47.813,0z"/><g class="medium-ring-arc"><clipPath id="medium-ring-clip-path"><path d="M47.813,1.126c5.424,0,9.862,4.431,9.862,9.874s-4.438,9.873-9.862,9.873s-9.862-4.43-9.862-9.873 S42.39,1.126,47.813,1.126 M47.813,0c-6.069,0-11,4.918-11,11s4.931,11,11,11s11-4.918,11-11S53.883,0,47.813,0L47.813,0z"/></clipPath><polygon points="36.813,0 36.813,22 47.813,11" fill="currentColor" clip-path="url(@func-iri-prefix#medium-ring-clip-path)"/></g></svg> ');
this.Od=c.createElement("div",null,this.vh);this.kl||(this.fd=c.createElement("div",{"class":"skin5-poster-duration-container"},this.sa),c.xg()&&(this.fd.style.bottom="72px"));this.sH('<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27.6 21.8"><path d="M4.6,0H2.3v2.3H0v2.3h4.6V0z M4.6,17.2H23V4.6H4.6V17.2z M8.1,8h11.4v5.8H8.1V8z M25.3,2.3V0H23v4.6h4.6V2.3 H25.3z M23,21.8h2.3v-2.3h2.3v-2.3H23V21.8z M0,19.5h2.3v2.3h2.3v-4.6H0V19.5z"/></svg>')}this.he=c.createElement("div",{"class":["skin5-poster-"+
(this.Id?"re":"")+"play-icon","poster-control"]},this.ea,this.Id?'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.1 49.2"><path d="M24.5,49.1C11,49.1,0,38.1,0,24.6C0,11.1,11,0.1,24.5,0.1c11,0,20.8,7.4,23.7,18.1l0.1,0.2l0.1,0.2h4.7L45,26.6 l-8.1-8.1h5.6l-0.3-0.8C39.3,10.5,32.4,6,24.7,6C14.3,6,5.9,14.4,5.9,24.7c0,10.3,8.4,18.7,18.7,18.7c7.2,0,13.8-4.1,16.9-10.6 l4.2,4.1C41.3,44.4,33.2,49.1,24.5,49.1z"/></svg>':'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 10"><path d="M0,9.5C0,9,0,0.9,0,0.6c0-0.4,0.3-0.7,0.7-0.5c0.3,0.2,5.6,4.1,6.1,4.4c0.3,0.2,0.3,0.7,0,1 C6.4,5.7,1.1,9.7,0.7,9.9C0.4,10.2,0,9.9,0,9.5z"/></svg>')},
Lf:function(){this.ke||vdb.j.U.bind(window,"resize",function(){this.mj()}.bind(this));this._super()},rh:function(){function b(a,b){d.innerHTML="";d.setAttribute("class","skin5-poster-title-cell-"+a+"-font");g=c.zc(d);d.setAttribute("style","line-height: "+g/b+"px;");d.innerHTML=h}var a=this.Gg,d=this.Od,g,h=this.hc;a.setAttribute("style","visibility: hidden;");b("large",1);c.zc(d)>g&&(b("medium",2),c.zc(d)>g&&(b("small",3),c.zd(h,d,g)));d.removeAttribute("style");a.removeAttribute("style")},mk:function(){this.fd&&
(d.toggle(this.fd,this.Pa),this.fd.innerHTML=d.kb(this.Pa))}}}());vdb.F.na(".skin5-poster-title-ribbon{padding:0 24px;width:100%;height:100px;background-color:rgba(34,34,34,0.85);position:absolute;bottom:18px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;display:table}.skin5-poster-title-ribbon-table{display:table;height:100%;width:100%}.skin5-poster-title-ribbon-row{display:table-row}.skin5-poster-title-ribbon-row>div{display:table-cell;vertical-align:middle}.skin5-poster-play-button-cell{width:1px}.skin5-poster-title-cell-large-font,.skin5-poster-title-cell-medium-font,.skin5-poster-title-cell-small-font{max-width:450px;font-family:Arial;color:#d0d0d0;padding:15px 0 15px 15px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative}.skin5-poster-title-cell-large-font{font-size:28px}.skin5-poster-title-cell-medium-font{font-size:18px;line-height:22px}.skin5-poster-title-cell-small-font{padding-top:30px;font-size:15px;line-height:18px}.skin5-poster-duration-container{position:absolute;bottom:90px;left:112px;font:11px/11px Arial;color:#8e8f8d}.skin5-poster-corner-button{position:absolute;left:calc(50% - 32px);top:calc(50% - 32px)}.skin5-poster-play-button{width:65px;height:65px;border-radius:73px;background-color:rgba(0,0,0,0.85);padding:4px;position:relative}.skin5-poster-play-button.skin5-poster-resume-ad-button{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.skin5-poster-play-icon{position:absolute;width:13px;height:21px;top:calc(50% - 10px);left:calc(50% - 5px)}.skin5-poster-replay-icon{position:absolute;width:36px;height:35px;top:calc(50% - 17px);left:calc(50% - 17px)}.skin5-poster-play-button .player-icon{fill:#d0d0d0}.skin5-poster-play-button .medium-ring-arc{display:none}.fullscreen-button-replay{width:40px;height:40px;margin-top:10px}.exit-fullscreen-icon-replay{display:block}");vdb.c.a.pV=vdb.L.Class.extend(function(){var c=vdb.o.ha;return{k:function(d,b){this.rb=d||{};this.rb.skipSettings={};this.bs=b.La(c.xk);this.S=b.La(c.Bc);this.S.pa(vdb.g.Xa.I2)&&(this.rb.adStrategy=vdb.o.eo.nW);var a=this.rb.adStrategy===vdb.o.eo.uA&&0<(this.rb.asids||this.rb.aeg||[]).length;this.rb.chromeHackPreinitialisation="chrome"===vdb.b.Da.name&&a&&!!this.rb.midrollTiming&&this.bs.$F();this.rb.maxAdsCount=this.rb.maxAdsCount||99999999},ak:function(c){var b=!1;c=(c="function"===typeof c.aa?
c.aa():void 0)?c.videoUrls:[];c.length&&c[0]&&-1!==c[0].indexOf("uplynk")&&(b=this.rb.useSsai);return b},zt:function(){return this.rb.adStrategy},K9:function(){return this.rb.softTimeout},T8:function(){return this.rb.hardTimeout},e9:function(){return this.rb.maxAdSearchTime},g9:function(){return this.rb.maxLinearShowTime},Ht:function(){return this.rb.midrollTiming},k9:function(){return this.rb.overlayTiming},update:function(c,b){if("string"===typeof c)this.rb[c]=b;else for(var a in c)Object.prototype.hasOwnProperty.call(c,
a)&&(this.rb[a]=c[a])},nU:function(c){this.rb.midrollTiming=c},kfa:function(c){this.rb.overlayTiming=c},gh:function(){return this.rb.autoplay},Uja:function(){return this.rb},Eda:function(c){this.rb.isBrandedContent=c},lfa:function(c){this.rb.skipSettings=c},J9:function(){return this.rb.skipSettings},h8:function(){return this.rb.asids},f8:function(){return this.rb.aeg},v9:function(){return this.rb.podSize},Gda:function(c){this.rb.clickThroughUrl=c},s8:function(){return this.rb.clickThroughUrl},m8:function(){return this.rb.isBrandedContent},
A9:function(){return this.rb.publisherPayout},G8:function(){return this.rb.domainOptimisation},f9:function(){return this.rb.maxAdsCount},y9:function(){return this.rb.prerollInterleave},r8:function(){return this.rb.chromeHackPreinitialisation},t8:function(){return this.rb.companions}}}());vdb.c.AR={};
vdb.c.AR.GZ=vdb.L.Class.extend(function(){function c(){this.AC&&(this.AC.Ma(),this.AC=null);f.call(this)?(this.AC=k.group(k.bind(this.a,h.yb,a.bind(this)),k.bind(this.a,h.Ra,c.bind(this)),k.bind(this.a,h.eb,b.bind(this)),k.bind(this.a,h.Kg,d.bind(this))),"notlive"===this.du&&(this.du="liveon",this.a.dispatchEvent(h.vo))):b.call(this)}function d(){this.CD=k.Ca(this.a,h.cf,b.bind(this))}function b(){this.du="notlive";this.a.dispatchEvent(h.cm)}function a(){this.du="liveoff";this.a.dispatchEvent(h.cK)}function f(){var a=
this.l.aa();return!!(a&&a.metadata&&a.metadata.live)}var g=vdb.log.Q("LiveManager"),h=vdb.g.B,k=vdb.j.U;return{k:function(a,b){g.debug("init");this.l=a;this.a=a.ua();this.du="notlive";new vdb.Za.IY(a,b);k.group(k.bind(this.a,h.Db,c.bind(this)),k.bind(this.a,h.ho,c.bind(this)));c.call(this)},nda:function(){var a,b;f.call(this)&&(a=vdb.c.a.video.ia.Bh.B$,b=vdb.c.a.Jc.pb(),a=a&&a.liveSyncPosition||b.getDuration()-15,b.seek(a),b.Vh()||(this.du="liveon",this.a.dispatchEvent(h.vo)))}}}());vdb.c.j={};vdb.c.j.UB=vdb.j.Event.extend({k:function(c,d,b,a){this._super(c);this.time=d;this.zl=b;this.JG=a},time:0,zl:0,toString:function(){return"TimeQueueEvent{type="+this.type+", time="+this.time+", percent="+this.zl+"}"}});var Ab=vdb.c.j.UB;Ab.Rb="midroll";Ab.yga="decile";Ab.fg="overlay";Ab.uc="preroll";vdb.c.f.K1=vdb.L.Class.extend(function(){function c(c,d){var l=c.Gs||[];0<(c.jy||[]).length&&(0<l.length&&(l=l.filter(function(a){return a.adType!==vdb.o.nd.Rb})),Array.prototype.push.apply(l,c.R6()));if(0<vdb.f.W.pF(l)&&d.zt()===b.UI){for(var m=[],n=0;n<l.length;n++)if(l[n].adType===f.Rb){var p=l[n].unit,s=l[n].value;p===g.M0?m.push("00:00:"+("0"+s).slice(-2)):p===g.G_&&m.push(s+"%")}this.add(a.Rb,m)}else this.add(a.Rb,d.Ht()),this.add(a.fg,d.k9())}var d=vdb.log.Q("TimeQueue"),b=vdb.o.eo,a=vdb.c.j.UB,
f=vdb.o.nd,g=vdb.c.o.M1;return{k:function(a){this.K3=a;this.Xo=[];this.Mw=this.Sk=null},L$:function(a,b,f){d.debug("initQueue",a,"videoDurationInSeconds",b);this.Xo=[];this.Sk=b;this.Mw=0;c.call(this,a||{},f)},add:function(a,b,c){if(b&&(c=Boolean(c),d.debug("add",a,b,c),b=Array.isArray(b)?b:b.split(";"),0!==b.length)){for(var f=null,g=0,p=0;p<b.length;p++){var s=b[p].trim();""!==s&&(-1===s.indexOf("%")?f=vdb.b.Wu(s):(g=Number(s.substr(0,s.length-1)),f=this.Sk*g/100),f=new vdb.c.f.L1(f,a,g,c,s),d.debug("add",
f),this.Xo.push(f))}this.Xo.sort(function(a,b){return a.time-b.time})}},check:function(b){for(var c={},f=this.Mw;f<this.Xo.length;f++){var g=this.Xo[f];if(b>=g.time){var n=!0;g.aP&&(c[g.type]?n=!1:c[g.type]=!0);n&&(g=new a(g.type,g.time,g.zl,g.JG),d.info("Fire",g),this.K3.dispatchEvent(g));this.Mw++}else break}},reset:function(){this.Mw=0;this.Xo=[]}}}());vdb.c.Br=vdb.L.Class.extend(function(){function c(){b.warn("Can't load related videos");this.Ps()}function d(a){this.HQ.call(this,a.data.videos)}var b=vdb.log.Q("RelatedLoader");return{k:function(a,b){this.Ps=a;this.D=b},fl:function(a){var b=vdb.T.bh();vdb.te.get(vdb.T.mc.xQ(a.videoId,b.pid,b.bcid),null,d.bind(this),c.bind(this))},HQ:function(a){a=new vdb.u.mo({id:"",videos:a},this.D);this.Ps(a)}}}());vdb.c.HB=vdb.c.Br.extend({k:function(c,d,b){this.ta=c;this.os=b;this._super(d)},HQ:function(c){c&&0<c.length?(c={id:"",videos:this.ta.Ae().Nt().concat(c)},this.ta.Oz(c),this.os||this.ta.Kl(c.videos.length)):this.Ps()}});vdb.Dg={};vdb.Dg.kL={Ov:"impressions",sW:"creativeViews",Er:"starts",iK:"midpoints",er:"firstquartiles",Ir:"thirdquartiles",QA:"completes",ff:"mutes",gg:"unmutes",uj:"pauses",x0:"rewinds",UK:"resumes",mY:"fullscreens",wJ:"expands",OI:"collapses",QU:"acceptInvitations",gW:"closes",S0:"skips",od:"clicks"};vdb.Dg.p0=vdb.L.Class.extend(function(){function c(){this.Wc=[];this.xp.forEach(function(a,b){"linear"===a.type&&d.call(this,a,b)}.bind(this))}function d(c,d){var h=c.ads,m=f.call(this,d)||c.timeOffset||0;this.gG=null;h.forEach(function(c,f){var h={duration:c.duration,oy:c.duration,S5:m,Ol:this.gG&&this.gG.Ol||m||0,position:0<m?l.Rb:l.uc,qP:[],PF:[]};c.apiFramework&&c.apiFramework.toLowerCase()===vdb.o.xI.IL&&(h.oy=a.call(this,d,f).endTime-h.Ol);h.vla=h.Ol+h.oy;var n=h.qP,s={},z=c.events.clickthroughs;
z&&(s.Ap={url:z[0]});n.push(s);b(c.companions,h.qP);g(c.events,h.PF);0<f||!(n=this.xp[d].events[k.Ov])||(h.PF=h.PF.concat(n));this.Wc.push(h);this.gG=h}.bind(this))}function b(a,b){if(0!==a.length){var c={v6:[]};a.forEach(function(a){var b=c.v6,d={ida:[]};d.width=a.width;d.height=a.height;d.Qia=a.expandedWidth;d.Pia=a.expandedHeight;d.dia=a.adSlotId;d.ida.push({nz:a.mimeType,value:a.creative});b.push(d)});b.push(c)}}function a(a,b){return m.find(this.Oba,function(c){return c.breaksIndex===a&&c.adsIndex===
b})}function f(a){var b=m.find(this.LO,function(b){return b.index===a});return b?b.timeOffset:null}function g(a,b){(a[k.IMPRESSION]||[]).forEach(function(a){b.push({url:a,type:h.IMPRESSION})})}var h=vdb.o.Hf,k=vdb.Dg.kL,l=vdb.o.nd,m=vdb.b;return{k:function(a,b){this.eG=a;this.Sba=a.playURL;this.Ia=b;this.parse(a.ads||{})},parse:function(a){this.LO=a.breakOffsets||[];this.Oba=a.placeholderOffsets||[];this.xp=a.breaks||[];c.call(this);this.lq=[];if(0!==this.xp.length){a=(a=this.Ia.aa())&&a.metadata.live;
for(var b,d,f=0;f<this.xp.length;f++)b=(b=this.LO[f])?this.xp[b.index]:this.xp[f],d=b.timeOffset,(0!==d||a)&&"linear"===b.type&&b.duration&&this.lq.push(d)}},QE:function(a){return this.Wc.filter(function(b){return b.S5===a})},BQ:function(){return this.Wc.reduce(function(a,b){return a+b.oy},0)},Fd:function(a){return this.Wc.reduce(function(b,c){return b+(a>=c.Ol?c.oy:0)},0)},jF:function(){var a=[];this.lq.forEach(function(b){var c=Math.floor(b/3600),d=Math.floor(b%3600/60);b=Math.floor(b%60);10>c&&
(c="0"+c);10>d&&(d="0"+d);10>b&&(b="0"+b);a.push(c+":"+d+":"+b)});return a.join(";")},V9:function(){return this.eG.prefix},F9:function(){return this.eG.sid},Ht:function(){return this.lq}}}());vdb.Dg.s1={Er:"start",N0:"seek",rha:"pingMidrollUpdate"};vdb.Dg.b0=vdb.L.Class.extend(function(){function c(a,b){var c=this.Ia.aa(),f=c&&c.metadata.live;setTimeout(function(){a.v=3;a.pt=a.ev===n.Er&&f?0:this.Eb.Ea();d.call(this,this.s4+"?"+vdb.b.Wf(a),b)}.bind(this),100)}function d(a,c){clearTimeout(this.F4);c?(this.lx.push(a),b.call(this)):this.F4=setTimeout(function(){this.lx.push(a);b.call(this)}.bind(this),100)}function b(){this.eD||0===this.lx.length||(this.eD=vdb.te.get(this.lx.shift(),null,a.bind(this),f.bind(this)))}function a(a){var c=a.data;a=
c&&c.next_time;if(c=c&&c.ads){for(var d,f,h=c.breaks,g=0;g<h.length;g++)d=h[g].timeOffset,-1===this.SM.indexOf(d)&&(this.SM.push(h[g].timeOffset),f=!0);f&&this.kN&&this.kN({Wc:c})}a&&-1!==a&&(this.vx=this.eD=null,this.gx=a,b.call(this))}function f(){this.gx=this.eD=null;b.call(this)}function g(){this.lx=[];c.call(this,{ev:n.Er})}function h(a){this.vx||(this.vx=a.data.currentTime)}function k(){c.call(this,{ev:n.N0,ft:this.vx},!0)}function l(){this.If&&(this.If.Ma(),this.If=null)}var m=vdb.j.so,n=vdb.Dg.s1,
p=vdb.j.U;return{k:function(a,b,c,d){this.SM=[];this.Eb=c;this.s4=a+"/session/ping/"+b+".json";this.ic=d;this.Ia=d.La(vdb.o.ha.Kc);this.If=p.group(p.bind(this.Ia,m.Db,g.bind(this)),p.bind(this.Ia,m.eb,l.bind(this)),p.bind(this.Ia,m.Ai,h.bind(this)),p.bind(this.Ia,m.jf,k.bind(this)),p.bind(this.Ia,m.zb,this.pq.bind(this)))},pq:function(){this.gx&&this.Eb.Ea()>this.gx&&(this.gx=null,c.call(this,{}))},CG:function(a){this.vx=a.data.currentTime},xba:function(a){this.kN=a}}}());vdb.Dg.p1=vdb.L.Class.extend(function(){function c(){return this.$ha&&0===this.us.pathname.indexOf("/channel")?"channel/":""}function d(){var a=this.mf.QE(0);0<a.length&&this.rm.push({Ql:a,type:s.uc,mP:0});this.ZC.forEach(function(a){var b=this.mf.QE(a);this.rm.push({Ql:b,type:s.Rb,mP:0,lq:Math.floor(a)})}.bind(this))}function b(){this.ZC.forEach(function(a){var b=this.mf.QE(a);this.rm.push({Ql:b,type:s.Rb,mP:0,lq:Math.floor(a)})}.bind(this))}function a(){-1!==this.sN.indexOf("ad.cping=1")&&(this.su=
new vdb.Dg.b0(this.mf.V9(),this.mf.F9(),this.Eb,this.ic),this.su.xba(function(a){this.Eb.Bq(this.mf.BQ());this.mf.parse(a.Wc);this.ZC=this.mf.Ht();b.call(this)}.bind(this)))}function f(b){this.D4=b.data;this.mf=new vdb.Dg.p0(this.D4,this.Ia);this.Pr.nU(this.jF());a.call(this);this.Eb.kT(!0);this.Wa.sea=this.mf.Sba;this.Eb.Bq(this.mf.BQ());this.ZC=this.mf.Ht();d.call(this);this.qs.resolve(this.rm)}function g(){this.qs.reject()}function h(a){a=a.data.urls||[];for(var b,c=0;c<a.length;++c)if(n.vR(a[c])){b=
a[c];break}b?l.call(this):this.qs.reject()}function k(){if(this.Wa){var a=vdb.b.U8(this.Wa);this.se=this.Wa.videoUrls[a];this.sN=(this.us=vdb.f.Ua.hk(this.se))&&this.us.zS||"";this.t3=this.us?n.O8(this.us.pathname,!1):""}}function l(){k.call(this);vdb.te.get(this.Rk.Qp("hls")+"/preplay/"+c.call(this)+this.t3+".json"+this.sN,null,f.bind(this),g.bind(this))}var m=vdb.log.Q("SsaiAdEntriesLoader"),n=vdb.b,p=vdb.o.ha,s=vdb.o.nd;return{k:function(a,b,c){m.debug("init");this.ic=a;this.Pr=b;this.da=c;this.rm=
[];this.S=this.ic.La(p.Bc);this.p4=this.ic.La(p.wB);this.Rk=this.ic.La(p.xj);this.Ia=this.ic.La(p.Kc);this.Eb=this.ic.La(p.Yq)},load:function(a){m.debug("loading SSAI");this.Wa=this.Ia.aa();this.qs=new vdb.bc;k.call(this);if(a===s.Rb||a===s.fg)this.qs.resolve(this.rm);else{a=this.Pr.ak(this.da.Ae());var b=n.vR(this.se),d=this.Pr.zt()===vdb.o.eo.UI,f=!this.S.pa(vdb.g.Xa.G2);a&&f&&b&&d?(a=this.p4.B8(),a=this.Rk.C8(this.Wa.id,a),a=a.replace("#CHANNEL",c.call(this)),vdb.te.get(a,null,h.bind(this),g.bind(this))):
l.call(this)}return this.qs.qb()},Fd:function(a){return this.mf&&this.mf.Fd(a)||0},jF:function(){return this.mf&&this.mf.jF()},L8:function(a,b){a=a||s.uc;for(var c=[],d=0;d<this.rm.length;d++){var f=this.rm[d];f.type!==a||b&&f.lq!==b||c.push(f)}return c&&c[0]},pq:function(){this.su&&this.su.pq()},CG:function(a){this.su&&this.su.CG(a)}}}());vdb.Dg.r1=vdb.xb.extend(function(){function c(){if(this.pc){for(var a=this.pc.Ql[0][k.Ov]||[],b=0;b<a.length;b++)this.He.Mf(a[b].url);this.dispatchEvent(new q(q.STARTED,{adType:this.pc.type}))}}function d(){this.pc&&this.dispatchEvent(new q(r.PAUSE_REQUESTED,{adType:this.pc.type}))}function b(){this.pc&&this.dispatchEvent(new q(q.RESUMED,{adType:this.pc.type}))}function a(){this.pc&&this.dispatchEvent(new q(q.PAUSED,{adType:this.pc.type}))}function f(){if(this.pc){var a=this.display.Ea()-this.pc.Ql[0].Ol,
b=this.getDuration();this.dispatchEvent(new q(q.TIME_UPDATE,{adType:this.pc&&this.pc.type,progressPercent:a/b*100,timeRemaining:b-a}));this.wf.pq();1<=(this.display.Ea()-this.pc.Ql[0].Ol)/this.getDuration()&&this.Bba()}}function g(){this.pc&&this.dispatchEvent(new q(q.WAITING,{adType:this.pc.type}))}function h(){this.pc&&this.dispatchEvent(new q(q.VOLUME_CHANGED,{adType:this.pc.type}))}var k=vdb.Dg.kL,l=vdb.o.nd,m=vdb.j.U,n=vdb.j.Ba,p=vdb.o.ha,s=window.oath.ads.sdk,q=s.AdEvent,r=s.ContentEvent,t=
s.AdBreakEvent;return{k:function(k,l,r){this._super();this.A=k.La(p.Bc);this.Qj=k.La(p.Kc);this.He=k.La(p.Yv);this.display=k.La(p.Yq);this.wf=new vdb.Dg.p1(k,l,r);this.Rj=m.group(m.bind(this.display,n.mm,d.bind(this)),m.bind(this.display,n.yb,a.bind(this)),m.bind(this.display,n.zi,b.bind(this)),m.bind(this.display,n.Lo,c.bind(this)),m.bind(this.display,n.zb,f.bind(this)),m.bind(this.display,n.Dc,h.bind(this)),m.bind(this.display,n.kf,g.bind(this)))},load:function(a){function b(a){a?this.dispatchEvent(new q(q.FINISHED)):
this.dispatchEvent(new q(q.LOADED))}return this.wf.load(a&&a.type).then(b.bind(this,!1)).catch(b.bind(this,!0))},play:function(a,b){a=a||l.uc;if(this.pc)vdb.j.U.Ca(this,q.FINISHED,this.play.bind(this,a,b));else if(this.pc=this.wf.L8(a,b)){switch(a){case l.uc:this.display.Uda(this.Qj.aa());break;case l.Rb:this.display.seek(this.pc.Ql[0].Ol||-1),c.call(this),this.display.Pda()}this.display.play()}else this.dispatchEvent(new q(t.FINISHED,{adType:a,adPodsPlayed:0,reason:vdb.o.vI.sK}))},pause:function(){},
resume:function(){},resize:function(){},setVolume:function(a){this.display.setVolume(a)},mute:function(){this.display.mute(!0)},unmute:function(){this.display.mute(!1)},Fd:function(){return this.wf.Fd()},Bba:function(){if(this.pc){var a=this.display.Ea()-this.pc.Ql[0].Ol;this.pc=null;this.display.Na().style.cursor="auto";a=new q(t.FINISHED,{currentTime:a,adType:this.pc.type});this.wf.CG(a);this.dispatchEvent(a)}},dispose:function(){},skip:function(){},isPlaying:function(){return this.display.isPlaying()},
getTimeLog:function(){return null},getDuration:function(){return this.pc&&this.pc.Ql[0].duration}}}());vdb.c.a.vV=vdb.xb.extend(function(){function c(){this.RC=!1;return this.Ica.then(function(a){this.adManager=a;this.gA=new vdb.c.a.M2(this.fb.f9(),this,this.a);this.adManager.addEventListener(l.AdEvent.STARTED,function(a){this.d5=a.data.ad}.bind(this));this.a.addEventListener(g.fm,function(a){this.gC.invokeAdMethod("controlsStateChange",a.data)}.bind(this));return this}.bind(this))}function d(){this.RC=!0;this.adManager=new vdb.Dg.r1(this.qn,this.fb,this.l);return vdb.Promise.resolve(this)}function b(a,
b){this.yz&&(this.display.ES(vdb.j.Ba.zi,this.yz),this.yz=null);this.adManager.play(a,b)}var a=vdb.log.Q("AdManagerController"),f=vdb.o.nd,g=vdb.g.B,h=vdb.j.U,k=vdb.o.ha,l=window.oath.ads.sdk,m=l.AdBreakEvent;return{k:function(b,c,d,f,h){a.debug("init");this.qn=b;this.fb=d;this.a=f;this.l=f.l;this.D=this.l.getContext();this.Qj=b.La(k.Kc);this.A=b.La(k.Bc);this.state="idle";this.KD=this.A.No&&!h;this.display=vdb.c.a.Jc.pb();this.KD&&(this.ks=200,this.xc=new vdb.j.ne,this.fb.update({midrollTiming:null,
podSize:1,prerollInterleave:0}));b=this.A.Bt();this.gC=new l.AdManagerStarter;this.Ica=this.gC.createAdsManager({adStrategy:this.fb.zt(),playerId:b.pid,playlistId:b.bid,vvuid:b.vvuid,playerType:b.pt,sid:b.sid,jsVersion:b.pv,buyerCompanyId:b.bcid,timeouts:{hard:this.fb.T8(),soft:this.fb.K9()},aggressiveMode:this.A.No,companionSlots:this.fb.t8(),asids:this.fb.h8(),aeg:this.fb.f8(),podSize:this.fb.v9(),prerollInterleave:this.fb.y9(),domainOptimisation:this.fb.G8(),chromeHackPreinitialisation:this.fb.r8(),
publisherPayout:this.fb.A9(),isBrandedContent:this.fb.m8(),clickThroughUrl:this.fb.s8(),geo:this.A.Bm,macros:this.A.Ui(),autoplay:this.A.gh(),overrideUrls:this.D.Qp(),maxAdSearchTime:this.fb.e9(),maxLinearShowTime:this.fb.g9(),slot:c.e5,skipSettings:this.fb.J9(),video:[this.display.vQ(),this.display.h9()],fakeViewability:!this.A.gh()||this.D.Ga.h$(),GDPRData:this.A.tw,autoplayDetector:this.l.i8()})},addEventListener:function(a,b){this.adManager.addEventListener(a,b)},dispatchEvent:function(a,b){this.adManager.dispatchEvent(a,
b)},Fd:function(a){return this.RC?this.adManager.Fd(a):0},d9:function(){return this.adManager.getTimeLog()},getDuration:function(){return this.adManager.getDuration()},getLeftAdCount:function(){return this.adManager.getLeftAdCount()},getVolume:function(){return this.adManager.getVolume()},isMuted:function(){return this.adManager.isMuted()},isPlaying:function(){return this.adManager.isPlaying()},ak:function(){return this.RC},eu:function(b,c){function d(a){var b=vdb.b.vg(a,["data","atpData"],"");b&&
g.A.Bda(b);a=a&&a.data&&a.data.timings||{};a[f.Rb]&&g.fb.nU(a[f.Rb]);a[f.fg]&&g.fb.kfa(a[f.fg]);g.qe&&g.qe.Ma();g.state="adloaded";c()}var g=this;b=b||{};b.currentVideo=this.Qj.aa()||{};b.currentVideo.time=this.Qj.FQ();b.currentVideoIndex=this.Qj.yc();b.loadTimeLimit=this.A.UC;b.vvuid=this.A.Bt().vvuid;this.state="adloading";this.A.iC?(a.debug("Ads disabled - abort loading ads"),d()):this.gA&&!this.gA.sR()?(a.debug("Max number of ads for the current video reached - abort loading ads"),d()):(this.KD&&
this.xc.Li(h.Ca(this.adManager,l.AdBreakEvent.FINISHED,function(a){a&&a.data&&0===a.data.adPodsPlayed?(setTimeout(this.eu.bind(this,{type:f.Rb},this.Ou.bind(this,f.Rb)),this.ks),this.ks=Math.min(this.ks*=2,800)):(this.ks=200,this.eu({type:f.Rb},this.Ou.bind(this,f.Rb)))}.bind(this))),this.qe&&this.qe.Ma(),this.qe=h.empty(),h.Ca(this.adManager,l.AdEvent.LOADED,d).link(this.qe),h.Ca(this.adManager,l.AdEvent.FINISHED,d).link(this.qe),this.adManager.load(b))},mute:function(a){a?this.adManager.mute():
this.adManager.unmute()},nextAd:function(){this.adManager.nextAd()},Lba:function(){this.adManager.pause()},removeEventListener:function(a,b){this.adManager.removeEventListener(a,b)},lda:function(){this.adManager.resume()},setVolume:function(a){this.adManager.setVolume(a)},Qz:function(a){return!this.fb.ak(a)&&!vdb.f.Ua.fc("ssai")||this.Qj.D.J.a.l.Lj?c.call(this):this.fb.zt()===vdb.o.eo.uA?d.call(this):this.Qj.dQ().then(function(a){return a?d.call(this):c.call(this)}.bind(this))},skip:function(){this.adManager.skip()},
Ou:function(a,c){a=a||vdb.o.nd.uc;this.A.iC||this.gA&&!this.gA.sR()?this.dispatchEvent(new m(m.FINISHED,{adType:a,adPodsPlayed:0})):this.display.Vh()&&a!==vdb.o.nd.uc?(this.yz=b.bind(this,a,c),this.display.Sc(vdb.j.Ba.zi,this.yz)):(this.a.dispatchEvent(g.lI,{type:a}),b.call(this,a,c))},stop:function(){this.KD&&this.xc.Ma();this.adManager.dispose()},Op:function(){return this.d5},R$:function(){return"adloading"===this.state},getPixelsLog:function(){return this.gC.getPixelsLog()},Q$:function(){return"adloaded"===
this.state}}}());vdb.c.a.qV={zca:function(c,d,b){var a=d.Ae();this.Uk=new vdb.c.a.vV(c,d.$E(),d.At(),d.ua(),b);return this.Uk.Qz(a)}};vdb.c.a.JK={};vdb.c.a.nP={};
(function(c){c.Yp=!1;c.JK=vdb.xb.extend({});c.nP=function(d,b,a){function f(a){a.ZP&&(a.code===MediaError.MEDIA_ERR_DECODE||a.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED?(sa.gj(a),qc.pk(a),lb.reset(),a=P.yc(),-1===Cb.indexOf(a)&&(Q.debug("onVideoError","mark video as failed","index",a),Cb.push(a)),mb(),sa.Ic(H)):a.code===MediaError.MEDIA_ERR_NETWORK&&b.jt(ha,{title:"Network Error",description:"Sorry, a network error caused the video download to fail. Please refresh and try again.",code:14}))}function g(a){var b;
b=a.currentTime;var c=G&&G.Fd(b)||0;b-=c;ka.pq(a.currentTime);sa.K7(b);La.N7(b);ba(F.zb,{currentTime:a.currentTime,duration:a.duration,durationWithoutAds:a.Ph,percentBuffered:rc(a.duration,a.buffered)});lb.check(ka.Ea())}function h(a){T?T.lT(a):d.addEventListener(F.Eh,function(b){b.data.lT(a)})}function k(a){ba(F.Dc,{volume:a.volume,muted:a.muted})}function l(){ba(F.yb);ka.KT();sa.Cba()}function m(a){xa();ka.yn();H.Hfa=ya;oa(H);sa.L7();La.J7();ab();bb(!1);ba(F.Db,{duration:a.duration,stopOnEnd:1===
la&&1<P.qa.length&&!0})}function n(){ab();ba(F.Ra);ka.tea();sa.yn();Wb=!1}function p(a){ka.wba(a,H);sa.Pn(a.Ph);La.Pn(a.Ph);H.jR&&H.xe&&(ha.style.background='url("'+H.xe+'") no-repeat center/contain '+b.bgColor);ba(F.Mc,{duration:a.duration,durationWithoutAds:a.Ph});lb.L$(H,ka.DF(),Db)}function s(a){Eb=a;setTimeout(q,0)}function q(){ma=ma||Da||a.autoplay&&vdb.Ho.Us(P.Be(0))&&b.pa(cb.XZ)&&ta.Da.Xe();var c=sc.La(vdb.o.ha.Bc).No;Eb&&!c?(d.dispatchEvent(F.Ko),ua(ma||b.T.tv?null:function(){Da=!0;T.oh();
T.Ju(null);A.detach();b.xT()}),A.Z()):(Xb=!0,ka.GG(),G?r():t().then(r))}function r(){Ea=Db.gh()&&(ta.Ve()||b.Tf());d.dispatchEvent(F.Ko);A.stop();Fb?(Fb(),Fb=null):P.wd()&&0===za&&ma?Z(0):(T&&(Ea=!1),ma||Ea||0!==za?0!==za&&na.Ca(b,F.qI,nb):Gb(),ma?db.getCanAutoplay().then(function(a){a===ob.xv?(ma=Ea=!1,Gb(),P.kH(0),da()):Z(0)}):(P.kH(0),da()))}function t(){var a=b.Ub();return vdb.c.a.qV.zca(a,Y,Eb).then(function(b){G=b;b=a.La(vdb.o.ha.Bc).UC;Yb=new vdb.c.a.SZ(Y,!!b);var c=window.oath.ads.sdk;b=c.AdEvent;
var f=c.AdBreakEvent,c=c.ContentEvent;u();G.setVolume(A.getVolume());G.mute(A.isMuted());G.addEventListener(b.LOADED,O);G.addEventListener(b.META,V);G.addEventListener(b.STARTED,aa);G.addEventListener(b.PAUSED,K);G.addEventListener(b.VOLUME_CHANGED,y);G.addEventListener(b.TIME_UPDATE,S);G.addEventListener(b.WAITING,J);G.addEventListener(b.QUARTILE,Zb);G.addEventListener(b.RESUMED,I);G.addEventListener(b.FINISHED,L);G.addEventListener(b.LINEAR_CHANGE,Ra);G.addEventListener(b.SHOW_COMPANIONS,Aa);G.addEventListener(b.SUBTITLES_FOUND,
Hb);G.addEventListener(c.PAUSE_REQUESTED,C);G.addEventListener(f.STARTED,W);G.addEventListener(f.FINISHED,ra);La=new vdb.Gl.H1(d,eb())})}function u(){function a(b){if(ca||G.R$()||Ib)Q.info("Queuing time queue event ",b," reason: blocking ad in place"),Jb.link(na.Ca(G,window.oath.ads.sdk.AdBreakEvent.FINISHED,a.bind(null,b)));else{var c=vdb.b.wc(b);switch(b.type){case pb.uc:c.type=Fa.uc;Ib=!0;break;case pb.Rb:c.type=Fa.Rb;Ib=!0;break;case pb.fg:c.type=Fa.fg;break;default:return}c.originalTime=b.JG;
G.eu(c,G.Ou.bind(G,c.type,c.time))}}Jb=na.empty();Y.addEventListener(pb.Rb,a);Y.addEventListener(pb.fg,a)}function v(){A.yd();tc=Ga&&Ga.ez}function w(){ca||A.Wb.GE(M()&&B())}function z(){var a=M();d.dispatchEvent(F.bd,{interactionType:Ta.yj});La.G7();a&&B()?(uc.uz(a),Ma()&&ia()):!Ga||Ua&&!tc||Ga.Om&&Ga.Om.fq||H.Of||$b()}function B(){var a=H.metadata.clickableTimeInSeconds||0,b=D().currentTime,c=b>=a;Q.debug("Clickthrough is",c?"enabled":"disabled","clickableTimeInSeconds:",a,"currentTime:",b);return c}
function x(){var a=A.Wb&&A.Wb.$t(H);A.ak()||a||Va();A.Ida(H)}function C(a){Q.debug("onAdClicked()","adEvent",a);Ma()?ia():a.data.clickThroughUrl||N();fa.call(this,F.mI,a)}function I(a){Q.debug("onAdResumed()","adEvent",a);xa();fa.call(this,F.Ff,a)}function J(a){Q.debug("onAdWaiting()","adEvent",a);fa.call(this,F.pj,a)}function S(a){Q.debug("onAdTimeUpdate()","adEvent",a);fa.call(this,F.md,a)}function y(a){Q.debug("onAdVolumeChanged()","adEvent",a);fa.call(this,F.zh,a)}function K(a){Q.debug("onAdPaused()",
"adEvent",a);fa.call(this,F.df,a);c.Yp&&!Ga.CT||vc(N)}function aa(a){qb=!1;Q.debug("onAdStarted()","adEvent",a);xa();switch(a.data.adType){case Fa.uc:A.O5();break;case Fa.Rb:A.N5()}ta.Da.Xe()&&a.data.ad.getAdEngineType()!==Kb.TJ&&a.data.apiType!==vdb.o.xI.IL&&!0===rb&&A.webkitEnterFullscreen();ab();bb(!0);fa.call(this,F.lb,a);fa.call(this,F.Ff,a)}function V(a){Q.debug("onAdMeta()",a);fa.call(this,F.cf,a)}function O(a){qb=!1;Q.debug("onAdsLoaded()",a);fa.call(this,F.Sl,a)}function W(a){ca=!0;A.isPlaying()&&
Ua&&(rb=A.Wb.ck(),ta.Da.Xe()&&!A.az()||sb.BO());A.az()&&(Q.debug("Hide main video (midroll started):",a),A.pause(),A.Z());A.g$()||A.Z()}function L(a){a.data&&a.data.error?O(a):(Q.debug("onAdFinished","adEvent",a),a.data&&a.data.ad&&a.data.ad.getAdEngineType()!==Kb.TJ&&(rb=A.ck()),Y.Lj&&Math.max(la--,0),fa.call(this,F.sc,a,{currentTime:a.data&&a.data.currentTime}))}function U(){wc=new vdb.c.a.EV(Y);new vdb.c.a.hZ(Y,wc);sb=new vdb.c.a.tY(Y);xc=(new vdb.c.a.x_(d,b)).vz;ac=new vdb.c.a.UW(tb.fc("coveringtype")||
a.Ya||bc(),b);"0"!==b.pa(cb.tJ)&&(Lb=new vdb.c.ca.Hr(Y));var c=bc();Qc&&(d.addEventListener(F.hm,function(a){Ga=a.data}),d.addEventListener(F.IK,A.Sa.bind(A)),yc=new vdb.c.a.k1(Y,b),yc.Taa(c));zc=new vdb.c.a.tV(Y)}function E(){Ma()?ia():N()}function N(){T?a.fb.DO||T.wu():(G.lda(),ca||A.play())}function ia(){G&&G.Lba();ca||A.pause()}function Z(a){a=Number(a);Xb?(Q.debug("play","index",a),b.k6(),ca?(Q.debug("play","stop ad"),Na=a,Mb=!0,G.stop(),xa()):(Ea=!0,isNaN(a)||P.kH(a),da())):Fb=function(){Z(a)};
cc()}function da(){Wa&&fb({complete:!1,currentTime:ka.Ea(),Bfa:!0});if(dc=P.wd()||H!==P.aa()){H=P.aa();if(vdb.Ho.Us(H)){var a=(H.metadata.videoProjectionType||"").toLowerCase();H.Of={Bu:ta.A6(vdb.o.video.NK,a)?a:vdb.o.video.NK.FX,Vu:tb.fc("tilt")||b.pa(cb.z1)};!Ac&&vdb.f.Nc.Uj()!==window.top&&Ua&&(Ac=new vdb.c.a.d_(b))}H&&oa(H);A.bda();ec=!1;Nb&&ya!==pa.ef?0!==za&&va():ja()}}function ja(){qb=!1;Ob()?(Q.debug("Load prerolls"),Va(),Ea&&(0<la||Y.Lj||0===a.Lq)?(va(),G.eu(null,function(){Ea&&Pb()})):(Ea=
!1,G.eu(null,function(){va();if(Ea)Pb();else if(0===za||Nb)0<la&&(ma||!T)||Y.Lj&&(a.Lq>la||0===a.Lq)?Qb?Qb.then(function(){T.Ju(Ha)}):Ha():T?T.Ju(Ha):ua(Ha)}))):(va(),ra())}function Ra(a){var b=a&&a.data&&a.data.isLinear;A.az()?b?A.pause():A.play():H?x():da();ra(a);b||(qb=!0)}function ra(a){if(!qb){a=a||{};a.data&&0===a.data.adPodsPlayed&&d.dispatchEvent(F.zA,a);d.dispatchEvent(F.Kg,{type:a.data&&a.data.adType||Fa.uc});var c=ca;Ib=ca=!1;var f=a.data&&a.data.reason,h=f===Bc.sK;if(P.wd())h?(Q.debug("No ads or content - draw error"),
Xa(),b.jt(ha,void 0)):0<la?(Q.debug("Playlist is empty. Run preroll again."),setTimeout(ja,100),Xa()):(gb(),Xa({failed:!0}));else{d.dispatchEvent(F.BA,a);Mb&&Xa();Q.debug("Show main video on event",a);if(-1!==Na)Q.debug("Ad Blocker complete. Play video with index "+Na),Z(Na),Na=-1;else if(!ma&&!Da){ua(function(){cc();Da=!0;A.yd();ub.Zx();xa();Va()});return}f=h||f===Bc.UU;!Mb&&(c||f||a.data&&a.data.adType===Fa.uc)?a.data&&a.data.adType===Fa.Rb?A.mda():ub.Zx():Mb=!1}}}function va(){Cc||(Cc=!0,H?ba(F.$c):
d.dispatchEvent(F.$c,{}));H&&dc&&(dc=!1,oa(H),ba(F.Wd),La.H7())}function fb(a){lb.reset();G.stop();sa.F7(a.currentTime,a.complete);ka.KT();a.complete&&(La.I7(4),A.reset());ba(F.eb,{currentTime:a.currentTime,complete:a.complete,stop:a.complete&&1===la&&1<P.qa.length&&!0});Xa();a.Bfa||(ya=pa.ef,0===--la?0===P.Tj()?Ya(0):gb():(a.complete&&mb(),sa.Ic(H)))}function mb(){var a,c=P.yc(),d=-1,f=!1;if(!ca){do if(a=P.xda(),f||(f=0===a),-1!==Cb.indexOf(a))Q.debug("selectNextVideo","Ignore failed video","index",
a);else{d=a;break}while(a!==c);-1===d?(Q.warn("selectNextVideo","all videos failed"),b.jt(ha,{title:"Playback error",description:"We're sorry, but we can't play any videos in the current playlist. Please try another browser.",code:13})):f?Ya(d):Z(d)}}function Ya(a){Q.debug("onPlaylistEnd");ba(F.zo);0===la?gb():(H=null,Z(a))}function gb(){la=a.Lq;Ua&&(sb.BO(),rb=!1);A.Z();(Y.Lj&&0!==la||1===P.qa.length)&&ua(function(){d.dispatchEvent(F.bd,{interactionType:Ta.yr});A.yd();xa();ya=pa.od;H=null;Z(0)},
!0)}function Gb(){ua(function(){Nb&&ja();Da=!0;A.yd();xa();ya=pa.od;Va()})}function nb(){ua(Ha);A.Z()}function Zb(a){fa.call(this,F.Oq,a,{adStage:a.data.adStage})}function ua(b,c){var f=P.Be(0)||a.rO&&new vdb.u.pm(a.rO);Qb=ac.jQ().then(function(){Qb=null;T?d.dispatchEvent(F.Eh,T):T=new vdb.bb.Ya.cb(d,ha,f,fc,a.uca.toLowerCase()===vdb.c.o.MK.eV&&!za,!!c,Y);ab();c&&Dc.action("replay-poster",null,ka.Ea());b&&T.Ju(b)})}function Ha(){var a;ya=a=za?pa.ef:fc?pa.zk:pa.od;Da=!0;A.yd();gc=!0;xa();Va();Pb();
a===pa.od&&ta.WF()&&Ec()}function hb(a){var b=vdb.b.Da.Xe()&&H&&H.Of&&A.az()||"1"===tb.fc("forcepseudofullscreen");sb.Yf(b,a)}function Ma(){return G&&ca?G.isPlaying():A.isPlaying()}function Za(){return G&&G.Op()}function ib(){Rb=!1;Oa()}function Ba(){Ia()}function vb(){return ca?G.getVolume():A.getVolume()}function Pa(a){var b=Fc(a);Q.debug("Set Volume: "+a+" [normalized: "+b+"]");G.setVolume(b);A.setVolume(b)}function $a(a,b){ca&&!this.Wt()||T||(na.Ca(Sb,X.z2,b),A.seek(a))}function wb(){return ca?
G.isMuted():A.isMuted()}function Oa(a){a&&(ca?a():na.Ca(Sb,X.Dc,a));G&&G.mute(!1);A.mute(!1)}function Ia(a){!ca&&a&&na.Ca(Sb,X.Dc,a);A.mute(!0);G&&G.mute(!0);a&&a()}function bb(b){Wa||(!xb&&Gc&&(xb=new vdb.c.a.f2(d,a.cA)),Wa=!0,d.dispatchEvent(F.ac,{duration:H&&H.metadata.duration/1E3||"",isAd:b}))}function Ob(){var a=P.wd()?[]:H.Gs;if(Db.zt()===Rc.uA||0===a.length)return!0;for(var b=0;b<a.length;b++)if(a[b].adType===Fa.uc)return!0;return!1}function oa(a){sa.Ic(a);La.Ic(a);ka.Aba()}function eb(){hc||
(hc=new vdb.f.b_(b.Ub(),a.fb));return hc}function fa(a,b,c){b=b&&(b.data||b.data)||{};var f=b.ad||b.ad;c||(c={});f&&(c.id=f.getAcid(),c.acid=f.getAcid(),c.asid=f.getAsid(),c.name=f.getName(),c.rid=f.getRuleId(),c.transactionId=f.getTransactionId(),c.type=f.getType(),c.url=f.getUrl(),c.usid=f.getUsid(),c.vendor=f.getVendor(),c.fullsizeThumbnail=f.getFullsizeThumbnail(),c.videoId=f.getVideoId(),c.videoTitle=f.getVideoTitle(),c.videoDuration=f.getVideoDuration(),c.overlayURL=f.getOverlayURL());c.adType=
b.adType;c.type=b.adType;c.adIconsContainer=b.adIconsContainer;c.adId=b.adId;c.creativeId=b.creativeId;c.currentTime=b.currentTime;c.duration=b.duration;c.muted=b.muted;c.parameters=b.parameters;c.progressPercent=b.progressPercent;c.timeRemaining=b.timeRemaining;c.volume=b.volume;c.error=b.error;d.dispatchEvent(a,c)}function D(){return vdb.b.wc(ka.L9(),{videoId:H?H.id:null,w:d.hd().width,h:d.hd().height,totalAdTime:0,totalAdsCount:0,vpt:ya,sequence:H?H.VR:""})}function Hb(a){Lb&&Lb.i6(a.data.subtitles)}
function Aa(){d.dispatchEvent(F.nI)}function M(){return a.fb.clickThroughUrl||H&&H.metadata.clickUrl}function Tb(){ba(F.ko)}function wa(){ba(F.lo)}function ic(){ba(F.kf)}function jc(a){ba(F.om,{percentBuffered:rc(a.duration,a.buffered)})}function Sc(){ba(F.jf)}function Tc(a){ba(F.Ai,a)}function rc(a,b){var c=b.length,d=0;0<a&&0<c&&(c=b.end(c-1),d=c/a*100);return d}function bc(){return tb.fc("qaptplayerskintype")||a.qc||"skin5"}function Uc(){var a=jb.getVolume();return isNaN(a)?kc:a}function ab(){Ub&&
Ub.Z()}function vc(a){ac.jQ().then(function(){T=new vdb.bb.Ya.mb(ha);T.Ju(function(){T.remove();T=null;a()})})}function cc(){ec||(ec=!0,d.dispatchEvent(F.Gf));setTimeout(function(){ba(F.vj)},0)}function Ec(){!Hc&&a.W7&&(Hc=!0,hb(!0))}function Va(){Ub&&Ub.show()}function Xa(a){d.dispatchEvent(F.Lg,a);Wa=!1}function ba(a,c){H&&(c=c||{},c.id=H.id,c.name=H.title,c.url=H.sea||H.videoUrls[0],c.bcid=b.Ri,d.dispatchEvent(a,c))}function xa(){T&&(A.show(),T.remove(),T=null)}function Fc(a){a=parseFloat(a);a=
isNaN(a)?1:a;return a=1<a?Math.min(a/100,1):a}var Q=vdb.log.Q("PlayerController"),cb=vdb.g.Xa,Ta=vdb.o.Me,na=vdb.j.U,pb=vdb.c.j.UB,uc=vdb.f.W,ta=vdb.b,tb=vdb.f.Ua;c.yT=b.bk?"1"===b.pa(cb.Q0):b.zg?!!b.zg.playerTemplate.controlsSkin:!0;var Ua=!!ta.za(),F=vdb.g.B,X=vdb.j.Ba,Ic=vdb.o.a.ui,Rc=vdb.o.eo,Fa=vdb.o.nd,Kb=vdb.o.sV,pa=vdb.c.o.Kr,Jc=vdb.c.o.CL,lc=vdb.o.a.PB,Bc=vdb.o.vI,ob=vdb.o.yI,Y,lb,ha=d.G,Kc=d.Yc,Xb=!1,Jb,hc,sc,xb,ma=a.autoplay,za=a.Ls||0,ya=ma||za?pa.ef:pa.od,fc=a.wG||!1,Gc=!1,jb=new vdb.c.a.V2(d,
a.Xz,b),kc=Fc(a.volume),Rb=a.Xz===lc.qr;a.volume=kc;a.fb.volume=kc;a.fb.muted=Rb;var la=a.Lq,ec=!1,Ea,P,H,Na=-1,Fb,sb,wc,T,Da,ub,Ub=d.Nu,ac,yc,Lb,Ga,zc,xc,dc=!1,A=vdb.c.a.Jc.pb(b),Cc=!1,Wa=!1,mc=!1,Sb,Cb=[],kb=null,qc,Dc,sa=new vdb.Gl.S2(d,b),La,G,Yb,Qb=null,Hc=!Ua,ca=!1,qb=!1,Ib=!1,Mb=!1,Nb="true"===b.pa(cb.mX),Lc,Db=new vdb.c.a.pV(a.fb,b.Ub()),ka=new vdb.c.a.l0,Qc=function(){var a="1"===b.pa(cb.JJ)||"1"===tb.fc("hideskin"),d=!(ta.Hd&&9===ta.Da.version);a&&vdb.F.A$();return!a&&d&&c.yT}(),tc=!1,gc=
!1,rb=!1,Eb,Ac,db,Pb=vdb.Promise.fI(b.DU,function(){cc();Q.debug("Start prerolls");ta.Zi()&&!gc&&(gc=!0,T||vc(A.play.bind(A)));Yb.Ry()?Yb.Zaa().then(G.Ou.bind(G)).catch(function(){Q.warn("Skipped lookahead ad")}):G.Ou();Ua&&!b.bk&&setTimeout(ab,5E3)}),Wb=!1,$b=E;Y=new (c.JK.extend({k:function(){this._super();this.iS=new vdb.bc},play:Z,Al:function(a,b){H=null;xa();Va();ya=pa.od;Da=!0;A.yd();xb&&!mc&&Oa();b&&d.dispatchEvent(F.bd,{interactionType:b===vdb.o.dJ.uJ?Ta.vJ:Ta.JI});Z(a)},Yca:function(){H=
null;Z(P.yc())},pause:ia,resume:N,Yj:function(){var a=b.J.Qd.initialization;Wa?Wb&&N():a===Ic.Pq||a===Ic.ef?db.getCanAutoplay().then(function(a){a!==ob.xv||T?(ma=!0,0!==za&&Nb?ja():T?N():G.Q$()&&Pb()):nb()}):T||nb()},pu:function(){!sb.kd()&&Ma()&&(ia(),Wb=!0,sa.M7())},stop:function(){Jb&&Jb.Ma();G.stop();A.stop()},fR:function(){return ca},setVolume:Pa,getVolume:vb,ug:function(){return A.ug()},Bg:function(a){A.Kda(a)},oh:function(){A.oh()},Oz:vdb.Promise.fI(b.DU,function(a,c){a instanceof vdb.u.mo||
(a=new vdb.u.mo(a,b));P=a;this.iS.resolve(a);d.dispatchEvent(F.ho);if(c)if("undefined"===typeof Eb){var f=b.iO;f?f.then(s):s(!1)}else setTimeout(q,0)}),Kl:function(b){la=b;a.Lq=b},cP:function(){x();A.show();A.play();ta.Da.Xe()&&!0===rb&&A.webkitEnterFullscreen()},sb:D,Pz:function(a){ya=a},Op:Za,c9:function(){return Lc},xG:mb,gba:function(){var a,c;ca||(a=P.yc(),c=P.yda(),-1!==Cb.indexOf(c)&&Q.debug("selectPreviousVideo","Ignore failed video","index",c),-1===c?(Q.warn("selectPreviousVideo","all videos failed"),
b.jt(ha,{title:"Playback error",description:"We're sorry, but we can't play any videos in the current playlist. Please try another browser.",code:13})):c===a?$a(0):Z(c))},mute:Ia,TH:Oa,isMuted:wb,Ge:$a,Aq:function(a){uc.Ada(ha.ownerDocument,a)},vF:eb,isPlaying:Ma,Yf:hb,ni:E,Xu:function(){wb()?null==vb()?Pa(.1):Oa():Ia()},fba:function(a,b){A.fba(a,b)},Qt:ab,Rba:function(){if(P.wd())Q.debug("Playlist is empty. Run preroll again."),0<la?(setTimeout(ja,100),Xa()):(gb(),Xa({failed:!0}));else{if(-1!==Na)Z(Na),
Na=-1;else if(!ma&&!Da){ua(function(){Da=!0;A.yd();ub.Zx();xa();Va()});return}ub.Zx()}},Dt:function(){return A},getContext:function(){return b},bn:function(){return new vdb.Promise(function(a){Ga?a(Ga):d.addEventListener(F.hm,function(b){a(b.data)})})},Qf:function(){if(H)return H.id;var a=Za();return a?a.getVideoId():""},kQ:function(){if(H)return H.title;var a=Za();return a?a.getVideoTitle():""},aa:function(){return H},yc:function(){return P?P.yc():null},$m:function(){return P?P.$m():null},Tj:function(){return P?
P.Tj():null},Be:function(a){return P?P.Be(a):null},Ae:function(){return P},u9:function(){return this.iS.qb()},ua:function(){return d},$b:function(){return ha},getDuration:function(){return A.Wb.getDuration()},$E:function(){return{e5:Kc,vz:xc}},zF:function(){return Lb},$g:function(){return G},At:function(){return Db},c8:function(){return zc},uR:function(){return Xb},Wj:function(){return Wa},p8:function(){return db.getCanAutoplay().then(function(b){return Wa&&(b!==ob.LA||a.cA!==Jc.V1||mc)})},Bla:a.cA,
Vt:a.Vt,Lj:a.Lj,width:d.hd().width,height:d.hd().height,aA:a.aA,Wt:function(){var a=Za(),a=a&&a.getAdEngineType();return d.W$()&&(a===Kb.m2||a===Kb.yX)},gh:function(){return ma},$y:function(){return za},i8:function(){return db},AQ:function(){return bc()},Wp:function(){return T},E8:function(){return $b},Mda:function(a){$b=a}}));lb=new vdb.c.f.K1(Y);Q.debug("init");ub=new vdb.c.a.AV(Y);new vdb.c.Za.aZ(b,Y);Lc=new vdb.c.AR.GZ(Y,b);(function(){Sb=A.ZL;A.MD(Kc);A.Sc(X.Jr,p);A.Sc(X.Ra,n);A.Sc(X.Lo,m);A.Sc(X.yb,
l);A.Sc(X.zi,n);A.Sc(X.Dc,k);A.Sc(X.zb,g);A.Sc(X.Ai,Tc);A.Sc(X.jf,Sc);A.Sc(X.om,jc);A.Sc(X.kf,ic);A.Sc(X.EL,wa);A.Sc(X.DL,Tb);A.Sc(X.eb,fb);A.Sc(X.mm,z);A.Sc(X.XB,v);A.Sc(X.Jo,f);A.Sc(X.rB,w);A.Sc(X.y1,h);U();var a;a=jb.j9();a=Ua||"undefined"===typeof a?Rb:a;A.setVolume(Uc());A.mute(a);a&&jb.Lf()})();(function(){var a,b=!1;na.bind(ha,"mouseenter",function(){clearTimeout(a);a=setTimeout(function(){d.dispatchEvent(F.bd,{interactionType:Ta.Nv})},1E3)});na.bind(ha,"mouseleave",function(){clearTimeout(a)});
na.bind(d,F.bd,function(a){a=(a.data||{}).interactionType;a!==Ta.Nv&&(b||(kb&&(kb.Ma(),kb=null),d.dispatchEvent(F.lJ),b=!0),a===Ta.Go&&(A.yd(),mc=!0,xb=null,Oa(),jb.Lf(),d.dispatchEvent(F.IB),Ec()))})})();db=new vdb.c.f.h0(A.vQ(),d);qc=new vdb.Za.t0(b);Dc=b.gd();sc=b.Ub();(function(){db.getCanAutoplay().then(function(b){b!==ob.LA||ya!==pa.ef&&!fc?b===ob.wv&&(a.Xz===lc.zk?kb=na.Ca(ha,"mouseover",ib):a.Xz===lc.jK&&(kb=na.group(na.bind(ha,"mouseover",ib),na.bind(ha,"mouseout",Ba))),kb?Ia(function(){Rb=
!0;jb.Lf()}):jb.Lf()):(xb||a.cA===Jc.lX||(Gc=!0),Ia())})})();return Y}})(vdb.c.a);window.create=function(c,d,b){var a=vdb.b,f=vdb.o.a.ui,g=new vdb.Ac.bB(vdb.n.AJ.sj,document,d);c=new vdb.c.a.f0(c,d,g,b.Qd);var h=b.$h,g=b.Qd,k=new vdb.n.dr(g);0===b.ya.videos.length&&(d.bk||k.FF("inreadexpander.js"))&&(h.adOnly=!0,g.videosToPlay=0);d={autoplay:g.initialization===f.ef,W7:g.fullscreenOnUnmute&&!!a.za(),wG:g.initialization===f.zk,volume:g.initialVolume,Xz:g.sound,cA:g.unmuteUx,Lq:g.videosToPlay||0,hy:g.controlsConfig,fb:b.fb,Ls:b.Ls,iia:g.autoPauseOutOfView,Vt:h.isAol,Lj:h.adOnly,uca:g.previewPoster||
vdb.c.o.MK.W0,aA:g.timelinepreview,Ya:g.coveringsHtml,qc:g.html5Skin,kea:!!g.shuffleVideos,$h:h};d.fb.DO=g.initialization===f.rv;d.fb.autoplay=d.autoplay||d.fb.DO;d.fb.volume=d.volume;d.fb.Ls=d.Ls;d.fb.Ska=g.publisherPayout;d.fb.Rka=g.publisherAmount;d.Lj&&(0<b.ya.videos.length&&(d.rO=b.ya.videos[0]),b.ya={videos:[]});d.kea&&vdb.f.W.jea(b.ya.videos);c.x6(d,b.ya);return c};
vdb.c.a.f0=vdb.xb.extend(function(){function c(a,b){var c=a;b.Ga.fO&&(c=k.createElement("div",{"class":"absolute-wrapper",style:"height: 100%;"},a));c=k.createElement("div",{id:"videos-container"},c);vdb.c.f.iB.Hda(c,b.Ga.wfa);return c}function d(a){return a?a+"px":"0"}function b(){var a=vdb.F.createElement("div");a.setAttribute("id","AolHtml5Player");k.za()?k.C(a,"mobile-mode"):k.C(a,"hover-enabled");k.Xt()&&k.C(a,"handset-mode");k.P(a,{position:"relative",overflow:"hidden",backgroundColor:this.i.bgColor,
width:"100%",height:"100%"});this.R.appendChild(a);return a}function a(){var a=this.i.gd();vdb.j.U.Ca(this,m.Ko,function(){a.display(this.hd())}.bind(this));this.addEventListener(m.lb,function(a){a.data.type!==vdb.o.nd.fg&&k.C(this.G,"ad-mode")}.bind(this));this.addEventListener(m.km,function(){}.bind(this));this.addEventListener(m.wi,function(){}.bind(this));this.addEventListener(m.BA,function(a){a.data&&a.data.type===vdb.o.nd.fg||k.N(this.G,"ad-mode")}.bind(this));this.addEventListener(m.Cc,function(){k.C(this.G,
"fullscreen-mode")}.bind(this));this.addEventListener(m.Lc,function(){k.N(this.G,"fullscreen-mode")}.bind(this));window.addEventListener("resize",function(){this.i.dispatchEvent(m.Ad)}.bind(this))}function f(){var a=this.i.Ub();a.ai(l.B0,this.G);a.Dl(l.CI,vdb.c.f.NJ);a.Dl(l.DI,vdb.c.f.II)}function g(a){if(a.altKey||a.touches&&3===a.touches.length)this.DR||this.Uaa?(this.DR.show(),this.l.pause()):(this.Uaa=!0,this.i.gu(vdb.g.KK.qZ,document).then(function(){this.DR=new vdb.n.NZ(this.i.J,this);this.l.isPlaying()&&
this.l.pause()}.bind(this))),a.stopPropagation()}var h=vdb.log.Q("Player"),k=vdb.b,l=vdb.o.ha,m=vdb.g.B;return{k:function(b,c,f,g){h.debug("create",{element:b,context:c,extraManager:f,uiTemplate:g});this._super();this.R=b;this.i=c;this.Di=f;this.Se=g;this.Se.backgroundFill&&(b="position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1;background-color:"+this.i.bgColor,b=vdb.F.jh("<div style='"+b+"'></div>"),this.R.appendChild(b));this.Se.backgroundSkin&&(b=this.Se.backgroundSkinLocation,b=
"position:absolute;"+("background-image:url("+this.Se.backgroundSkin+");")+(b&&(b.w||b.h)?"left:"+d(b.x)+";top:"+d(b.y)+";width:"+d(b.w)+";height:"+d(b.h):"left:0;top:0;width:100%;height:100%"),b=vdb.F.jh("<div style='"+b+"'></div>"),this.R.appendChild(b));a.call(this)},x6:function(a,d){h.debug("configure",a,d);this.hy=a.hy||{};vdb.F.na(".player-icon{vertical-align:top}.hover-enabled .poster-outer-container:hover .poster-control .player-icon{fill:#customColor}.player-spinner{display:inline-block;position:absolute;top:calc(50% - 41px);left:calc(50% - 41px);width:74px;height:74px;padding:4px;color:#customColor;background:rgba(34,34,34,0.5);border-radius:74px;z-index:5;-webkit-animation:rotate 1s linear infinite;-moz-animation:rotate 1s linear infinite;-ms-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite}@-ms-keyframes rotate{from{-ms-transform:rotate(0deg)}to{-ms-transform:rotate(360deg)}}@-moz-keyframes rotate{from{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(360deg)}}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}".replace(/#customColor/g,
this.Gd()));this.G=b.call(this);k.za()?this.G.addEventListener("touchstart",g.bind(this),!0):this.G.addEventListener("click",g.bind(this),!0);f.call(this);this.Nu=new vdb.c.a.jL(this.G);this.Yc=c.call(this,this.G,this.i);this.l=vdb.c.a.nP(this,this.i,a);new vdb.c.a.J1(this);vdb.j.addEventListener(this.G,"click",function(){this.dispatchEvent(m.FK)}.bind(this));this.oq(d)},hd:function(){var a,b;-1<this.R.className.indexOf("chrome-mode-hack")?(a=this.Se.playerWidth,b=this.Se.playerHeight):(a=this.R.offsetWidth,
b=this.R.offsetHeight);return{width:a,height:b}},dispatchEvent:function(a,b){var c={};"string"===typeof a?(c.type=a,c.tt=a,c.data=b):c=a;this._super(c)},oq:function(a){this.Di.fda();vdb.j.U.Ca(this.Di,vdb.j.oe.io,function(){this.Di.TF(this.l)}.bind(this));vdb.j.U.Ca(this.Di,vdb.j.oe.jo,function(){this.l.Oz(a,!0)}.bind(this));var b=new vdb.n.dr(this.Se,a);this.Di.nG(b.s9().concat(b.t9()))},sb:function(){return this.l.sb()},Na:function(){return this.R},kja:function(){return this.hy},Gd:function(){return this.i.J.Gd()},
S$:function(){return this.i.J.A.playerWidget.adOnly||!1},W$:function(){return this.i.J.A.brandedContent||!1}}}());vdb.n.CK=vdb.L.Class.extend(function(){function c(a){a.id!==this.KM&&this.M.mute(!0)}function d(){this.cO=void 0}function b(){"undefined"===typeof this.cO&&this.M.mute(!0)}function a(){h.call(this);this.M=null}function f(){q.Jb(this.fD,"pause-button-pp","play-button-pp")}function g(){r.show(this.X);q.Jb(this.fD,"play-button-pp","pause-button-pp")}function h(){this.M.reset();q.je(this.X)}function k(){var a=!this.M.muted();p.dispatchEvent("OverlayVideoController",{id:this.KM,muted:a});this.M.mute(a);
this.cO=setTimeout(d.bind(this),200);a?this.qd.TH():this.qd.mute()}function l(){q.Bb(this.fD,"play-button-pp")?this.M.play():this.M.pause()}var m=vdb.log.Q("OverlayVideoController"),n=vdb.g.B,p=new vdb.xb,s=0,q=vdb.b,r=vdb.f.W,t=q.za()?"touchstart":"click";return{k:function(d,v,w){m.debug("init");0===s&&vdb.F.na(".video-overlay-container.left-top{top:24px;left:24px}.video-overlay-container.right-top{top:68px;right:24px}.video-overlay-container.right-bottom{bottom:68px;right:24px}.video-overlay-container.left-bottom{bottom:68px;left:24px}.video-overlay-container{width:212px;height:120px;position:absolute;background-color:rgba(22,22,22,0.85);border-radius:4px;z-index:1}.video-overlay-container .video-container{width:202px;height:110px;left:4px;top:4px;position:relative}.video-overlay-container .control{position:absolute;cursor:pointer;z-index:4}.video-overlay-container .play-button-pp{left:-15px;bottom:-12px;width:45px;height:45px;background-color:rgba(22,22,22,0.85);border-radius:100%}.video-overlay-container .pause-button-pp{left:-15px;bottom:-12px;width:45px;height:45px;background-color:rgba(22,22,22,0.85);border-radius:100%}.video-overlay-container .swap-button-pp{left:32px;bottom:-8px;width:30px;height:30px;background-color:rgba(22,22,22,0.85);border-radius:100%}.swap-icon-pp{width:14px;height:14px;position:relative;top:8px;left:8px}.video-overlay-container .close-button-pp{width:23px;height:23px;top:-6px;right:-6px;background-color:#d0d0d0;border-radius:100%}.video-overlay-container .close-button-pp:hover{background-color:#fff}.overlay-play-button-rim{width:41px;height:41px;position:relative;top:2px;left:2px}.overlay-play-button-icon{width:8px;height:12px;bottom:24px;left:20px;position:relative}.overlay-pause-button-icon{width:12px;height:14px;bottom:25px;left:16px;position:relative}.play-button-pp .overlay-play-button-icon{display:block}.pause-button-pp .overlay-play-button-icon{display:none}.play-button-pp .overlay-pause-button-icon{display:none}.pause-button-pp .overlay-pause-button-icon{display:block}.close-icon-pp{width:9px;height:9px;top:7px;left:7px;position:relative}.close-icon-pp .player-icon{fill:#222}.play-button-pp:hover .player-icon,.swap-button-pp:hover .player-icon{fill:#fff}");
this.qd=v;this.KM=s++;this.X=q.createElement("div",{"class":"video-overlay-container "+(w||"right-bottom")},this.qd.$b());v=this.qd.ua();v.addEventListener(n.zh,b.bind(this));v.addEventListener(n.Dc,b.bind(this));p.addEventListener("OverlayVideoController",c.bind(this));r.Z(this.X);v=new vdb.c.a.video.qw;w=v.Na();var z=q.createElement("div",{"class":["video-container"]},this.X);q.P(w,{height:"100%",width:"100%"});z.appendChild(q.createElement("div",{"class":["video-area"]},this.X));z.appendChild(w);
v.Ic(d);v.mute(!0);v.yd();v.play();v.addEventListener(vdb.j.Ba.Ra,g.bind(this));v.addEventListener(vdb.j.Ba.zi,g.bind(this));v.addEventListener(vdb.j.Ba.yb,f.bind(this));v.addEventListener(vdb.j.Ba.eb,a.bind(this));this.M=v;d=q.createElement("div",{"class":["play-button-pp","control"]},this.X);q.createElement("div",{"class":"overlay-play-button-rim"},d,'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 41"><path d="M20.5,2.065c10.139,0,18.434,8.295,18.434,18.435c0,10.139-8.295,18.434-18.434,18.434 c-10.139,0-18.434-8.295-18.434-18.434C2.065,10.362,10.361,2.065,20.5,2.065 M20.5,0C9.171,0,0,9.171,0,20.5S9.171,41,20.5,41 S41,31.829,41,20.5S31.829,0,20.5,0L20.5,0z"/></svg> ');
q.createElement("div",{"class":"overlay-play-button-icon"},d,'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 10"><path d="M0,9.5C0,9,0,0.9,0,0.6c0-0.4,0.3-0.7,0.7-0.5c0.3,0.2,5.6,4.1,6.1,4.4c0.3,0.2,0.3,0.7,0,1 C6.4,5.7,1.1,9.7,0.7,9.9C0.4,10.2,0,9.9,0,9.5z"/></svg>');q.createElement("div",{"class":"overlay-pause-button-icon"},d,'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 10"><rect width="3" height="10"/><rect x="6" width="3" height="10"/></svg> ');
d.addEventListener(t,l.bind(this));this.fD=d;d=q.createElement("div",{"class":["swap-button-pp","control"]},this.X);q.createElement("div",{"class":"swap-icon-pp"},d,'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><polygon points="6.536,5.122 3.707,2.293 6,0 0,0 0,6 2.292,3.708 5.121,6.536 "/><polygon points="7.464,8.878 10.293,11.708 8,14 14,14 14,8 11.708,10.292 8.879,7.464 "/> "/></svg> ');d.addEventListener(t,k.bind(this));d=q.createElement("div",{"class":["close-button-pp",
"control"]},this.X);q.createElement("div",{"class":"close-icon-pp"},d,'<svg class="player-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9"><path class="st0" d="M7.3,0L9,1.7L1.7,9L0,7.3L7.3,0z"/><path class="st0" d="M1.7,0L9,7.3L7.3,9L0,1.7L1.7,0z"/></svg> ');d.addEventListener(t,h.bind(this))},Z:function(){this.M&&(this.M.pause(),r.Z(this.X))},show:function(){this.M&&(this.M.play(),r.show(this.X))}}}());vdb.fa={};vdb.fa.gf={P0:"share",xr:"reactions",mr:"like",Lv:"google",Jv:"facebook",hw:"twitter",Sv:"linkedin",rw:"weibo",qo:"embed",Ev:"email",pB:"link"};

document['bundledExtras'] = document['bundledExtras'] || {};
document['bundledExtras']['share'] = function () {
    vdb.fa.h1=vdb.L.Class.extend({k:function(c){this.da=c;this.Gx=vdb.f.Ao.create(["[VIDEO_ID]",function(){return encodeURIComponent(vdb.T.J.H.Qf())}],["[AOL_VIDEO_ID]",function(){var c=vdb.T.J.H.aa();return encodeURIComponent(c?c.tp||c.id:vdb.T.J.H.Qf())}])},resolve:function(c){switch(c){case "demo":return vdb.T.iF();case "client":return vdb.T.Jt();default:return this.Gx.join(this.da.vF()).resolve(c)}}});vdb.n.f1=vdb.n.Vb.extend({wa:function(c,d){this._super(c);d.bn().then(function(b){vdb.hla=new vdb.fa.g1(c.config||{},d,b)})}});vdb.registerExtra(vdb.n.f1);vdb.fa.Dk=vdb.L.Class.extend({k:function(c,d,b){this.zf=c;this.da=d;this.GT=b;this.K=d.ua();this.Gx=new vdb.fa.h1(d);this.Fh=vdb.T.gd();this.share=this.fa;this.getType=this.getType;this.getUrl=this.getUrl},Wi:function(){throw Error("Social Network sharer url is not specified");},Zja:function(){return"_blank"},fa:function(c){this.track();c?window.open(this.Wi(),"_blank","width="+c.width+",height="+c.height):"true"===this.GT?window.open(this.Wi(),"_blank","width=800,height=600"):window.open(this.Wi(),
"_blank");this.da.pause()},track:function(){var c=this.K.sb().currentTime||0;this.Fh.action(this.getType(),null,c)},getUrl:function(){return this.Gx.resolve(this.zf.url)},getType:function(){return""}});vdb.fa.eha={};vdb.fa.cha=vdb.fa.Dk.extend({k:function(c,d,b){this._super(c,d,b)},Q9:function(){return this.zf.title||"Check out this great video I am watching over at "},O9:function(){return this.zf.summary||this.K.l.aa().title||"Great video"},Wi:function(){return"https://www.linkedin.com/shareArticle?url={1}&title={2}&summary={3}".replace("{1}",encodeURIComponent(this.getUrl())).replace("{2}",encodeURIComponent(this.Q9()+" ")).replace("{3}",encodeURIComponent(this.O9()+" "))},getType:function(){return vdb.fa.gf.Sv}});vdb.fa.Nha=vdb.fa.Dk.extend({k:function(c,d,b){this._super(c,d,b)},Zm:function(){return this.zf.message||"Check out this great video I am watching over at"},Wi:function(){return"http://delivery.vidible.tv/social/redirect?socialUrl={0}&shareUrl={1}".replace("{0}",encodeURIComponent("https://twitter.com/intent/tweet?source=webclient&text="+encodeURIComponent(this.Zm()+" "))).replace("{1}",encodeURIComponent(this.getUrl()))},getType:function(){return vdb.fa.gf.hw}});vdb.fa.Uha=vdb.fa.Dk.extend({k:function(c,d,b){this._super(c,d,b)},Zm:function(){return this.zf.message||"Check out this great video I am watching over at"},Wi:function(){return"http://service.weibo.com/share/share.php?url={1}&appkey=&title={2}&pic=&ralateUid=&language=zh_cn".replace("{1}",encodeURIComponent(this.getUrl())).replace("{2}",encodeURIComponent(this.Zm()+" "))},getType:function(){return vdb.fa.gf.rw}});vdb.fa.Tga=vdb.fa.Dk.extend({k:function(c,d,b){this._super(c,d,b)},Wi:function(){return"http://www.facebook.com/sharer/sharer.php?u={}&display=popup".replace("{}",encodeURIComponent(this.getUrl()))},getType:function(){return vdb.fa.gf.Jv}});vdb.fa.Iga=vdb.fa.Dk.extend(function(){function c(a){f.warn("Load error!",a)}function d(){this.rt&&this.rt.Ma();this.rt=null;g.N(this.TN,"hide-upper-icons-wrapper");g.N(this.mM,"show-embed-wrapper")}function b(){this.rt||(this.rt=new vdb.j.ne);this.rt.Li(vdb.j.U.Ca(this.K,h.cf,d.bind(this)))}function a(a){f.debug("Load succeeded",a);this.lM.value=a.text.replace(/\\/g,"");g.N(this.kM,"embed-disabled-copy-btn")}var f=vdb.log.Q("Embed"),g=vdb.b,h=vdb.g.B,k;return{k:function(a,b,c){this._super(a,b,c)},
Bg:function(a,b,c,d){this.TN=a;this.mM=b;this.lM=c;this.kM=d},OD:function(){this.K.addEventListener(h.Kg,b.bind(this));this.K.addEventListener(h.sc,d.bind(this));this.K.addEventListener(h.Lg,d.bind(this))},fa:function(){this.track();var b=this.da.Qf();b!==k&&(k=b,b=vdb.T.Qp("ds")+"/embed/"+k+"/"+vdb.T.Ld+"/"+vdb.T.Ri+".js",this.lM.value="Loading...",g.C(this.kM,"embed-disabled-copy-btn"),vdb.te.get(b,null,a.bind(this),c.bind(this)));g.C(this.TN,"hide-upper-icons-wrapper");g.C(this.mM,"show-embed-wrapper")},
getType:function(){return vdb.fa.gf.qo}}}());vdb.fa.Hga=vdb.fa.Dk.extend({k:function(c,d,b){this.da=d;this._super(c,d,b)},Zm:function(){return this.da.kQ()||this.zf.message||"Interesting video!"},yF:function(c){return c?c.split(" ").slice(0,5).join(" "):this.zf.message||"Interesting video!"},Wi:function(){return"mailto:?subject={0}&body={1}".replace("{0}",encodeURIComponent(this.yF())).replace("{1}",encodeURIComponent(this.Zm()+"\r\n\r\n"+this.getUrl()))},K8:function(c,d,b){var a=d||this.Zm(d);return b?"mailto:?subject={0}&body={1}".replace(":?",
":"+encodeURIComponent(c)+"?").replace("{0}",encodeURIComponent(this.yF(d))).replace("{1}",encodeURIComponent(a+"\r\n\r\n"+this.getUrl(b))):"mailto:?subject={0}&body={1}".replace(":?",":"+encodeURIComponent(c)+"?").replace("{0}",encodeURIComponent(this.yF())).replace("{1}",encodeURIComponent(a+"\r\n\r\n"+this.getUrl(b)))},Gu:function(c,d,b){c=this.K8(c,d,b);this.track();this.da.pause();window.open(c,vdb.b.Ve()?"_blank":"_top","true"===this.GT?"width=800,height=600":"")},getType:function(){return vdb.fa.gf.Ev},
getUrl:function(c){var d=this.zf.url?this.Gx.resolve(this.zf.url):vdb.f.Nc.fe();-1===d.indexOf("?")&&c?d+="?t="+vdb.b.Wu(c):c&&(d+="&t="+vdb.b.Wu(c));return d}});vdb.fa.Uga=vdb.fa.Dk.extend({k:function(c,d,b){this._super(c,d,b)},Wi:function(){return"https://plus.google.com/share?url={0}".replace("{0}",encodeURIComponent(this.getUrl()))},getType:function(){return vdb.fa.gf.Lv}});vdb.fa.dha=vdb.fa.Dk.extend({k:function(c,d,b){this._super(c,d,b)},Zm:function(){return""},Wi:function(){return""},getType:function(){return vdb.fa.gf.pB},b9:function(c,d,b){return vdb.f.Vd.wd(this.zf.url)||"client"===this.zf.url?b?vdb.T.Gy()+"/"+c+"/?t="+vdb.b.Wu(b):vdb.T.Gy()+"/"+c:this.zf.url}});vdb.fa.g1=vdb.L.Class.extend(function(){function c(){var a={},b;for(b in vdb.fa)if(Object.prototype.hasOwnProperty.call(vdb.fa,b)){var c=vdb.fa[b],d=c.prototype&&c.prototype.getType;"undefined"!==typeof d&&-1<f.indexOf(d())&&(d=c.prototype.getType().toLowerCase(),a[d]=c)}return a}function d(b,c){var d=c.toLowerCase();return d!==a.mr||!this.bQ&&"5 Image Reactions"!==b[c].Type?d:a.xr}var b=vdb.log.Q("share.SharingManager"),a=vdb.fa.gf,f=[a.xr,a.mr,a.Jv,a.hw,a.Sv,a.Lv,a.rw,a.Ev,a.qo,a.pB];return{k:function(a,
h,k){var l=c();(this.bQ=vdb.f.Ua.fc("forcereactions")||vdb.T.pa(vdb.g.Xa.lY)||!1)&&(a.Like={enabled:"true",Type:"5 Image Reactions",Location:"Over Content and Ad"});b.debug("Supported social networks: ",l);var m=[],n;for(n in a)if(Object.prototype.hasOwnProperty.call(a,n)){var p=a[n],s=a.openInSmallWindow,q=d.call(this,a,n);if("true"===p.enabled){var r=p.url;r&&"sharingUrl"!==r||(p.url=a.sharingUrl||"client");(r=l[q])?(m[f.indexOf(q)]=new r(p,h,s),b.debug("Found social network:",q)):b.warn("Ignore non-supported social network: "+
n);p.type=q;p.name=n}else b.debug("Skip disabled social network:",q)}m=m.filter(function(a){return a});b.info("set social networks",m);k.setSocialNetworks(m,"true"===a.showOnAd,a.Like&&a.Like.Location,a.sharePosition)}}}());

};

document['bundledExtras'] = document['bundledExtras'] || {};
document['bundledExtras']['comscorestreamsense'] = function () {
    vdb.n.HW=vdb.n.Vb.extend(function(){function c(a){this.H=a;window.ns_?d.call(this):vdb.F.Kd(this.D.ye("player/js/17.21.1380/lib/ComScore.StreamSense.js")).then(d.bind(this))}function d(){n.debug("Load complete");this.ay=this.a.$h.isAol?(this.a.A.bcInfo||{}).oo?"1000009":"6473742":p.clientId;this.Zh=this.D.J.H;this.ay&&(this.Zh.addEventListener(vdb.g.B.lb,f.bind(this)),this.Zh.addEventListener(vdb.g.B.Gf,l.bind(this)),this.Zh.addEventListener(vdb.g.B.Wd,m.bind(this)),this.Zh.addEventListener(vdb.g.B.sc,
a.bind(this)),this.Zh.addEventListener(vdb.g.B.Ra,b.bind(this)),this.Zh.addEventListener(vdb.g.B.yb,a.bind(this)),this.Zh.addEventListener(vdb.g.B.eb,a.bind(this)));this.bf()}function b(){var a=h.call(this,{ns_st_cl:this.Ie.metadata.duration,ns_st_st:this.Ie.ila||"*null",ns_st_pu:this.Ie.bS||"Unknown_AOL_Partner",ns_st_pr:this.Ie.Pu||"",ns_st_ep:this.Ie.title||"Unknown_Video",ns_st_sn:this.Ie.ala||"*null",ns_st_en:this.Ie.Mia||"*null",ns_st_ge:"*null",ns_st_ti:"*null",ns_st_ia:0,ns_st_ce:1,ns_st_ddt:"*null",
ns_st_tdt:"*null"});this.LH.playVideoContentPart(a,window.ns_.StreamingTag.ContentType[this.Ie.metadata.live?"Live":this.qR?"LongFormOnDemand":"ShortFormOnDemand"]);n.debug("playVideoContentPart",a)}function a(){this.Ie&&this.LH.stop()}function f(a){if(this.Ie){var b=a.data.adType;if(vdb.b.contains(q,b)){a=h.call(this,{ns_st_cl:1E3*(isNaN(a.data.duration)?0:a.data.duration)});switch(b){case q.uc:b="LinearOnDemandPreRoll";break;case q.Rb:b="LinearOnDemandMidRoll";break;case q.R_:b="LinearOnDemandPostRoll";
break;default:b="Other"}this.LH.playVideoAdvertisement(a,window.ns_.StreamingTag.AdType[b]);n.debug("playVideoAdvertisement",a)}}}function g(a,b){var c;b&&(c=b[a]);return c||p[a]}function h(a){var b,c;c=this.a.$h.isAol;a.ns_st_ci=(this.Ie.tp||this.Ie.id)+"";if(c)a.c3=p.c3||this.Ux,a.c4=this.W5,a.c6=this.Vx;else{c="c1 c3 c4 c6 c7 c8 c9 ns_st_ty bb_pub_d".split(" ");a.c3="*null";a.c4="*null";a.c6="*null";for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b=c[d],p[b]&&(a[b]=p[b]))}d=this.Ie.Q6||
{};c=this.D.pa(r.YI)||null;b=p.csca2||p.stackedClientId;b=!b||c&&"true"!==p.csca2p?c:b;c=this.D.pa(r.uW)||null;var f=d.accountId||d.ca2,h=!!d.p||!!d.priority;if(b=(void 0!==f&&null!==f&&h?f:b||f)||null){a.ca2=b;a.ca_ns_st_ty=p.ca_ns_st_ty;a.ca_bb_pub_d=p.ca_bb_pub_d;f=["ca1","ca7","ca8","ca9"];for(h=0;h<f.length;h++)p[f[h]]&&(a[f[h]]=p[f[h]]);a.ca3=k(g("ca3",d))||this.Ux;a.ca4=b===this.D.pa(r.YI)&&c?c:k(g("ca4",d))||s;a.ca6=k(g("ca6",d))||this.Vx}return a}function k(a){a&&(a=a.split("+").join(" "));
return a}function l(){this.LH=new window.ns_.StreamingTag({customerC2:this.ay});var a=(this.a.A.bcInfo||{}).oo;this.Pa=0;this.qR=!1;this.Ux="Unknown_Category_ID";this.W5=this.D.pa(r.LI)||vdb.b.q8();this.Vx=a?"Unknown_Category":"*null";m.call(this)}function m(){if(this.Ie=this.Zh.aa()){var a=this.Ie.metadata.duration;this.Pa=isNaN(a)?0:a/1E3;this.qR=10<this.Pa/60;this.Ux=(this.Ie.e6||"").split(",")[0]||this.Ux;this.Vx=this.Ie.XD||this.Vx}}var n=vdb.log.Q("ComScoreStreamSense"),p,s=vdb.f.Ua.il(vdb.f.Nc.fe()),
q={uc:"Preroll",Rb:"Midroll",R_:"Postroll"},r=vdb.g.Xa,t=vdb.g.Sd;return{wa:function(a){this.D=window.vdb.T;this.a=this.D.getPlayer();this.a.$h.adOnly?this.bf():(n.debug("Init extra"),p=a.config||{},this.D.J.H?c.call(this,this.D.J.H):this.D.addEventListener(t.Ud,c.bind(this)))}}}());vdb.registerExtra(vdb.n.HW);

};

document['bundledExtras'] = document['bundledExtras'] || {};
document['bundledExtras']['akamai_sola'] = function () {
    vdb.n.BV=vdb.n.Vb.extend(function(){function c(a){f.call(this);this.ZN.setAttribute("data-isad","false");a=a.data;var b=!!this.tN.aa().metadata.live,c=a.title;a={title:c,category:a.pia||"",show:a.vea||"",contentLength:b?"":a.duration,device:this.I3,deliveryType:b?"L":"O",playerId:"Aol Html5 Player O2",imid:this.V3,vvuid:this.a5,context:this.bM,AAcontext:this.bM,eventName:c};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&window.setAkamaiMediaAnalyticsData(d,a[d])}function d(a){var b=a.data.currentTime;
if(0<b&&(b=this.Jj.sF(b),this.gM<b&&4>=b)){this.gM++;switch(b){case 1:window.akamaiHandleAdFirstQuartile();break;case 2:window.akamaiHandleAdMidPoint();break;case 3:window.akamaiHandleAdThirdQuartile();break;case 4:window.akamaiHandleAdCompleted()}d.call(this,a)}}function b(a){"Preroll"===a.data.adType&&(window.akamaiHandleAdLoaded({adTitle:a.data.title,adDuration:a.data.duration}),this.Jj.Pn(a.data.duration),window.akamaiHandleAdStarted())}function a(a){"Preroll"===a.data.type&&(this.gM=0,this.ZN.setAttribute("data-isad",
"true"))}function f(){this.ZN=vdb.c.a.Jc.pb().Na()}function g(){this.bf()}function h(a){this.tN=a}var k=vdb.log.Q("AkamaiSola"),l=vdb.T.ye("player/js/17.21.1380/lib/akamaihtml5-min.js"),m=vdb.g.B,n=vdb.g.Sd;return{wa:function(p,s){k.debug("Init extra");this.K=s.ua();this.Aw=vdb.T.J;var q=!!(new vdb.u.mo(this.Aw.ya)).aa().metadata.live;if(q){this.Aw.H?this.tN=this.Aw.H:vdb.T.addEventListener(n.Ud,h.bind(this));var r=vdb.T.jl(),t=this.Aw.Px;this.V3=r.imid;this.a5=r.vvuid;this.I3=vdb.b.za()?vdb.b.Da.platform.name:
"pc";this.bM=t.sid&&t.skey?t.sid+"-"+t.skey:"";this.K.addEventListener(m.cf,a.bind(this));this.K.addEventListener(m.$c,f.bind(this));this.K.addEventListener(m.lb,b.bind(this));this.K.addEventListener(m.md,d.bind(this));this.K.addEventListener(m.Mc,c.bind(this));this.Jj=new vdb.Gl.$B;window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=vdb.T.mc.Ce()?q?"https://ma180-r.analytics.edgekey.net/config/beacon-7771.xml":"https://ma180-r.analytics.edgekey.net/config/beacon-7767.xml":q?"http://ma180-r.analytics.edgesuite.net/config/beacon-6527.xml":
"http://ma180-r.analytics.edgesuite.net/config/beacon-6327.xml";vdb.F.Kd(l).then(g.bind(this))}else this.bf()}}}());vdb.registerExtra(vdb.n.BV);

};
